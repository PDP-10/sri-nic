














                                  TOPS-20
                              Operator's Guide



                     VERSION 6.0 INTERIM RELEASE DRAFT






                               December, 1984

                  This manual gives the  operator  a  task
                  oriented reference for using the TOPS-20
                  operating system and a brief description
                  about  the  hardware  supported  by  the
                  TOPS-20 operating system.

|                 This version of the  guide  revises  the
                  document  having  these  order  numbers,
|                 AA-4176D-TM,  AD-4176D-T1,  AD-4176D-T2,
|                 AA-4176D-T3, and AA-4176E-TM.

   OPERATING SYSTEM:|  OPERATING SYSTEM:                TOPS-20 (KL Model B), V6




























                                     1



                                               First Printing, March 1976
                                                     Revised, August 1976
                                                        Updated, May 1977
                                                    Revised, January 1978
                                                    Revised, January 1980
                                                   Updated, December 1980
                                                      Updated, April 1982
                                                   Updated, December 1982
|                                                  Revised, December 1984



   The information in this document is subject to change  without  notice
   and  should  not  be  construed  as  a commitment by Digital Equipment
   Corporation.  Digital Equipment Corporation assumes no  responsibility
   for any errors that may appear in this document.

   The software described in this document is furnished under  a  license
   and  may  only  be used or copied in accordance with the terms of such
   license.

   No responsibility is assumed for the use or reliability of software on
   equipment that is not supplied by DIGITAL or its affiliated companies.





|  Copyright  C , 1976, 1978, 1980, 1984, Digital Equipment Corporation.
                            All Rights Reserved.





   The postage-prepaid READER'S COMMENTS form on the last  page  of  this
   document  requests  the  user's  critical  evaluation  to assist us in
   preparing future documentation.

   The following are trademarks of Digital Equipment Corporation:

        DEC                 DECnet              IAS
        DECUS               DECsystem-10        MASSBUS
        Digital Logo        DECSYSTEM-20        PDT
        PDP                 DECwriter           RSTS
        UNIBUS              DIBOL               RSX
        VAX                 EduSystem           VMS
                                                VT


















                                     2




                                    PART ONE                                    PART ONE



                                      CONTENTS



   CHAPTER 1       HOW TO USE THIS MANUAL  


   CHAPTER 2       RESPONSIBILITIES OF THE OPERATOR  

           2.1     DOCUMENTATION  . . . . . . . . . . . . . . . . . . 2-1
           2.1.1     Documentation Supplied by DIGITAL  . . . . . . . 2-1
           2.1.2     Documentation Written at Your Installation . . . 2-2
           2.1.3     Documentation Written by Operators . . . . . . . 2-2
           2.2     OPERATOR'S TASKS . . . . . . . . . . . . . . . . . 2-2
           2.2.1     Hardware Tasks . . . . . . . . . . . . . . . . . 2-2
           2.2.2     Software Tasks . . . . . . . . . . . . . . . . . 2-2
   INDEX



                                    PART TWO                                    PART TWO



                                      CONTENTS



   CHAPTER 1       HARDWARE

           1.1     OVERVIEW . . . . . . . . . . . . . . . . . . . . . 1-1
           1.2     CENTRAL PROCESSORS . . . . . . . . . . . . . . . . 1-4
           1.3     MEMORY . . . . . . . . . . . . . . . . . . . . . . 1-4
           1.4     DATA CHANNELS AND CONTROLLERS  . . . . . . . . . . 1-4
           1.5     CONSOLE FRONT-END PROCESSOR (2040S, 2060)  . . . . 1-8
           1.6     FLOPPY DISKS . . . . . . . . . . . . . . . . . . . 1-8
           1.7     PERIPHERALS  . . . . . . . . . . . . . . . . . . . 1-9
           1.7.1     Line Printers  . . . . . . . . . . . . . . . . . 1-9
           1.7.2     Card Readers . . . . . . . . . . . . . . . . .  1-11
           1.7.3     Disk Packs . . . . . . . . . . . . . . . . . .  1-11
           1.7.4     Magnetic Tape  . . . . . . . . . . . . . . . .  1-12
           1.7.5     Terminals  . . . . . . . . . . . . . . . . . .  1-13


   CHAPTER 2       SOFTWARE

           2.1     OPERATING SYSTEMS AND OTHER MAJOR SOFTWARE 
                   COMPONENTS . . . . . . . . . . . . . . . . . . . . 2-1
           2.2     LANGUAGES  . . . . . . . . . . . . . . . . . . . . 2-1
           2.3     UTILITIES  . . . . . . . . . . . . . . . . . . . . 2-1


   FIGURES

           1-1     TX03/TX05 Tape Switch Options  . . . . . . . . . . 1-7






                                     3



   TABLES

           1-1     Line Printer Identification  . . . . . . . . . .  1-10
           1-2     LP20 Printer Models  . . . . . . . . . . . . . .  1-10
           1-3     CD20 Card-Reader Models  . . . . . . . . . . . .  1-11
           1-4     Magnetic Tape Drives . . . . . . . . . . . . . .  1-13
           1-5     Terminals  . . . . . . . . . . . . . . . . . . .  1-14



                                   PART THREE                                   PART THREE



                                      CONTENTS



   CHAPTER 1       LINE PRINTERS

           1.1     DISTRIBUTING LISTINGS  . . . . . . . . . . . . . . 1-1
           1.2     CHANGING PAPER AND FORMS . . . . . . . . . . . .  1-10
           1.2.1     LP05 or LP14 Procedure . . . . . . . . . . . .  1-10
           1.2.2     LP07 Procedure . . . . . . . . . . . . . . . .  1-14
           1.2.3     LP10 Procedure . . . . . . . . . . . . . . . .  1-19
           1.3     CHANGING AND REVERSING THE RIBBON  . . . . . . .  1-22
           1.3.1     LP05 or LP14 Procedure . . . . . . . . . . . .  1-23
           1.3.2     LP07 Procedure . . . . . . . . . . . . . . . .  1-26
           1.3.3     LP10 Procedure . . . . . . . . . . . . . . . .  1-27
           1.4     CONTROLLING THE VERTICAL FORMAT UNIT . . . . . .  1-29
           1.4.1     LP05 or LP14 Procedure . . . . . . . . . . . .  1-29
           1.4.2     LP07 Procedure . . . . . . . . . . . . . . . .  1-29
           1.4.3     LP10 Procedure . . . . . . . . . . . . . . . .  1-30
           1.5     CONTROLLING THE CHARACTER TRANSLATION RAM  . . .  1-34
           1.6     CLEANING THE LINE PRINTER  . . . . . . . . . . .  1-34


   CHAPTER 2       MAGNETIC TAPES

           2.1     MOUNTING AND DISMOUNTING MAGNETIC TAPES  . . . . . 2-1
           2.1.1     TU45 Mounting Procedure  . . . . . . . . . . . . 2-1
           2.1.2     TU45 Dismounting Procedure . . . . . . . . . . . 2-3
           2.1.3     TU70, TU71, or TU72 Mounting Procedure . . . . . 2-3
           2.1.4     TU70, TU71, or TU72 Dismounting Procedure  . . . 2-6
           2.1.5     TU77 and TU78 Mounting Procedure . . . . . . . . 2-6
           2.1.5.1     Autoload Procedure   . . . . . . . . . . . . . 2-8
           2.1.5.2     Manual Procedure . . . . . . . . . . . . . .  2-12
           2.1.6     TU77 and TU78 Dismounting Procedure  . . . . .  2-13
           2.2     CLEANING MAGNETIC TAPE DRIVES  . . . . . . . . .  2-13


   CHAPTER 3       CARD READER

           3.1     LOADING AND UNLOADING CARDS  . . . . . . . . . . . 3-1
           3.2     CLEANING THE CARD READER . . . . . . . . . . . . . 3-5


   CHAPTER 4       DISK DRIVES

           4.1     MOUNTING AND DISMOUNTING DISK PACKS  . . . . . . . 4-1
           4.1.1     Mounting RP04 or RP06 Disk Packs . . . . . . . . 4-1
           4.1.2     Dismounting RP04 or RP06 Disk Packs  . . . . . . 4-1
           4.1.3     Powering Up an RP20 Disk System  . . . . . . . . 4-2
           4.1.4     Powering Down an RP20 Disk System  . . . . . . . 4-2


                                     4



           4.1.5     Starting an RP20 Disk Drive  . . . . . . . . . . 4-2
           4.1.6     Stopping an RP20 Disk Drive  . . . . . . . . . . 4-3
           4.1.7     Starting an RP07 Disk Drive  . . . . . . . . . . 4-4
           4.1.8     Stopping an RP07 Disk Drive  . . . . . . . . . . 4-4
           4.1.9     Mounting RA60 Disk Packs . . . . . . . . . . . . 4-4
           4.1.10    Dismounting RA60 Disk Packs  . . . . . . . . . . 4-4
           4.1.11    Starting an RA60 or RA81 Disk Drive  . . . . . . 4-5
           4.1.12    Stopping an RA60 or RA81 Disk Drive  . . . . . . 4-5
           4.1.13    Powering up an HSC50 Disk Controller . . . . . . 4-5
           4.1.14    Powering Down an HSC50 Disk Controller . . . . . 4-5
           4.2     CLEANING DISK PACKS AND DRIVES . . . . . . . . . . 4-6
           4.3     FORMATTING DISK PACKS  . . . . . . . . . . . . .  4-11


   CHAPTER 5       FLOPPY DISKS

           5.1     INSERTING AND REMOVING FLOPPY DISKS  . . . . . . . 5-1
           5.2     HANDLING FLOPPY DISKS  . . . . . . . . . . . . . . 5-1


   FIGURES

           1-1     LP05 Line Printer  . . . . . . . . . . . . . . . . 1-3
           1-2     LP14 Line Printer  . . . . . . . . . . . . . . . . 1-5
           1-3     LP07 Line Printer  . . . . . . . . . . . . . . . . 1-7
           1-4     LP10 Line Printer  . . . . . . . . . . . . . . . . 1-9
           1-5     LP05 or LP14 Paper Installation  . . . . . . . .  1-12
           1-6     LP05 or LP14 Forms Alignment . . . . . . . . . .  1-13
           1-7     LP07 Paper Installation  . . . . . . . . . . . .  1-16
           1-8     LP07 Forms Alignment . . . . . . . . . . . . . .  1-18
           1-9     LP10 Paper Installation  . . . . . . . . . . . .  1-22
           1-10    LP05 or LP14 Ribbon Installation . . . . . . . .  1-25
           1-11    LP07 Ribbon Installation . . . . . . . . . . . .  1-27
           1-12    LP10 Ribbon Installation . . . . . . . . . . . .  1-29
           2-1     TU45 Magnetic Tape Drive . . . . . . . . . . . . . 2-2
           2-2     TU70, TU71, or TU72 Magnetic Tape Drive  . . . . . 2-5
           2-3     TX03/05 Switch . . . . . . . . . . . . . . . . . . 2-6
           2-4     Autoload/Manual Load Section . . . . . . . . . . . 2-7
           2-5     TU77 Magnetic Tape Drive . . . . . . . . . . . .  2-10
           2-90    Tape Path and Controls . . . . . . . . . . . . .  2-11
           3-1     CR10-E Card Reader . . . . . . . . . . . . . . . . 3-2
           3-2     CR10-F Card Reader . . . . . . . . . . . . . . . . 3-4
           4-1     RP04 Disk Drive  . . . . . . . . . . . . . . . . . 4-6
           4-2     RP06 Disk Drive  . . . . . . . . . . . . . . . . . 4-7
           4-3     RP20 Disk Drive  . . . . . . . . . . . . . . . . . 4-8
           4-5     RP07 Disk Drive  . . . . . . . . . . . . . . . .  4-10
           5-1     Floppy Disk  . . . . . . . . . . . . . . . . . . . 5-2


   TABLES

           1-1     Standard LP10 Line Printer Carriage Tape . . . .  1-31
           1-2     Standard LP10 Line-Printer Vertical Action . . .  1-33



                                    PART FOUR                                    PART FOUR




                                      CONTENTS




                                     5



   CHAPTER 1       STARTING THE HARDWARE SYSTEM

           1.1     POWERING UP THE SYSTEM . . . . . . . . . . . . . . 1-3
           1.2     LOADING THE SYSTEM . . . . . . . . . . . . . . . . 1-4
           1.2.1     Loading from Disk Pack . . . . . . . . . . . . . 1-7
           1.2.2     Loading from Floppy Disks  . . . . . . . . . .  1-11
           1.2.3     Loading Via the Switch Register  . . . . . . .  1-15
           1.3     LOADING THE TOPS-20 MONITOR  . . . . . . . . . .  1-19
           1.3.1     Loading TOPS-20 from a Disk Pack with BOOT . .  1-19
           1.3.2     Loading TOPS-20 from Magnetic Tape with MTBOOT  1-19
           1.4     ANSWERING MONITOR START-UP QUESTIONS . . . . . .  1-20
           1.5     READYING THE SYSTEM FOR TIMESHARING  . . . . . .  1-23
           1.5.1     Timesharing with Operator Coverage . . . . . .  1-25
           1.5.2     Timesharing without Operator Coverage  . . . .  1-26


   FIGURES

           1-1     Load Switches and Switch Register  . . . . . . . . 1-2


   TABLES

           1-1     Switch Register Bit Definitions  . . . . . . . .  1-16



                                    PART FIVE                                    PART FIVE




                                      CONTENTS



   CHAPTER 1       THE OPERATOR INTERFACE, OPR

           1.1     INTRODUCTION TO THE OPERATOR INTERFACE . . . . . . 1-1
           1.2     RUNNING OPR  . . . . . . . . . . . . . . . . . . . 1-1
           1.2.1     Remote Operator Control  . . . . . . . . . . . . 1-4
           1.2.2     Multiple Operators on the System . . . . . . . . 1-4
           1.3     OPR COMMAND FEATURES . . . . . . . . . . . . . . . 1-5
           1.3.1     ? (Question Mark) - Listing Available Commands . 1-5
           1.3.2     ESCape - Using Recognition . . . . . . . . . . . 1-6
           1.3.3     CTRL/H - Reprinting Faulty Commands  . . . . . . 1-7
           1.3.4     Getting Help from OPR  . . . . . . . . . . . . . 1-7
           1.4     ORION TO OPR MESSAGES  . . . . . . . . . . . . . . 1-8
           1.4.1     Controlling OPR Message Output . . . . . . . . . 1-9
           1.5     OPR ERROR MESSAGE DESCRIPTIONS . . . . . . . . .  1-11


   CHAPTER 2       BATCH SOFTWARE TASKS

           2.1     BATCH SYSTEM COMPONENTS  . . . . . . . . . . . . . 2-1
           2.2     BATCH RESPONSIBILITIES . . . . . . . . . . . . . . 2-2
           2.3     CONTROLLING BATCH STREAMS  . . . . . . . . . . . . 2-3
           2.3.1     Setting Batch Stream Parameters  . . . . . . . . 2-3
           2.3.2     Starting Batch Streams . . . . . . . . . . . . . 2-4
           2.3.3     Stopping Batch Streams Temporarily . . . . . . . 2-5
           2.3.4     Continuing Batch Streams . . . . . . . . . . . . 2-5
           2.3.5     Shutting Down Batch Streams  . . . . . . . . . . 2-5
           2.3.6     Sending Messages to Batch Streams  . . . . . . . 2-6
           2.3.7     Displaying Batch Stream Parameters . . . . . . . 2-7


                                     6



           2.3.8     Displaying Batch Stream Status . . . . . . . . . 2-7
           2.4     CONTROLLING BATCH JOBS . . . . . . . . . . . . . . 2-8
           2.4.1     Examining Batch Jobs in the Queues . . . . . . . 2-8
           2.4.2     Holding Batch Jobs . . . . . . . . . . . . . .  2-10
           2.4.3     Releasing Batch Jobs . . . . . . . . . . . . .  2-11
           2.4.4     Canceling Batch Jobs . . . . . . . . . . . . .  2-11
           2.4.5     Requeuing Batch Jobs . . . . . . . . . . . . .  2-12
           2.4.6     Modifying Batch Requests . . . . . . . . . . .  2-12
           2.4.7     Deleting Batch Requests  . . . . . . . . . . .  2-13
           2.4.8     Scheduling the Next Batch Request  . . . . . .  2-13
           2.5     CONTROLLING THE LINE PRINTER . . . . . . . . . .  2-13
           2.5.1     Setting the Line Printer . . . . . . . . . . .  2-14
           2.5.2     Starting the Line Printer  . . . . . . . . . .  2-15
           2.5.3     Stopping the Line Printer Temporarily  . . . .  2-16
           2.5.4     Continuing the Line Printer  . . . . . . . . .  2-16
           2.5.5     Shutting Down the Line Printer . . . . . . . .  2-16
           2.5.6     Displaying Line Printer Parameters . . . . . .  2-17
           2.5.7     Displaying Line Printer Status . . . . . . . .  2-18
           2.6     CONTROLLING FORMS ON THE LINE PRINTER  . . . . .  2-18
           2.6.1     The LPFORM.INI File  . . . . . . . . . . . . .  2-20
           2.6.2     Aligning Forms on the Line Printer . . . . . .  2-23
           2.6.3     Backspacing Forms on the Line Printer  . . . .  2-24
           2.6.4     Forwardspacing Forms on the Line Printer . . .  2-25
           2.6.5     Suppressing Carriage Control on the Line 
                     Printer  . . . . . . . . . . . . . . . . . . .  2-26
           2.7     CONTROLLING LINE PRINTER JOBS  . . . . . . . . .  2-27
           2.7.1     Examining Printer Jobs in the Queues . . . . .  2-27
           2.7.2     Holding Printer Jobs . . . . . . . . . . . . .  2-29
           2.7.3     Releasing Printer Jobs . . . . . . . . . . . .  2-29
           2.7.4     Canceling Printer Jobs . . . . . . . . . . . .  2-30
           2.7.5     Requeuing Printer Jobs . . . . . . . . . . . .  2-30
           2.7.6     Modifying Printer Requests . . . . . . . . . .  2-31
           2.7.7     Deleting Printer Requests  . . . . . . . . . .  2-31
           2.7.8     Sending Line Printer Output to Tape  . . . . .  2-32
           2.8     CONTROLLING THE CARD READER  . . . . . . . . . .  2-35
           2.8.1     Starting the Card Reader . . . . . . . . . . .  2-35
           2.8.2     Stopping the Card Reader . . . . . . . . . . .  2-36
           2.8.3     Continuing the Card Reader . . . . . . . . . .  2-36
           2.8.4     Shutting Down the Card Reader  . . . . . . . .  2-36
           2.8.5     Displaying Card Reader Status  . . . . . . . .  2-37
           2.9     CONTROLLING CARD READER JOBS . . . . . . . . . .  2-38
           2.10    CONTROLLING OTHER OUTPUT DEVICES . . . . . . . .  2-39
           2.10.1    Setting Output Devices . . . . . . . . . . . .  2-40
           2.10.2    The SPFORM.INI File  . . . . . . . . . . . . .  2-41
           2.10.3    Starting Output Devices  . . . . . . . . . . .  2-44
           2.10.4    Stopping Output Devices  . . . . . . . . . . .  2-44
           2.10.5    Continuing Output Devices  . . . . . . . . . .  2-45
           2.10.6    Shutting Down Output Devices . . . . . . . . .  2-45
           2.10.7    Displaying Output Device Parameters  . . . . .  2-45
           2.10.8    Displaying Output Device Status  . . . . . . .  2-46
           2.11    CONTROLLING JOBS ON OUTPUT DEVICES . . . . . . .  2-47
           2.11.1    Examining Output Device Jobs in the Queues . .  2-47
           2.11.2    Holding Output Device Jobs . . . . . . . . . .  2-50
           2.11.3    Releasing Output Device Jobs . . . . . . . . .  2-50
           2.11.4    Canceling Output Device Jobs . . . . . . . . .  2-51
           2.11.5    Requeuing Output Device Jobs . . . . . . . . .  2-51
           2.11.6    Modifying Output Device Requests . . . . . . .  2-52
           2.11.7    Deleting Output Device Requests  . . . . . . .  2-53
           2.11.8    Scheduling the Next Output Device Request  . .  2-53


   CHAPTER 3       UNSCHEDULED SOFTWARE TASKS

           3.1     CONTROLLING THE SCHEDULER  . . . . . . . . . . . . 3-1


                                     7



           3.1.1     Changing Class Scheduling  . . . . . . . . . . . 3-1
           3.1.1.1     Changing a Job's Scheduling Class  . . . . . . 3-1
           3.1.2     Changing Batch-Class Scheduling  . . . . . . . . 3-2
           3.1.3     Changing Bias-Control Scheduling . . . . . . . . 3-2
           3.1.4     Displaying Scheduler Status  . . . . . . . . . . 3-3
           3.2     SETTING DEVICES ON-LINE  . . . . . . . . . . . . . 3-3
           3.3     CONTROLLING THE ORION LOG BUFFER FILE  . . . . . . 3-5
           3.4     INITIALIZING TAPES . . . . . . . . . . . . . . . . 3-6
           3.5     HANDLING USER MOUNT REQUESTS . . . . . . . . . .  3-10
           3.5.1     Displaying Tape Drive Status . . . . . . . . .  3-12
           3.5.2     Controlling Automatic Volume Recognition (AVR)  3-14
           3.5.3     Mounting Labeled Tapes with AVR Enabled  . . .  3-15
           3.5.4     Mounting Labeled Tapes With AVR Disabled . . .  3-16
           3.5.5     Mounting Unlabeled Tapes . . . . . . . . . . .  3-16
           3.5.6     Canceling Mount Requests . . . . . . . . . . .  3-18
           3.5.7     Setting Tape Drives Available or Unavailable .  3-18
           3.6     ARCHIVING FILES WITH DUMPER  . . . . . . . . . .  3-19
           3.7     RUNNING THE REAPER PROGRAM . . . . . . . . . . .  3-23
           3.8     MIGRATING FILES WITH DUMPER  . . . . . . . . . .  3-27
           3.9     RETRIEVING FILES WITH DUMPER . . . . . . . . . .  3-31
           3.10    RESTORING DISK FILES WITH DUMPER . . . . . . . .  3-35
           3.11    ANSWERING STRUCTURE MOUNT REQUESTS WITH OPR  . .  3-38
           3.11.1    Mounting a Structure with MOUNT  . . . . . . .  3-42
           3.11.2    Answering Structure DISMOUNT Requests with OPR  3-44
           3.11.3    Removing a Structure with DISMOUNT . . . . . .  3-46
           3.11.4    Canceling Mount Requests . . . . . . . . . . .  3-49
           3.11.5    Setting Disk Drives Available or Unavailable .  3-50
           3.12    SETTING THE PORT CI AVAILABLE/UNAVAILABLE  . . .  3-51
           3.12.1    Displaying Disk Drive Status . . . . . . . . .  3-55
           3.12.2    Displaying Structure Status  . . . . . . . . .  3-57
           3.13    EXAMINING MOUNT-REQUESTS IN THE QUEUE  . . . . .  3-59
           3.14    CREATING A STRUCTURE DURING TIMESHARING  . . . .  3-61
           3.15    COMMUNICATING WITH USERS . . . . . . . . . . . .  3-65
           3.15.1    Answering PLEASE Requests with OPR . . . . . .  3-65
           3.15.2    Talking to Another User Immediately with SEND   3-66
           3.15.3    Mailing a Message for a User to Read Later . .  3-68
           3.15.4    Reading Your Messages with RDMAIL  . . . . . .  3-69
           3.16    HELPING A USER WITH TERMINAL PROBLEMS  . . . . .  3-70
           3.17    LOGGING OUT A USER WITH LOGOUT . . . . . . . . .  3-73
           3.18    GENERATING ACCOUNTING REPORTS  . . . . . . . . .  3-74
           3.18.1    Getting Disk and System Usage with CHKPNT  . .  3-75
           3.18.2    Reporting Usage with USAG20  . . . . . . . . .  3-76


   CHAPTER 4       SCHEDULED SOFTWARE TASKS

           4.1     SETTING LOGINS-ALLOWED AND OPERATOR-IN-ATTENDANCE  4-1
           4.2     CREATING THE MESSAGE OF THE DAY WITH MAIL  . . . . 4-3
           4.3     ENTERING ACCOUNT VALIDATION DATA WITH EDIT . . . . 4-5
           4.4     UPDATING THE ACCOUNT VALIDATION DATA BASE WITH 
                   ACTGEN . . . . . . . . . . . . . . . . . . . . . . 4-7
           4.5     ADDING, CHANGING, AND DELETING DIRECTORIES WITH 
                   ^ECREATE . . . . . . . . . . . . . . . . . . . . . 4-8
           4.5.1     Adding Directories for Users . . . . . . . . . . 4-8
           4.5.2     Adding Directories on Mountable Structures   .  4-10
           4.5.3     Adding Files-Only Directories  . . . . . . . .  4-10
           4.5.4     Changing Directory Parameters  . . . . . . . .  4-11
           4.5.5     Changing Directory Names . . . . . . . . . . .  4-12
           4.5.6     Deleting User Names or Directories . . . . . .  4-15
           4.6     DUMPING DIRECTORY PARAMETERS WITH DLUSER . . . .  4-17
           4.6.1     Dumping Directory Parameters for PS: . . . . .  4-17
           4.6.2     Dumping Directory Parameters for Other 
                     Structures . . . . . . . . . . . . . . . . . .  4-18
           4.6.3     Using DLUSER . . . . . . . . . . . . . . . . .  4-19


                                     8



           4.7     GETTING INFORMATION ABOUT DIRECTORIES  . . . . .  4-19
           4.7.1     Listing Directory Parameters with ^ECREATE . .  4-20
           4.7.2     Listing Directory Parameters with EPRINT . . .  4-21
           4.7.3     Listing Directory Parameters with ULIST  . . .  4-22
           4.8     CHECKING SYSTEM STATUS . . . . . . . . . . . . .  4-29
           4.8.1     Determining the Status of Jobs with SYSTAT . .  4-29
           4.8.2     Watching System and Job Statistics with WATCH   4-31
           4.8.3     Getting Other Information  . . . . . . . . . .  4-32
           4.9     LISTING USER REMARKS WITH RDMAIL . . . . . . . .  4-33
           4.10    REPORTING SYSTEM ERRORS WITH SPEAR . . . . . . .  4-36
           4.11    BACKING UP DISK FILES WITH DUMPER  . . . . . . .  4-37
           4.12    ENDING TIMESHARING WITH ^ECEASE  . . . . . . . .  4-43
   INDEX


   TABLES

           2-1     LPFORM.INI Switches  . . . . . . . . . . . . . .  2-20
           2-2     SPFORM.INI Switches for All Device Types . . . .  2-42
           2-3     SPFORM.INI Switches for Plotter Devices Only . .  2-42
           3-1     SET INITIALIZE Switches  . . . . . . . . . . . . . 3-6
           3-2     REAPER Commands  . . . . . . . . . . . . . . . .  3-23



                                    PART SIX                                    PART SIX




                                      CONTENTS



   CHAPTER 1       ERROR RECOVERY PROCEDURES  

           1.1     AUTOMATICALLY RELOADING AND DUMPING THE SYSTEM . . 1-1
           1.2     MANUALLY RELOADING AND DUMPING THE SYSTEM  . . . . 1-2
           1.2.1     Scheduled Reloads  . . . . . . . . . . . . . . . 1-2
           1.2.2     Reloads and Dumps for a Hung or Looping System . 1-2
           1.3     SETTING THE CORRECT DATE AND TIME  . . . . . . . . 1-4
           1.4     ERROR MESSAGES AND ACTION TO TAKE  . . . . . . . . 1-5
           1.4.1     Device Error Messages  . . . . . . . . . . . . . 1-5
           1.4.2     BUGCHKs, BUGINFs, and BUGHLTs  . . . . . . . . . 1-6
           1.4.3     HOME Block or BAT Block Inconsistencies  . . . . 1-8
           1.4.4     Parity Errors  . . . . . . . . . . . . . . . .  1-11
           1.4.5     DX20 Error Messages  . . . . . . . . . . . . .  1-12
           1.4.6     Reaper Error Messages  . . . . . . . . . . . .  1-12
           1.4.7     Tape Handling Error Messages . . . . . . . . .  1-13
           1.4.8     Bootstrap Error Messages . . . . . . . . . . .  1-15
           1.5     RECOVERING THE FILE SYSTEM . . . . . . . . . . .  1-19
           1.5.1     Rebuilding a Directory Symbol Table with 
                     EXPUNGE  . . . . . . . . . . . . . . . . . . .  1-19
           1.5.2     Reconstructing a Directory . . . . . . . . . .  1-20
           1.5.3     Reconstructing the ROOT-DIRECTORY  . . . . . .  1-22
           1.5.4     Re-Creating the File System or a Structure . .  1-25
           1.6     DIAGNOSING YOUR SYSTEM FROM A REMOTE LOCATION VIA 
                   KLINIK . . . . . . . . . . . . . . . . . . . . .  1-28
           1.7     CORRECTING DISK SPACE WITH CHECKD  . . . . . . .  1-31
           1.7.1     Reports from CHECK BITTABLE  . . . . . . . . .  1-38
           1.8     RESTARTING PROGRAMS UNDER SYSJOB . . . . . . . .  1-43
           1.8.1     GALAXY Crash Recovery Procedures . . . . . . .  1-45
           1.9     HUNG CONSOLE TERMINAL (LA36) . . . . . . . . . .  1-49
           1.10    MEMORY CONFIGURATION FAILED  . . . . . . . . . .  1-49


                                     9



           1.11    TOPS-20 MONITOR NOT FOUND  . . . . . . . . . . .  1-49
           1.12    PS NOT FOUND . . . . . . . . . . . . . . . . . .  1-50
           1.13    BOOTSTRAP LOAD FAILED  . . . . . . . . . . . . .  1-51
           1.14    MANUALLY RELOADING THE DX20  . . . . . . . . . .  1-51
   INDEX


   TABLES

           1-1     GALAXY Component Crash Recovery Procedures . . .  1-45



                                   APPENDIXES                                   APPENDIXES




                                      CONTENTS



   APPENDIX A      PARSER


   APPENDIX B      KLINIT


   APPENDIX C      BUGHLT, BUGINF, AND BUGCHK NAMES AND DESCRIPTIONS  

   Appendixes D and E have been deleted.
   INDEX


































                                     10















                                   PART I                                   PART I
                                INTRODUCTION                                INTRODUCTION



                                  ABSTRACT                                  ABSTRACT

                  Chapter 1  describes  how  to  use  this
                  manual.

                  Chapter  2  gives  a  brief  description
                  about  the  operator's responsibilities,
                  the available documentation, and various
                  operational tasks.



                                      CONTENTS



   CHAPTER 1       HOW TO USE THIS MANUAL  


   CHAPTER 2       RESPONSIBILITIES OF THE OPERATOR  

           2.1     DOCUMENTATION  . . . . . . . . . . . . . . . . . . 2-1
           2.1.1     Documentation Supplied by DIGITAL  . . . . . . . 2-1
           2.1.2     Documentation Written at Your Installation . . . 2-2
           2.1.3     Documentation Written by Operators . . . . . . . 2-2
           2.2     OPERATOR'S TASKS . . . . . . . . . . . . . . . . . 2-2
           2.2.1     Hardware Tasks . . . . . . . . . . . . . . . . . 2-2
           2.2.2     Software Tasks . . . . . . . . . . . . . . . . . 2-2
   INDEX




















                                     11





































































                                    1-1












                                 CHAPTER 1                                 CHAPTER 1

                          HOW TO USE THIS MANUAL                          HOW TO USE THIS MANUAL  



   This guide gives  you,  the  operator,  an  overview  of  the  TOPS-20
   operating system and serves as a task-oriented reference for operating
   the various hardware components that  support  the  TOPS-20  software.
   This  manual is divided into six parts.  The following paragraphs give
   a brief description of the type of information contained in each part.

        Part  I  provides  a  brief   description   of   the   operator's
        responsibilities and the documentation supplied either by DIGITAL
        or by personnel at your installation.

        Part II describes  the  various  CPUs,  memory  types,  front-end
        responsibilities,  and  the  peripherals  that are handled by the
        front-end processor.

        Part III describes all the available peripheral devices that  can
        be connected to the system.

        Part IV describes the various ways of loading the system, loading
        the  monitor using the various media, and readying the system for
        timesharing.

        Part V describes the software tasks  that  an  operator  performs
        either daily or frequently.

        Part VI describes the error recovery procedures.

   Although various installations may run their systems differently, this
   guide  describes  a  general set of procedures for running the TOPS-20
   software on the various hardware systems.   Each  installation  should
   tailor  these  procedures  to  suit  its  needs and add procedures for
   specific applications.




















                                    1-1
                          HOW TO USE THIS MANUAL                          HOW TO USE THIS MANUAL  


                                                                  _______   This guide assumes that you have read, understood,  and  used  Getting
   _______ ____ _______         _______ ______ _____   Started With TOPS-20 and the TOPS-20 User's Guide.  In some cases this
   guide refers to another manual for  additional  information,  or  your
   installation  may  have  purchased  some  software  in addition to the
   standard TOPS-20 software.  For example, this manual does not  include
   the  operating  procedures  for  ARPANET  and  DECnet.  Therefore, you
   should have the latest editions of the following documents available:

            _______ _______ _________ ______        1.  TOPS-20 Command Reference Manual

            _______ ______ _____        2.  TOPS-20 User's Guide

            _______ ________ ____________ _____        3.  TOPS-20 Software Installation Guide

            _______ ____ _____ _ ____________ _____        4.  TOPS-20 KL10 Model B Installation Guide

            _________ _____ ____ _____________        5.  TOPS10/20 USAGE File Specification

            _______ ___ _______ _____ ______        6.  TOPS-10 and TOPS-20 SPEAR Manual
            _______ _________ _______        7.  TOPS-20 DECnet-20 Manuals
            (if your installation has DECnet-20 software)

            ___ _____________________ ______        8.  IBM Emulation/Termination Manual
            (if your installation has DN64/DN65 software)

            ______ ________        9.  BUGHLT Document

            _______ ______ _________ ______       10.  RSX-20F System Reference Manual

   You may also want to have  available  the  error  messages  listed  in
                      _______ _______ _____ _________ ______   Appendix  A of the TOPS-20 Monitor Calls Reference Manual when you see
   an error message not documented in this guide.

   This guide uses the following conventions:

        CTY                 means console terminal.

        PTY                 means pseudo-terminal.

        <RET>               indicates that you press the RETURN key.

        CTRL/character      indicates that you hold  the  CTRL  key  down
                            while typing the character.

        ^character          is the output from typing CTRL/character  or,
                            if otherwise noted, indicates that you should
                            first type the up-arrow  and  then  type  the
                            character.


















                                    1-2












                                 CHAPTER 2                                 CHAPTER 2

                     RESPONSIBILITIES OF THE OPERATOR                     RESPONSIBILITIES OF THE OPERATOR  



   As the TOPS-20 operator, you are responsible for  keeping  the  system
   running  and providing the user with the best possible service.  To do
   this, you must be aware of all the system resources available to  you,
   know  how  to  interact with the system and with users, and be able to
   recognize and solve problems before they become serious.

   Your first task in starting the system is to load  the  front-end  and
   main  processor  monitors.   After that, the system starts a series of
   programs to support batch and timesharing users.  Once the  system  is
   started,  you must check the status of jobs, respond to user requests,
   and perform routine tasks such as replenishing the paper supply for  a
   line printer or cleaning magnetic tape drives.

   Because the system is complex, sometimes a monitor ceases to  function
   and   crashes.   A  crash  may  result  from  software  (programming),
   hardware, or environmental problems.  When a crash  occurs,  you  must
   recognize  the  symptoms, take the appropriate corrective steps to get
   the system  back  up  as  quickly  as  possible,  and  save  important
   information about the crash.



   2.1  DOCUMENTATION   2.1  DOCUMENTATION

   To keep informed of your responsibilities and to perform the necessary
   operator  tasks,  you should read and have available for reference all
   documentation relevant to an operator.  Documentation is  supplied  by
   DIGITAL,  your  installation,  and  other  operators.   The next three
   sections describe the documentation available from these sources.



   2.1.1  Documentation Supplied by DIGITAL   2.1.1  Documentation Supplied by DIGITAL

   DIGITAL supplies many manuals for the TOPS-20 operating system.  Those
   helpful  to  you  as  an  operator,  in  addition  to this manual, are
   mentioned in the Preface.

   DIGITAL also supplies some text files on the magnetic tapes  used  for
   software  distribution.   These  files can be identified by their file
   types:  .HLP, .MEM, .BWR, or .DOC.  These files are usually in a  disk
   directory  from which you can have them printed or have them typed out
   on a hard-copy terminal.








                                    2-1
                     RESPONSIBILITIES OF THE OPERATOR                     RESPONSIBILITIES OF THE OPERATOR  


   2.1.2  Documentation Written at Your Installation   2.1.2  Documentation Written at Your Installation

   Your installation personnel may add some text files to the system that
   can be printed or typed.

   You should also have a list  of  specific  duties  for  each  operator
   shift.   This  list  should  be  written  by  the  System  Manager and
   operations staff, using this manual as  a  guide.   Your  installation
   personnel  can  also  tailor this manual to their needs.  For example,
   installation-specific instructions,  such  as  locking  computer  room
   doors, finding paper, and running application programs, can be added.



   2.1.3  Documentation Written by Operators   2.1.3  Documentation Written by Operators

   Your System Manager should give  you  an  operator's  notebook  and  a
   system  logbook  that  contain  pages you must fill out to record what
   happens systemwide.

   The operator's notebook is used to record shift-to-shift communication
   among operators, and between operators and the System Manager.  Always
   read it before you begin your shift.  Notebook entries  might  include
   scheduled  system  downtime,  new software to install or try, problems
   met on preceding shifts, and specific instructions not in  the  normal
   schedule.

   The system logbook is used to note important events  relative  to  the
   system  availability.   The  entries  should  include system downtime,
   hardware problems, and system shutdown time.  To  identify  the  items
   easily,  separate  hardware  and  software  entries,  perhaps  listing
   hardware entries on left-hand pages and software entries on right-hand
   pages.  Check this log when you start work; be sure to keep it current
   throughout your shift.

   You should also save the output from the  CTY.   Your  System  Manager
   should  determine how long to keep it and where to file it.  It can be
   a useful reference when there are system problems.



   2.2  OPERATOR'S TASKS   2.2  OPERATOR'S TASKS

   To keep  a  system  running  efficiently,  you  must  perform  certain
   hardware  and software tasks.  These tasks may be performed on a daily
   or weekly basis, or performed as they are required.  Part V  describes
   the batch tasks and scheduled and unscheduled tasks.



   2.2.1  Hardware Tasks   2.2.1  Hardware Tasks

   Hardware  tasks  include  performing   preventative   maintenance   on
   peripheral  devices,  replenishing  paper  for  input/output  devices,
   operating the hardware components  of  the  system,  and  keeping  the
   computer room clean.  Part III describes these tasks.



   2.2.2  Software Tasks   2.2.2  Software Tasks

   Software tasks include loading and starting  the  system,  interacting
   with  users,  and  performing  error  recovery  procedures.   Part  IV
   describes loading and starting the system, Part V describes the  batch


                                    2-2
                     RESPONSIBILITIES OF THE OPERATOR                     RESPONSIBILITIES OF THE OPERATOR  


   tasks,  and  scheduled  and  unscheduled  software  tasks, and Part VI
   describes the error recovery procedures.
































































                                    2-3
                     RESPONSIBILITIES OF THE OPERATOR                     RESPONSIBILITIES OF THE OPERATOR  


   i
   operator's guide

   1
   1
   how to use this manual
   part descriptions
   p 2
   documents
   manual conventions
   s 2
   1
   operator responsibilities
   documentation
   documentation by digital
   file types
   .hlp file
   .mem file
   .bwr file
   .doc file
   p 2
   documentation by your installation
   documentation by operators
   operator's tasks
   hardware tasks
   p 3
   software tasks







































                                    2-4
                     RESPONSIBILITIES OF THE OPERATOR                     RESPONSIBILITIES OF THE OPERATOR  














                                  PART II                                  PART II
                           SYSTEM FAMILIARIZATION                           SYSTEM FAMILIARIZATION

                                  ABSTRACT                                  ABSTRACT

           This part briefly describes the  -20  series  hardware
           systems and the major TOPS-20 software components.

           Chapter 1, Hardware, provides a brief  description  of
           the  various  system  configurations,  the  CPUs,  the
           memory  types,  the  front-end   processor   and   the
           associated peripheral devices.

           Chapter  2,  Software,  briefly  describes  the  major
           software   components  that  run  on  the  -20  series
           hardware.


                                    NOTE

           The term -20 series hardware is used in this manual to
           represent the 2040S and 2060 hardware systems that run
           the TOPS-20 software.

                                      CONTENTS



   CHAPTER 1       HARDWARE

           1.1     OVERVIEW . . . . . . . . . . . . . . . . . . . . . 1-1
           1.2     CENTRAL PROCESSORS . . . . . . . . . . . . . . . . 1-4
           1.3     MEMORY . . . . . . . . . . . . . . . . . . . . . . 1-4
           1.4     DATA CHANNELS AND CONTROLLERS  . . . . . . . . . . 1-4
           1.5     CONSOLE FRONT-END PROCESSOR (2040S, 2060)  . . . . 1-8
           1.6     FLOPPY DISKS . . . . . . . . . . . . . . . . . . . 1-8
           1.7     PERIPHERALS  . . . . . . . . . . . . . . . . . . . 1-9
           1.7.1     Line Printers  . . . . . . . . . . . . . . . . . 1-9
           1.7.2     Card Readers . . . . . . . . . . . . . . . . .  1-11
           1.7.3     Disk Packs . . . . . . . . . . . . . . . . . .  1-11
           1.7.4     Magnetic Tape  . . . . . . . . . . . . . . . .  1-12
           1.7.5     Terminals  . . . . . . . . . . . . . . . . . .  1-13


   CHAPTER 2       SOFTWARE

           2.1     OPERATING SYSTEMS AND OTHER MAJOR SOFTWARE 
                   COMPONENTS . . . . . . . . . . . . . . . . . . . . 2-1
           2.2     LANGUAGES  . . . . . . . . . . . . . . . . . . . . 2-1
           2.3     UTILITIES  . . . . . . . . . . . . . . . . . . . . 2-1




                                    2-5
                     RESPONSIBILITIES OF THE OPERATOR                     RESPONSIBILITIES OF THE OPERATOR  


   FIGURES

           1-1     TX03/TX05 Tape Switch Options  . . . . . . . . . . 1-7


   TABLES

           1-1     Line Printer Identification  . . . . . . . . . .  1-10
           1-2     LP20 Printer Models  . . . . . . . . . . . . . .  1-10
           1-3     CD20 Card-Reader Models  . . . . . . . . . . . .  1-11
           1-4     Magnetic Tape Drives . . . . . . . . . . . . . .  1-13
           1-5     Terminals  . . . . . . . . . . . . . . . . . . .  1-14






















































                                    2-6












                                 CHAPTER 1                                 CHAPTER 1

                                  HARDWARE                                  HARDWARE



   1.1  OVERVIEW   1.1  OVERVIEW

   To improve your understanding of  the  system,  this  chapter  briefly
   describes the -20 series hardware.

   You can use the TOPS-20 operating  system  with  the  2040S  and  2060
   series  hardware  models.  The 2040S and the 2060 are identical except
   that the 2060 has cache memory.

   Configurations for the 2040S system are:

         o  20-128 jobs
|  
|        o  768K-3Mb MOS memory

         o  8-128 local command terminals on RSX20F

         o  2-8 RH20 channels

         o  1-64 RP04 or RP06 disk drives

         o  1-4 RP20 disk drives

         o  1-4 RP07 disk drives

         o  2 RP20 (3 spindles) disk packs per structure

         o  1 RP07 disk pack per structure

         o  1-6 RP04 disk packs per structure

         o  1-3 RP06 disk packs per structure

         o  1-4 TM02 or TM03 tape controllers

         o  1-2 TM78 tape controllers

         o  1-16 TU45, TU77, or TU78 tape drives

         o  1-2 DX20 tape or disk controllers

         o  1-2 TX02 (1 per DX20) with TX03 and TX05 switch features

|        o  1-16 TU70, TU71, or TU78 tape drives (at  least  one  9-track
|           tape drive)

         o  1-2 line printers




                                    1-1
                                  HARDWARE                                  HARDWARE


         o  0-1 card reader

   Configurations for the 2060 system are:

         o  20-128 jobs
|  
|        o  768K-3Mb MOS memory

         o  8-128 local-command terminals on RSX20F

         o  2-8 RH20 channels

         o  1-64 RP04 or RP06 disk drives

         o  1-4 RP20 disk drives

         o  1-4 RP07 disk drives

         o  2 RP20 (3 spindles) disk packs per structure

         o  1 RP07 disk pack per structure

         o  1-6 RP04 disk packs per structure

         o  1-3 RP06 disk packs per structure
|  
|        o  1 CI-20 per KL10 processor
|  
|        o  1-3 HSC50 disk controllers per CI-20
|  
|        o  1-20 RA60 disk drives per HSC50
|  
|        o  1-20 RA81 disk drives per HSC50
|  
|        o  1-4 RA81 spindles per structure
|  
|        o  1-4 RA60 spindles per structure

         o  1-4 TM02 or TM03 tape controllers

         o  1-2 TM78 tape controllers

         o  1-16 TU45, TU77, or TU78 tape drives

         o  1-2 DX20 tape or disk controllers

         o  1-2 TX02 (1 per DX20) with TX03 and TX05 switch features

         o  1-16 TU70, TU71, or TU72 tape drives (at  least  one  9-track
            tape drive)

         o  1-2 line printers

         o  0-1 card reader












                                    1-2
                                  HARDWARE                                  HARDWARE


|  In addition to the configurations listed above for  the  2060  system,
|  the Common File System (CFS-20) configuration requires the following:
|  
|        o  2 2060 systems
|  
|        o  1-3Mb Memory per system
|  
|        o  1 CI20 per system
|  
|        o  1 Star Coupler
|  
|  
|                                   NOTE
|  
|          Each CFS-20 system requires an RP06 disk drive for the
|          front  end file system and swapping space.  It is also
|          recommended that at least one RP06 or RP07 disk  drive
|          be  dual-ported  between  the two systems.  The public
|          structure, however, must not be  on  this  dual-ported
|          RP06.
|  













































                                    1-3
                                  HARDWARE                                  HARDWARE


   1.2  CENTRAL PROCESSORS   1.2  CENTRAL PROCESSORS

   The KL10 central processor, which  directs  the  entire  operation  of
   2040S and 2060 systems, contains:

        1.  A microcoded instruction set (383 instructions)

        2.  Fast integrated-circuit general-purpose registers

        3.  Interrupt and trap facilities

   The  central  processor,  memory,  and  mass-storage  controllers  are
   contained in two cabinets.



   1.3  MEMORY   1.3  MEMORY

   There are four types of memory storage units  available  for  the  -20
   series  hardware:   MA20 or MB20 internal memory, and MF20 or MS10 MOS
   (metal-oxide semiconductor) memory.

|  The size of memory storage ranges from 768K to 3  megawords  (K=1024).
   Internal  memory  can  be  1-,  2-,  or 4-way interleaved.  You cannot
   specify  interleaving  for  MOS  memory;  however,  it  is  implicitly
   interleaved.  Each word of memory has 36 bits of data.



   1.4  DATA CHANNELS AND CONTROLLERS   1.4  DATA CHANNELS AND CONTROLLERS

   The data channels and controllers provide the interface  between  mass
   storage  devices  (disk  and  magnetic  tape)  and  main  memory.  The
|  controllers are units that control the operation of one or  more  disk
   drives   or  tape  drives.   The  channels  in  conjunction  with  the
   controllers transfer information to memory at the request of the  CPU.
|  The  mass  storage  controller on a 2040S and 2060 is called the RH20.
|  The channel for the mass storage controllers in a CFS-20 configuration
|  is the CI-20.



























                                    1-4
                                  HARDWARE                                  HARDWARE


   A DX20 tape controller  with  the  TX02  controller  and  channel  can
   support  a  maximum  of  eight  TU70, 71, or 72 tape drives.  With the
   TX03/TX05 tape switch options, a system can address and use up  to  16
   tape  drives  on  a  single controller by switching the access of tape
   drives from one controller  to  another.   Figure  1-1  shows  several
   magnetic tape configurations available through the TX03/05 tape switch
   options.

|  A DX20 disk controller can support up to eight RP20 disks.   An  HSC50
|  disk controller can support a maximum of 20 RA60 or RA81 disk drives.
























































                                    1-5
                                  HARDWARE                                  HARDWARE




































































                                    1-6
                                  HARDWARE                                  HARDWARE


   Figure 1-1:  TX03/TX05 Tape Switch Options   Figure 1-1:  TX03/TX05 Tape Switch Options

































































                                    1-7
                                  HARDWARE                                  HARDWARE


   1.5  CONSOLE FRONT-END PROCESSOR (2040S, 2060)   1.5  CONSOLE FRONT-END PROCESSOR (2040S, 2060)

   The console front-end processor is a PDP-11 computer and  is  included
   in 2040S and 2060 systems.  The console front-end handles:

        1.  Line printers

        2.  Card reader

        3.  Floppy disks

        4.  Terminals

        5.  Console functions

        6.  Microcode loading

        7.  Memory configuration

        8.  System startup

        9.  Diagnostics

   The console front-end processor is in the cabinet to the left  of  the
   two  cabinets  containing  the central processor, internal memory, and
   mass-storage   controllers.    The   console    front-end    processor
   communicates  with  the central processor through the DTE20 interface.
   The front-end memory consists of 28K of 18-bit words (16 data bits and
   2 parity bits).  The floppy disks are used for initial system loading.



   1.6  FLOPPY DISKS   1.6  FLOPPY DISKS

   Three floppy disks are  distributed  with  each  new  version  of  the
   TOPS-20  software.  They are small, about the size and appearance of a
   45 rpm record, very  flexible,  magnetic-storage  media.   Their  main
   functions  include loading and starting the PDP-11 and the KL10.  They
   are also used  to  run  diagnostics  that  pertain  to  the  front-end
   processor.


























                                    1-8
                                  HARDWARE                                  HARDWARE


   1.7  PERIPHERALS   1.7  PERIPHERALS

   On the 2040S and 2060 systems, the UNIBUS (unipath  bus)  handles  all
   the  communication  lines  between the front-end processor and all the
   devices that are attached to the front-end.


   The standard -20 series  hardware  peripherals  are  described  below.
   Part III describes the operation and maintenance of peripherals.



   1.7.1  Line Printers   1.7.1  Line Printers

   Each system requires at least one line printer.  A maximum of two line
   printers is allowed on 2040S and 2060 systems.

   The line printers currently available are:

        1.  The LP05-V with a 64-character print  set,  a  speed  of  300
            lines  per minute, and a direct access, vertical format unit.
            This printer is included in the  LP20A  line  printer  system
            (printer and controller).

        2.  The LP05-W with a 96-character print  set,  a  speed  of  230
            lines  per minute, and a direct access, vertical format unit.
            This printer is included in the  LP20B  line  printer  system
            (printer and controller).

        3.  The LP07 impact printer with a quick-change,  dual  character
            set  Charaband  (64/96  characters),  dual  speed of 1200/900
            lines per minute, and direct access,  vertical  format  unit.
            This  line  printer  is  included  in  the LP200 line printer
            system (printer and controller).

        4.  The LP10-J with a 64-character print set,  a  speed  of  1250
            lines per minute, and a standard sprocketed carriage tape for
            the vertical format unit.  This printer is  included  in  the
            LP20F line printer system (printer and controller).

        5.  The LP10-K with a 96-character print  set,  a  speed  of  925
            lines per minute, and a standard sprocketed carriage tape for
            the vertical format unit.  This printer is  included  in  the
            LP20H line printer system (printer and controller).

        6.  The LP14-V with a 64-character print  set,  a  speed  of  890
            lines  per minute, and a direct access, vertical format unit.
            This printer is included in the  LP20C  line  printer  system
            (printer and controller).

        7.  The LP14-W with a 96-character print  set,  a  speed  of  650
            lines  per minute, and a direct access, vertical format unit.
            This printer is included in the  LP20D  line  printer  system
            (printer and controller).












                                    1-9
                                  HARDWARE                                  HARDWARE


   Table 1-1:  Line Printer Identification   Table 1-1:  Line Printer Identification


     Type              Description              Control Panel


     LP05              Small size;              Six     error-indicator
     LP14              control panel            lights,    four   push-
                       on top right.            button switch-indicator
                                                lights,  and two toggle
                                                switches.

     LP10              Large size;              Five     (two-position)
                       control panel            switches,  four   white
                       on top left.             indicator lights,  four
                                                red  error  lights, and
                                                two dial knobs.

     LP07              Large size;              Five     (two-position)
                       control panel            switches,  four   white
                       on top left;             indicator  lights, four
                       metal plate              red  error  lights, and
                       that can be              two dial knobs.
                       lifted covers
                       part of control
                       panel.


   Refer to Figures 1-1, 1-2, 1-3, and 1-4 in Part III  Device  Operation
   And Maintenance.

   All  the  line  printers  are  132-column  devices.   Those  with  the
   96-character  print set have uppercase and lowercase characters.  Each
   printer has a Vertical Format  Unit,  or  VFU,  which  consists  of  a
   carriage  control  tape  depending  on  the model.  The VFU is used to
   control paper motion in the printer.   The  preceding  information  is
   summarized in Table 1-2 below.


   Table 1-2:  LP20 Printer Models   Table 1-2:  LP20 Printer Models


             Character                 Characters
     Model       Set      Print Speed  Per Drum    VFU           System


     LP05-V  UPPER        300 l/m        64        PROGRAMMABLE  LP20A

     LP05-W  UPPER/LOWER  230 l/m        96        PROGRAMMABLE  LP20B

     LP07    UPPER and    1200/900 l/m   64/96     PROGRAMMABLE/ LP200
             UPPER/LOWER                           TAPE

     LP10-J  UPPER        1250 l/m       64        TAPE          LP20F

     LP10-K  UPPER/LOWER  925 l/m        96        TAPE          LP20H

     LP14-V  UPPER        890 l/m        64        PROGRAMMABLE  LP20C

     LP14-W  UPPER/LOWER  650 l/m        96        PROGRAMMABLE  LP20D






                                    1-10
                                  HARDWARE                                  HARDWARE


   1.7.2  Card Readers   1.7.2  Card Readers

   Card readers are mainly used in batch processing.  The card reader  is
   an  input  device  only.   The card reader can be a table model CR10-E
   (Model M200) that processes 285 cards per minute, or the console model
   CR10-F  (Model RS1200) that processes 1200 cards per minute.  Only the
   RS1200 has a mechanical EOF button.  Model M200 is included in a CD20A
   card-reader system, and Model RS1200 is included in a CD20C system.

   The CD11 card-reader controller is included in CD20 card-reader system
   (controller and reader).


   Table 1-3:  CD20 Card-Reader Models   Table 1-3:  CD20 Card-Reader Models


       Type         Model                   System            Speed


       CR10-E       Table-M200              CD20A             285 cpm

       CR10-F       Console-RS1200          CD20C             1200 cpm



   1.7.3  Disk Packs   1.7.3  Disk Packs

   Disk storage allows rapid transfer of data in and out of main  memory.
   The 2040S and 2060 systems require at least one disk be dual-ported so
   that the front-end computer and the central processor can both  access
   the data on the disk.

   The disk packs that the 2040S and 2060 systems support are:

        1.  The RP04 removable disk pack, which  has  a  20-million  word
            (36-bit word) capacity

        2.  The RP06 removable disk pack, which  has  a  40-million  word
            (36-bit word) capacity

        3.  The RP07 non-removable disk pack, which  has  a  112  million
            word (36-bit word) capacity.

        4.  The RP20 non-removable disk pack, which  has  a  120  million
            word (36-bit word) capacity.

|  In addition, the 2060 systems support the following:
|  
|       1.  The RA60 removable disk pack, which  has  a  46-million  word
|           (36-bit word) capacity.
|  
|       2.  The RA81 non-removable disk pack, which  has  a  102  million
|           word (36-bit word) capacity.
|  
   The drives for these packs  provide  error  detection  and  correction
   hardware as well as high-speed access and transfer rates.










                                    1-11
                                  HARDWARE                                  HARDWARE


   On the 2040S and 2060 systems, the disk drives have an RH20 integrated
   controller  and  data channel for access by the central processor.  If
   the drive has the dual-port option, the  console  front-end  processor
|  accesses a disk drive through an RH11 disk controller.  In addition to
|  the  massbus  devices  that  are  handled  by  the   RH20   integrated
|  controller,  the  2060 system can have the HSC50 controller for access
|  by the central processor.



   1.7.4  Magnetic Tape   1.7.4  Magnetic Tape

   The magnetic tape drives currently available on 2040S and 2060 systems
   are:

        1.  The TU45, which is a 9-track drive with  recording  densities
            of 800 bits/inch (31 rows/mm) or 1600 bits/inch (63 rows/mm).
            The recording speed is 75 inches per second (1905 mm/s).  The
            TU45  is interfaced to an RH20 integrated controller and data
            channel through a TM02 or TM03 controller.

        2.  The TU70, which is a 9-track drive with  recording  densities
            of 800 bits/inch (31 rows/mm) or 1600 bits/inch (63 rows/mm).
            The recording speed is 200 inches  per  second  (5080  mm/s).
            The  TU70  is interfaced to an RH20 integrated controller and
            data channel through a DX20 programmed  data  adapter  and  a
            TX02 controller.

        3.  The TU71, which is a 7-track drive with  recording  densities
            of  200 bits/inch (8 rows/mm), 556 bits/inch (22 rows/mm), or
            800 bits/inch (31  rows/mm).   The  recording  speed  is  200
            inches per second (5080 mm/s).  The TU71 is interfaced to the
            same hardware as the TU70.

        4.  The TU72, which is a 9-track drive with  recording  densities
            of  1600  bits/inch  (63  rows/mm)  or  6250  bits/inch  (246
            rows/mm).  The recording speed is 200 inches per second (5080
            mm/s).   The  TU72  is interfaced to the same hardware as the
            TU70.

        5.  The TU77, which is a 9-track drive with  recording  densities
            of 800 bits/inch (31 rows/mm) or 1600 bits/inch (63 rows/mm).
            The recording speed is 120 inches  per  second  (3048  mm/s).
            The  TU77  is interfaced to an RH20 integrated controller and
            data channel through a TM02 controller.

        6.  The TU78, which is a 9-track drive with  recording  densities
            of  1600  bits/inch  (63  rows/mm)  or  6250  bits/inch  (246
            rows/mm).  The recording speed is 120 inches per second (3048
            mm/s).    The  TU78  is  interfaced  to  an  RH20  integrated
            controller and data channel through a TM78 controller.















                                    1-12
                                  HARDWARE                                  HARDWARE


   The parameters for the magnetic tapes  are  summarized  in  Table  1-4
   below.


   Table 1-4:  Magnetic Tape Drives   Table 1-4:  Magnetic Tape Drives


     Model  Tracks   Recording Densities         Interface   Controller


     TU45   9-track  800 b/i or 1600 b/i         RH20        TM02 or

     TU70   9-track  800 b/i or 1600 b/i         RH20        DX20 and
                     (31rows/mm) (63rows/mm)                 TX02

     TU71   7-track  200 b/i, 556 b/i            RH20        DX20 and
                     (8rows/mm) (22rows/mm)                  TX02
                     or
                     800 b/i (31rows/mm)

     TU72   9-track  1600 b/i or 6250 b/i        RH20        DX20 and
                     (63rows/mm) (246rows/mm)                TX02

     TU77   9-track  800 b/i or 1600 b/i         RH20        TM02 or
                     (31rows/mm) (63rows/mm)                 TM03

     TU78   9-track  1600 b/i or 6250 b/i        RH20        TM78
                     (63 rows/mm) (246 rows/mm)



   1.7.5  Terminals   1.7.5  Terminals

   You (the operator) and each timesharing user interacts with the system
   through  a  terminal.   Generally,  you use a hard-copy terminal:  for
   example, an LA36 to start, stop, load, and  continue  the  system  and
   user  programs.   Using  a  hard-copy  terminal allows you to save the
   printed output of all interactions with users and  the  system.   This
   output  is  especially  useful if you have a problem with your system.
   Users interact with the  system  with  either  a  hard-copy  or  video
   terminal.

























                                    1-13
                                  HARDWARE                                  HARDWARE


   Table 1-5 describes  the  terminals  which  the  -20  series  hardware
   supports.


   Table 1-5:  Terminals   Table 1-5:  Terminals


     Terminal Type                  Description

        LA36                DECwriter II hard-copy  terminal,  30  cps,
                            132 columns

        LA37                LA36 with dual APL/ASCII character set

        LA38                DECwriter IV hard-copy table top (or stand)
                            model terminal

        LA120               DECwriter III,  180  cps,  hard  copy  with
                            numeric pad

        VT50                Uppercase video terminal

        VT52                Uppercase/lowercase  video  terminal   with
                            numeric pad

        VT62                Microprocessor-driven   (video)    terminal
                            designed for transaction processing

        VT100/VT125         Uppercase/lowercase  video  terminal   with
                            numeric pad and detached keyboard

        VK100               Uppercase/lowercase  video  terminal   with
                            graphic display capability

































                                    1-14












                                 CHAPTER 2                                 CHAPTER 2

                                  SOFTWARE                                  SOFTWARE



   2.1  OPERATING SYSTEMS AND OTHER MAJOR SOFTWARE COMPONENTS   2.1  OPERATING SYSTEMS AND OTHER MAJOR SOFTWARE COMPONENTS

   The operating system for the -20 series hardware  is  called  TOPS-20.
   If  the  2040S  and 2060 is on the ARPANET (Advanced Research Projects
   Agency Network), the  operating  system  is  called  TOPS-20AN.   Both
   operating systems support concurrent timesharing and batch processing.

   The TOPS-20 command language or command processor is also  called  the
   EXEC.

   On the 2040S and 2060 systems, the RSX-20F console front-end operating
   system  aids  the central processor and TOPS-20 by doing such tasks as
   handling  the  console,  terminal  communications,  peripherals,   and
   diagnostics.



   2.2  LANGUAGES   2.2  LANGUAGES

   The following languages are available with TOPS-20:

        ALGOL          COBOL
        APL            CPL
        BASIC-PLUS-2   FORTRAN
        COBOL-68       IQL
        COBOL-74       MACRO
|       PASCAL         BLISS-36

   These languages can be used under  batch  or  timesharing.   Debugging
   programs are available for programs written in these languages.



   2.3  UTILITIES   2.3  UTILITIES

   Many utilities are available for TOPS-20  users.   Some  of  the  more
   important ones are:

        DDT         - A debugging utility

        DUMPER      - A utility for backing up disk files










                                    2-1
                                  SOFTWARE                                  SOFTWARE


        EDIT        - A line-oriented editor for creating  and  modifying
                      programs and data files

|       EDT-20      - A line- or character-oriented editor  for  creating
|                     and modifying programs and data files.

        LINK        - The TOPS-20 Linking Loader program

        PLEASE      - A    utility    for    providing     nonconflicting
                      communication  between an operator and system users
                      through a terminal

        PTYCON      - A  system  program  that  gives  you  multiple  job
                      control,    allowing    you    to    perform    all
                      software-oriented tasks from a single terminal

        SORT/MERGE  - A utility for sorting records of one or more  files
                      according to a user-specified sequence

        TV          - A  character-oriented  editor  for   creating   and
                      modifying programs and data files

        WATCH       - A utility that allows you  to  periodically  output
                      TOPS-20 monitor statistics and/or a job summary










































                                    2-2
                                  SOFTWARE                                  SOFTWARE














                                  PART III                                  PART III
                      DEVICE OPERATION AND MAINTENANCE                      DEVICE OPERATION AND MAINTENANCE



                                  ABSTRACT                                  ABSTRACT

                  This part  desribes  the  operation  and
                  maintenance   of   the  major  available
                  peripheral devices that can be connected
                  to  the  -20  series  hardware  systems.
                  Each  chapter  describes   a   different
                  peripheral line device.

                  Chapter 1, Line Printers, describes  the
                  operation  and  maintenance of the LP05,
                  LP07, LP10, and LP14 line printers.

                  Chapter 2, Magnetic Tapes, describes the
                  operation  and  maintenance of the TU45,
                  TU70, TU71, TU72, and TU77 magnetic tape
                  drives.

                  Chapter 3, Card  Reader,  describes  the
                  operation  and maintenance of the CR10-E
                  and CR10-F model card readers.

                  Chapter 4, Disk  Drives,  describes  the
                  operation  and  maintenance of the RP04,
|                 RP06, RP07, RP20, RA60,  and  RA81  disk
|                 drives.

                  Chapter 5, Floppy Disks,  describes  the
                  operation   and  maintenance  of  floppy
                  disks.
                                      CONTENTS



   CHAPTER 1       LINE PRINTERS

           1.1     DISTRIBUTING LISTINGS  . . . . . . . . . . . . . . 1-1
           1.2     CHANGING PAPER AND FORMS . . . . . . . . . . . .  1-10
           1.2.1     LP05 or LP14 Procedure . . . . . . . . . . . .  1-10
           1.2.2     LP07 Procedure . . . . . . . . . . . . . . . .  1-14
           1.2.3     LP10 Procedure . . . . . . . . . . . . . . . .  1-19
           1.3     CHANGING AND REVERSING THE RIBBON  . . . . . . .  1-22
           1.3.1     LP05 or LP14 Procedure . . . . . . . . . . . .  1-23
           1.3.2     LP07 Procedure . . . . . . . . . . . . . . . .  1-26
           1.3.3     LP10 Procedure . . . . . . . . . . . . . . . .  1-27
           1.4     CONTROLLING THE VERTICAL FORMAT UNIT . . . . . .  1-29
           1.4.1     LP05 or LP14 Procedure . . . . . . . . . . . .  1-29


                                    2-3
                                  SOFTWARE                                  SOFTWARE


           1.4.2     LP07 Procedure . . . . . . . . . . . . . . . .  1-29
           1.4.3     LP10 Procedure . . . . . . . . . . . . . . . .  1-30
           1.5     CONTROLLING THE CHARACTER TRANSLATION RAM  . . .  1-34
           1.6     CLEANING THE LINE PRINTER  . . . . . . . . . . .  1-34


   CHAPTER 2       MAGNETIC TAPES

           2.1     MOUNTING AND DISMOUNTING MAGNETIC TAPES  . . . . . 2-1
           2.1.1     TU45 Mounting Procedure  . . . . . . . . . . . . 2-1
           2.1.2     TU45 Dismounting Procedure . . . . . . . . . . . 2-3
           2.1.3     TU70, TU71, or TU72 Mounting Procedure . . . . . 2-3
           2.1.4     TU70, TU71, or TU72 Dismounting Procedure  . . . 2-6
           2.1.5     TU77 and TU78 Mounting Procedure . . . . . . . . 2-6
           2.1.5.1     Autoload Procedure   . . . . . . . . . . . . . 2-8
           2.1.5.2     Manual Procedure . . . . . . . . . . . . . .  2-12
           2.1.6     TU77 and TU78 Dismounting Procedure  . . . . .  2-13
           2.2     CLEANING MAGNETIC TAPE DRIVES  . . . . . . . . .  2-13


   CHAPTER 3       CARD READER

           3.1     LOADING AND UNLOADING CARDS  . . . . . . . . . . . 3-1
           3.2     CLEANING THE CARD READER . . . . . . . . . . . . . 3-5


   CHAPTER 4       DISK DRIVES

           4.1     MOUNTING AND DISMOUNTING DISK PACKS  . . . . . . . 4-1
           4.1.1     Mounting RP04 or RP06 Disk Packs . . . . . . . . 4-1
           4.1.2     Dismounting RP04 or RP06 Disk Packs  . . . . . . 4-1
           4.1.3     Powering Up an RP20 Disk System  . . . . . . . . 4-2
           4.1.4     Powering Down an RP20 Disk System  . . . . . . . 4-2
           4.1.5     Starting an RP20 Disk Drive  . . . . . . . . . . 4-2
           4.1.6     Stopping an RP20 Disk Drive  . . . . . . . . . . 4-3
           4.1.7     Starting an RP07 Disk Drive  . . . . . . . . . . 4-4
           4.1.8     Stopping an RP07 Disk Drive  . . . . . . . . . . 4-4
           4.1.9     Mounting RA60 Disk Packs . . . . . . . . . . . . 4-4
           4.1.10    Dismounting RA60 Disk Packs  . . . . . . . . . . 4-4
           4.1.11    Starting an RA60 or RA81 Disk Drive  . . . . . . 4-5
           4.1.12    Stopping an RA60 or RA81 Disk Drive  . . . . . . 4-5
           4.1.13    Powering up an HSC50 Disk Controller . . . . . . 4-5
           4.1.14    Powering Down an HSC50 Disk Controller . . . . . 4-5
           4.2     CLEANING DISK PACKS AND DRIVES . . . . . . . . . . 4-6
           4.3     FORMATTING DISK PACKS  . . . . . . . . . . . . .  4-11


   CHAPTER 5       FLOPPY DISKS

           5.1     INSERTING AND REMOVING FLOPPY DISKS  . . . . . . . 5-1
           5.2     HANDLING FLOPPY DISKS  . . . . . . . . . . . . . . 5-1


   FIGURES

           1-1     LP05 Line Printer  . . . . . . . . . . . . . . . . 1-3
           1-2     LP14 Line Printer  . . . . . . . . . . . . . . . . 1-5
           1-3     LP07 Line Printer  . . . . . . . . . . . . . . . . 1-7
           1-4     LP10 Line Printer  . . . . . . . . . . . . . . . . 1-9
           1-5     LP05 or LP14 Paper Installation  . . . . . . . .  1-12
           1-6     LP05 or LP14 Forms Alignment . . . . . . . . . .  1-13
           1-7     LP07 Paper Installation  . . . . . . . . . . . .  1-16
           1-8     LP07 Forms Alignment . . . . . . . . . . . . . .  1-18
           1-9     LP10 Paper Installation  . . . . . . . . . . . .  1-22


                                    2-4
                                  SOFTWARE                                  SOFTWARE


           1-10    LP05 or LP14 Ribbon Installation . . . . . . . .  1-25
           1-11    LP07 Ribbon Installation . . . . . . . . . . . .  1-27
           1-12    LP10 Ribbon Installation . . . . . . . . . . . .  1-29
           2-1     TU45 Magnetic Tape Drive . . . . . . . . . . . . . 2-2
           2-2     TU70, TU71, or TU72 Magnetic Tape Drive  . . . . . 2-5
           2-3     TX03/05 Switch . . . . . . . . . . . . . . . . . . 2-6
           2-4     Autoload/Manual Load Section . . . . . . . . . . . 2-7
           2-5     TU77 Magnetic Tape Drive . . . . . . . . . . . .  2-10
           2-90    Tape Path and Controls . . . . . . . . . . . . .  2-11
           3-1     CR10-E Card Reader . . . . . . . . . . . . . . . . 3-2
           3-2     CR10-F Card Reader . . . . . . . . . . . . . . . . 3-4
           4-1     RP04 Disk Drive  . . . . . . . . . . . . . . . . . 4-6
           4-2     RP06 Disk Drive  . . . . . . . . . . . . . . . . . 4-7
           4-3     RP20 Disk Drive  . . . . . . . . . . . . . . . . . 4-8
           4-5     RP07 Disk Drive  . . . . . . . . . . . . . . . .  4-10
           5-1     Floppy Disk  . . . . . . . . . . . . . . . . . . . 5-2


   TABLES

           1-1     Standard LP10 Line Printer Carriage Tape . . . .  1-31
           1-2     Standard LP10 Line-Printer Vertical Action . . .  1-33












































                                    2-5
                                  SOFTWARE                                  SOFTWARE














                                  OVERVIEW                                  OVERVIEW



   It is important to know how to operate  the  peripheral  equipment  on
   your  system  and how to keep it in the best possible condition.  This
   part discusses the necessary procedures.

   Because most equipment operates more efficiently when kept clean, each
   chapter  details a specific cleaning procedure for each device.  There
   are, however, some general rules for  cleaning.   First  of  all,  the
   computer room should be kept as neat and clean as possible.  Secondly,
   you should have the following cleaning supplies available:

        1.  91% isopropyl alcohol

        2.  Lint-free wipers

        3.  Spray cleaner

        4.  Vacuum cleaner with rubber or plastic attachments, which  can
            blow air as well as take in air

        5.  Cotton-tipped applicators

        6.  Soft suede brush

   You should clean the exterior of all  equipment  weekly.   Vacuum  all
   outside  surfaces  including  cabinet  tops.  Use spray cleaner on all
   exposed surfaces except around switches.

   In general, do not clean the  interior  of  any  equipment  unless  so
   directed  in  the  following  chapters;  your  DIGITAL  Field  Service
   Representative does that job.  Specific instructions for cleaning line
   printers  and  magnetic tape drives are given in Sections Part III 1.6
   and 2.2.

   Always be careful not to bump or change the position of any  switches,
   because this could cause the system or the device to crash.  Likewise,
   when you are cleaning the exterior of any disk drives, be careful  not
   to jar the equipment; that could cause a serious hardware head crash.

   Lastly, if  you  ever  have  any  problem  or  doubts  concerning  the
   operation  or  cleaning  procedure  for a device, consult your DIGITAL
   Field Service Representative.









                                    2-6












                                 CHAPTER 1                                 CHAPTER 1

                               LINE PRINTERS                               LINE PRINTERS



   The procedures below refer to an LP05 line printer  (Figure  1-1),  an
   LP14  line printer (Figure 1-2), an LP07 line printer (Figure 1-3), or
   an LP10 line printer (Figure 1-4).  Be sure to follow  the  procedures
   for the appropriate printer.

   Pay special attention to the printer's on-line/off-line condition.   A
   printer  is  off-line  only when the on-line indicator is not lit.  If
   the on-line indicator stays lit after  you  try  to  set  the  printer
   off-line,  unprinted data still remains in the print buffer.  You must
   then do one of the following:

        1.  Press the ON/OFF LINE switch again  to  cancel  the  off-line
            request and continue printing.

        2.  Open the drum gate, or set MASTER CLEAR and LOSE DATA.

        3.  Wait for the rest of the line to  be  printed,  and  let  the
            printer go off-line.  The on-line light will then go out.




   1.1  DISTRIBUTING LISTINGS   1.1  DISTRIBUTING LISTINGS

   The line-printer spooler, LPTSPL, puts banner  pages  on  listings  to
   identify  the  owner of a listing.  Your System Manager and operations
   staff should decide where line-printer listings are to be  placed  and
   when  they  will  be placed there.  The listings can be distributed to
   users or placed in an area so users can get them.






















                                    1-1
                               LINE PRINTERS                               LINE PRINTERS




































































                                    1-2
                               LINE PRINTERS                               LINE PRINTERS


   Figure 1-1:  LP05 Line Printer   Figure 1-1:  LP05 Line Printer

































































                                    1-3
                               LINE PRINTERS                               LINE PRINTERS




































































                                    1-4
                               LINE PRINTERS                               LINE PRINTERS


   Figure 1-2:  LP14 Line Printer   Figure 1-2:  LP14 Line Printer

































































                                    1-5
                               LINE PRINTERS                               LINE PRINTERS




































































                                    1-6
                               LINE PRINTERS                               LINE PRINTERS


   Figure 1-3:  LP07 Line Printer   Figure 1-3:  LP07 Line Printer

































































                                    1-7
                               LINE PRINTERS                               LINE PRINTERS




































































                                    1-8
                               LINE PRINTERS                               LINE PRINTERS


   Figure 1-4:  LP10 Line Printer   Figure 1-4:  LP10 Line Printer

































































                                    1-9
                               LINE PRINTERS                               LINE PRINTERS


   1.2  CHANGING PAPER AND FORMS   1.2  CHANGING PAPER AND FORMS

   The  following  procedures  describe  paper  or  forms   installation,
   alignment, and adjustment on the various line printers.  Section 1.2.1
   describes the LP05 or LP14 procedure, Section 1.2.2 describes the LP07
   procedure, and Section 1.2.3 describes the LP10 procedure.



   1.2.1  LP05 or LP14 Procedure   1.2.1  LP05 or LP14 Procedure

   The  following  procedure  describes  paper  or  forms   installation,
   alignment,  and  adjustment  on  an LP05 or LP14 line printer (Figures
   1-5, and 1-6).

        1.  Press the ON/OFF LINE switch  to  set  the  printer  off-line
            (indicator not lit).

        2.  Lift the printer cover.

        3.  Using the drum gate latch, unlatch and fully  open  the  drum
            gate.

                                       CAUTION

                    Wait for the character drum to stop  rotating
                    before you proceed.


        4.  Press and release the TOP OF FORM switch.  The tractors  will
            advance to the top-of-form position.

        5.  Open the spring-loaded pressure plates on the tractors.

        6.  Place paper in the tractors and close the pressure plates.

        7.  Loosen both  paper-width  adjustment  guides  and  move  both
            tractors   laterally   to  adjust  for  correct  paper-width.
            Tighten the paper-width adjustment guides.

        8.  If necessary, align the perforations in the paper  above  the
            print  line  index (Figure 1-5) by depressing the FORMS RESET
            switch and rotating the tractor shaft  by  using  the  COARSE
            VERTICAL  FORM  ADJUSTMENT  control.   Then release the FORMS
            RESET switch.

        9.  Adjust  the  horizontal  position  of  the  paper  with   the
            HORIZONTAL  FORM  ADJUSTMENT  control.   Use  the  horizontal
            indentation index marks as a guide.

       10.  Close and latch the drum gate.

       11.  Press ALARM/CLEAR switch.

       12.  Press and release the ON/OFF LINE switch to set  the  printer
            on-line (indicator lit).

       13.  Use the FINE VERTICAL FORM ADJUSTMENT control to correct  any
            small misalignment in the printout during operation.

       14.  Close the printer cover.





                                    1-10
                               LINE PRINTERS                               LINE PRINTERS


   Occasionally, the paper will jam in the line printer.  When the  paper
   jams,  the  printer goes off-line.  If this happens, repeat Steps 2, 3
   and 5-10.  Then press the TOP OF FORM switch.  Requeue the printer job
   (refer to Part V Software Tasks), and press the ON/OFF LINE switch.


   Replenishing Forms

   If you are merely replenishing forms and not changing to  a  different
   form, proceed as follows:

        1.  Lift the printer window.

        2.  Using the drum gate latch, unlatch and fully  open  the  drum
            gate.

                                       CAUTION

                    Wait for the character drum to stop  rotating
                    before you proceed.


        3.  Open all tractor pressure plates.

        4.  Insert the new form, overlapping the old one by at least  one
            page  and  aligning  the two at the page perforations.  Close
            all tractor pressure plates.

        5.  Close and latch the drum gate.

        6.  Close the printer window.

        7.  Press the ON/OFF LINE switch to set the printer  on-line  (ON
            LINE indicator lit).
































                                    1-11
                               LINE PRINTERS                               LINE PRINTERS





































   Figure 1-5:  LP05 or LP14 Paper Installation   Figure 1-5:  LP05 or LP14 Paper Installation






























                                    1-12
                               LINE PRINTERS                               LINE PRINTERS














































   Figure 1-6:  LP05 or LP14 Forms Alignment   Figure 1-6:  LP05 or LP14 Forms Alignment





















                                    1-13
                               LINE PRINTERS                               LINE PRINTERS


   1.2.2  LP07 Procedure   1.2.2  LP07 Procedure

   The following procedure describes forms installation,  alignment,  and
   adjustment on an LP07 line printer.  (Refer to Figures 1-7, and 1-8.)

        1.  If the printer is running, press  the  START/STOP  switch  to
            place the printer in STOP mode (RUN indicator not lit).

        2.  Lift the printer window.

        3.  Unlatch and fully open the band gate and ribbon mask.

                                       CAUTION

                    Wait  until  the  Charaband  stops   rotating
                    before  proceeding  to  the next step.  (This
                    model  printer  has  a   Charaband   printing
                    mechanism   rather  than  a  revolving  print
                    drum.)


        4.  If necessary,  reposition  the  upper  left  and  lower  left
            tractors.  Make sure that they are still vertically aligned.

        5.  Unlock the  upper  and  lower  tractor  locks  on  the  right
            tractors.

        6.  Open all tractor pressure plates.

        7.  Insert the left edge of the form in the  upper  left  tractor
            and close the pressure plate.

        8.  Slide the upper right tractor to a position beneath the right
            hand  form feed holes and close the pressure plate.  Lock the
            upper right tractor.

        9.  Loosen the PAPER TENSION  control  lock  and  set  the  PAPER
            TENSION  control  to  its  extreme  counterclockwise position
            (least tension).

       10.  Insert form in the lower left tractor and close the  pressure
            plate.

       11.  Slide the lower right tractor to a position beneath the right
            hand  form feed holes and close the pressure plate.  Lock the
            lower right tractor.

       12.  Adjust the PAPER TENSION control clockwise to achieve  proper
            vertical form tension.  Proper tension occurs when there is a
            slight deformation of the top edge of the  form  feed  holes.
            Tighten the PAPER TENSION lock.

       13.  Press the TOP OF FORM switch on the operator control panel.

       14.  Rotate the PAPER FEED clutch clockwise to  the  ADJ  position
            and  use the PAPER ADVANCE ADJUSTMENT control to position the
            form at the first line of print.  Use the hammer faces  as  a
            print-line guide.  Return the clutch to the RUN position.

            You can use the VERTICAL PAPER POSITION control to  obtain  a
            fine   adjustment   of  vertical  position.   This  is  often
            necessary when using pre-printed forms.




                                    1-14
                               LINE PRINTERS                               LINE PRINTERS


       15.  Close and latch the ribbon mask.

       16.  Rotate the HORIZONTAL PAPER POSITION  control  to  align  the
            form horizontally; use the horizontal form alignment scale on
            the ribbon mask assembly for reference.

       17.  Set the thickness control to match the form being loaded.

       18.  Close the band gate and printer window.

       19.  Press the TOP OF FORM switch several times to ensure that the
            form is feeding correctly through the tractors.

       20.  Press the START/STOP switch to place the printer in RUN  mode
            (RUN indicator lit).

   Occasionally, the paper will jam in the line printer.  When the  paper
   jams,  the printer goes off-line.  If this happens, repeat Steps 4-13.
   Then press the TOPS OF FORM switch.  Requeue the printer job (refer to
   Part V Software Tasks), and press the ON/OFF LINE switch.


   Replenishing Forms

   If you are merely replenishing the form supply and not changing  to  a
   different form, proceed as follows:

        1.  Lift the printer window.

        2.  Unlatch and fully open the band gate and ribbon mask.

                                       CAUTION

                    Wait  until  the  Charaband  stops   rotating
                    before  proceeding  to  the next step.  (This
                    model  printer  has  a   Charaband   printing
                    mechanism   rather  than  a  revolving  print
                    drum.)


        3.  Open all tractor pressure plates.

        4.  Insert the new form, overlapping the old one by at least  one
            page  and  aligning  the two at the page perforations.  Close
            all tractor pressure plates.

        5.  Close and latch the ribbon mask.

        6.  Close the band gate and printer window.

        7.  Press the START/STOP switch to place the printer in RUN  mode
            (RUN indicator lit).














                                    1-15
                               LINE PRINTERS                               LINE PRINTERS




































   Figure 1-7:  LP07 Paper Installation   Figure 1-7:  LP07 Paper Installation































                                    1-16
                               LINE PRINTERS                               LINE PRINTERS




































































                                    1-17
                               LINE PRINTERS                               LINE PRINTERS


   Figure 1-8:  LP07 Forms Alignment   Figure 1-8:  LP07 Forms Alignment

































































                                    1-18
                               LINE PRINTERS                               LINE PRINTERS


   1.2.3  LP10 Procedure   1.2.3  LP10 Procedure

   The  following  procedure  describes  paper  or  forms   installation,
   alignment, and adjustment on an LP10 line printer (Figure 1-9).

        1.  Press the ON/OFF LINE switch to set the printer off-line  (ON
            LINE indicator not lit).

        2.  Lift the printer window.

        3.  Using the drum gate latch, unlatch and fully  open  the  drum
            gate.

                                       CAUTION

                    Wait for the character drum to stop  rotating
                    before you proceed.


        4.  Be sure the proper vertical format tape  is  in  the  printer
            (Section 1.4).

        5.  Press and release the TOP-OF-FORM switch.

        6.  Set the COPIES CONTROL LEVER to match the form being used.

        7.  Be sure the upper left and lower left tractors are vertically
            aligned.

        8.  Rotate FINE ADJUSTMENT thumbwheels fully  clockwise  on  both
            upper right and lower right tractors.

        9.  Unlock the upper and lower tractor locks on  right  tractors,
            and move them to the extreme right.

       10.  Open all tractor pressure plates.

       11.  Place left edge of form in upper left tractor and  close  the
            pressure plate.

       12.  Position upper right tractor to allow  precise  alignment  of
            tractor feed pins to formfeed holes of the paper.  Lock upper
            right tractor and close tractor pressure plate.


                                        NOTE

                             Do not pull the paper taut.


















                                    1-19
                               LINE PRINTERS                               LINE PRINTERS


       13.  Loosen PAPER TENSION locking knob and PAPER  TENSION  control
            knob.

       14.  Place paper in lower left tractor and close pressure plate.

       15.  Position lower right tractor to allow  precise  alignment  of
            tractor  feed  pins  to  form-feed  holes of the paper.  Lock
            lower right tractor and close tractor pressure plate.


                                        NOTE

                             Do not pull the paper taut.


       16.  Turn PAPER TENSION control knob clockwise until proper  paper
            tension  exists, such as when a slight deformation of the top
            edge of the form-feed holes in the  paper  appears.   Tighten
            the PAPER TENSION locking knob.

       17.  Rotate FINE ADJUSTMENT thumbwheel on both the upper right and
            lower  right  tractors  until proper horizontal paper tension
            exists.  The tension  is  correct  when  there  is  a  slight
            deformation  of  the right edge of the form-feed holes in the
            paper.

       18.  Move the RUN/ADJUST  lever  (located  on  the  right  of  the
            vertical  format unit) to the ADJUST position, and rotate the
            paper drive mechanism by use of the  PAPER  DRIVE  adjustment
            thumbwheel until top-of-form is aligned in position.

                                        NOTE

                    If you are changing the type of forms or  the
                    carriage  control tape, proceed with Step 19.
                    If not, go to Step 24.


       19.  Be sure that the carriage control tape is at the  TOP-OF-FORM
            INDEX  by  pressing and releasing the TOP-OF-FORM switch with
            the tape loop installed.

       20.  Mount the FORMS ALIGNMENT SCALE (located in the paper storage
            area, right side) across the hammer bank area using the dowel
            pins located on special castings at both sides of the  hammer
            bank.

       21.  Using the HORIZONTAL PAPER POSITION thumbwheel, move the form
            horizontally  until  the  first  print  column  on  the  form
            corresponds to the first column on the FORMS ALIGNMENT SCALE.

       22.  Move the RUN/ADJUST lever to the ADJUST position.  Using  the
            PAPER DRIVE ADJUSTMENT thumbwheel, adjust the form vertically
            until the top of the form is aligned with the FORMS ALIGNMENT
            SCALE print line.











                                    1-20
                               LINE PRINTERS                               LINE PRINTERS


       23.  Remove the FORMS ALIGNMENT SCALE and place it in the scabbard
            (paper storage area, right side).

       24.  Move the RUN/ADJUST lever to the RUN position.

       25.  Close and latch the drum gate.

       26.  Close the printer window.

       27.  To check the paper  tension,  press  the  TOP-OF-FORM  switch
            several  times  and  check that the paper does not pull loose
            from the paper-feed tractors.

       28.  Press the ON/OFF LINE switch to set the printer  on-line  (ON
            LINE indicator lit).

   Occasionally, the paper will jam in the line printer.  When the  paper
   jams,  the printer goes off-line.  If this happens, repeat Steps 2, 3,
   and 7-18.  Then press the TOP OF FORM switch.  Requeue the printer job
   (refer to Part V Software Tasks) and press the ON/OFF LINE switch.


   Replenishing Forms

   If you are merely replenishing forms and not changing to  a  different
   form, proceed as follows:

        1.  Lift the printer window.

        2.  Using the drum gate latch, unlatch and fully  open  the  drum
            gate.

                                       CAUTION

                    Wait for the character drum to stop  rotating
                    before you proceed.


        3.  Open all tractor pressure plates.

        4.  Insert the new form, overlapping the old one by at least  one
            page  and  aligning  the two at the page perforations.  Close
            all tractor pressure plates.

        5.  Close and latch the drum gate.

        6.  Close the printer window.

        7.  Press the ON/OFF LINE switch to set the printer  on-line  (ON
            LINE indicator lit).
















                                    1-21
                               LINE PRINTERS                               LINE PRINTERS












































   Figure 1-9:  LP10 Paper Installation   Figure 1-9:  LP10 Paper Installation



   1.3  CHANGING AND REVERSING THE RIBBON   1.3  CHANGING AND REVERSING THE RIBBON

   If the print quality is not as good as it should be, you may  need  to
   change  or  reverse the ribbon.  Section 1.3.1 describes the procedure
   for the LP05 or LP14, Section 1.3.2 describes the  procedure  for  the
   LP07, and Section 1.3.3 describes the procedure for the LP10.














                                    1-22
                               LINE PRINTERS                               LINE PRINTERS


   1.3.1  LP05 or LP14 Procedure   1.3.1  LP05 or LP14 Procedure

   The following procedure describes how to change the ribbon on an  LP05
   or LP14 line printer (Figure 1-10).

        1.  Use the plastic gloves supplied with the ribbon.

        2.  Press the ON/OFF LINE switch to place  the  printer  off-line
            (indicator not lit).

        3.  Lift the printer cover.

        4.  Using the drum gate latch, unlatch and fully  open  the  drum
            gate.

                                       CAUTION

                    Wait until the character drum stops  rotating
                    before proceeding to next step.


        5.  While holding the paper tensioner with  one  hand,  pull  the
            paper  tensioner  plunger  knob  to  your left and remove the
            paper tensioner from the drum gate.

        6.  Grasp the right end (fixed ribbon holders)  of  the  top  and
            bottom ribbon cores and push left against the floating holder
            springs; pull the right end of the ribbon cores away from the
            drum gate first.

        7.  Remove the new ribbon from its packing  box  and  remove  the
            plastic wrapping.

        8.  Place the fully wound  ribbon  core  over  the  top  floating
            ribbon  holder.   The  ribbon  must  be  installed so that it
            unwinds from the top of the ribbon core.

        9.  Push the  ribbon  core  end  toward  your  left  against  the
            floating  ribbon-holder spring, and place the opposite ribbon
            core end over the top fixed ribbon holder.  Be sure that  the
            holder guide-pin slips into the core end slot.

       10.  Unwind the second ribbon core and  bring  it  down  over  the
            character drum and ribbon guide bars.

       11.  Place the ribbon core on the bottom ribbon holders as in Step
            9 for the top ribbon core.

       12.  Install the paper tensioner by placing  the  paper  tensioner
            block  in  position  and  pushing  the  tensioner against the
            tensioner knob, while pulling the knob to allow engagement.

       13.  Close the drum gate and press ALARM/CLEAR switch.

       14.  Press the ON/OFF LINE switch to  place  the  printer  on-line
            (indicator lit).










                                    1-23
                               LINE PRINTERS                               LINE PRINTERS


   Most listings  have  more  print  on  the  left  half  of  the  paper.
   Therefore,  to  prevent  the  ribbon from wearing unevenly, you should
   reverse the ribbon.  To reverse the ribbon, do the following:

        1.  Follow Steps 1 through 6 above to remove the ribbon.

        2.  Holding the two  ribbon  cores  as  you  took  them  off  the
            printer,  rotate  them clockwise until the top core is at the
            bottom.

        3.  Now that you have reversed the top and bottom  ribbon  cores,
            put  the  ribbon  back  on  the  printer by following Steps 9
            through 14 above.





















































                                    1-24
                               LINE PRINTERS                               LINE PRINTERS























































   Figure 1-10:  LP05 or LP14 Ribbon Installation   Figure 1-10:  LP05 or LP14 Ribbon Installation












                                    1-25
                               LINE PRINTERS                               LINE PRINTERS


   1.3.2  LP07 Procedure   1.3.2  LP07 Procedure

   The following procedure describes how to change the ribbon on an  LP07
   line printer.  (Refer to Figure 1-11.)

        1.  Lift the  operator-panel  access  cover  and  set  the  POWER
            circuit breaker to the OFF position.

        2.  Lift the printer window; unlatch and fully open the band gate
            leaving the ribbon mask against the forms.

                                       CAUTION

                    Wait  until  the  Charaband  stops   rotating
                    before  proceeding  to  the next step.  (This
                    model  printer  has  a   charaband   printing
                    mechanism   rather  than  a  revolving  print
                    drum.)


        3.  Using plastic gloves, grasp the ribbon rolls and  force  them
            to  the  right  until the ribbon cores are free of the ribbon
            motors.

        4.  Pull the ribbon completely free of the  band  gate.   Discard
            the ribbon unless you are reversing it.

        5.  Remove the new ribbon from its box  and  remove  the  plastic
            wrapping and any protective cardboard collars.

        6.  Hold the ribbon cores with the fully  wound  core  above  the
            other  so  the  ribbon  will unwind from the underside of the
            ribbon core when installed.  Force the right end of the upper
            ribbon core against the top floating ribbon holder, align the
            left end with the fixed ribbon holder, and allow  the  spring
            tension to lock the core into position.

        7.  Unwind the other ribbon core over the ribbon guide  bars  and
            Charaband.  Position the lower ribbon core between the bottom
            ribbon holders in the same manner.

        8.  Ensure that the slots in the ends of  the  ribbon  cores  are
            engaged by the ribbon holder guide pins.

        9.  Ensure that the ribbon position sensor is not covered by  the
            ribbon.

       10.  Close the band gate and printer window.

       11.  Set the POWER circuit breaker to the ON  position  and  close
            the operator-panel access cover.

       12.  When the READY  indicator  comes  on,  press  the  START/STOP
            switch to place the printer in RUN mode (RUN indicator lit).

   Some listings have more print on the  left  half  of  the  forms.   To
   prevent  the  ribbon from wearing unevenly, you can reverse the ribbon
   as follows:

        1.  Follow Steps 1 through 4 above to remove the ribbon.






                                    1-26
                               LINE PRINTERS                               LINE PRINTERS


        2.  Holding the two  ribbon  cores  as  you  took  them  off  the
            printer,  rotate  them  so  that the top and bottom cores are
            reversed.

        3.  Now that you have reversed the top and bottom  ribbon  cores,
            put  the  ribbon  back  on  the  printer by following Steps 7
            through 12.



























   Figure 1-11:  LP07 Ribbon Installation   Figure 1-11:  LP07 Ribbon Installation



   1.3.3  LP10 Procedure   1.3.3  LP10 Procedure

   The following procedure describes how to change the ribbon on an  LP10
   line printer (Figure 1-12).

        1.  Use the plastic gloves supplied with the ribbon.

        2.  Press the ON/OFF LINE switch to set the printer off-line  (ON
            LINE indicator not lit).

        3.  Lift the printer window.

        4.  Move the drum gate latch left and pull forward to fully  open
            the drum gate.

                                       CAUTION

                    Wait for  character  drum  to  stop  rotating
                    before you proceed.


        5.  Grasp the ribbon cores and force them left  toward  the  drum
            gate  latch  until  the  floating  ribbon-holder  springs are
            completely compressed.




                                    1-27
                               LINE PRINTERS                               LINE PRINTERS


        6.  Remove ribbon by pulling right end of ribbon cores away  from
            drum gate.

        7.  Hold new ribbon cores together and remove ribbon from box.

        8.  Place fully wound ribbon core  over  bottom  floating  ribbon
            holder.

        9.  Push core left and place right core  end  over  bottom  fixed
            ribbon  holder.  Be sure that the holder guide-pin slips into
            the slot on the core end.

       10.  Unwind fully wound ribbon core enough to bring ribbon up  and
            over character drum.

       11.  Slip ribbon between ribbon guide clips and box sensor.

       12.  Place ribbon core on top floating ribbon holder.

       13.  Push core left and place right core end over top fixed ribbon
            holder.   Be  sure  that  the holder guide-pin slips into the
            slot on the core end.

       14.  Close and latch drum gate.

       15.  Close the printer window.

       16.  Press the ON/OFF LINE switch to set the printer  on-line  (ON
            LINE indicator lit).

   Most listings  have  more  print  on  the  left  half  of  the  paper.
   Therefore,  to  prevent  the  ribbon from wearing unevenly, you should
   reverse the ribbon.  Do the following:

        1.  Follow Steps 1-6 above to remove the ribbon.

        2.  Holding the two  ribbon  cores  as  you  took  them  off  the
            printer,  rotate  them clockwise until the top core is at the
            bottom.  Now the top and bottom cores are reversed.

        3.  Put the ribbon back on  the  printer  by  following  Steps  9
            through 16 above.
























                                    1-28
                               LINE PRINTERS                               LINE PRINTERS







































   Figure 1-12:  LP10 Ribbon Installation   Figure 1-12:  LP10 Ribbon Installation



   1.4  CONTROLLING THE VERTICAL FORMAT UNIT   1.4  CONTROLLING THE VERTICAL FORMAT UNIT

   A vertical format unit or VFU controls the paper advance  through  the
   printer.   Section  1.4.1  describes the procedure for controlling the
   vertical format unit on LP05 and LP14  line  printers,  Section  1.4.2
   describes  the procedure for the LP07, and Section 1.4.3 describes the
   procedure for the LP10.



   1.4.1  LP05 or LP14 Procedure   1.4.1  LP05 or LP14 Procedure

   The LP05 and LP14 line printers have a direct access, vertical  format
   unit  that is controlled by software.  (Refer to the files VFU3-20.DOC
   and MAKVFU.HLP.)



   1.4.2  LP07 Procedure   1.4.2  LP07 Procedure

   The LP07 line printer  has  a  direct  access,  vertical  format  unit
   (DAVFU)  that  is the software counterpart of a carriage control tape.
   The DAVFU is loaded by means of a  file  containing  an  8-channel  by


                                    1-29
                               LINE PRINTERS                               LINE PRINTERS


   143-line bit matrix.  The ON bits in this matrix represent the punched
   holes in the corresponding paper carriage control tape.

                                    NOTE

           In most conventional line printers the vertical format
           unit  is  a  punched paper tape.  Instead of a punched
           paper tape, the LP07 has  a  direct  access,  vertical
           format unit (DAVFU).  A DAVFU is a programmable binary
           matrix which replaces the punched paper tape.

   The LP07 printer also provides for the software control of  the  print
   density  (6  or  8  lines per inch) as well as for operator control by
   means of a switch.

   Information on the generating, storing, and loading of DAVFU  matrices
   is contained in the files MAKVFU.DOC and MAKVFU.HLP.



   1.4.3  LP10 Procedure   1.4.3  LP10 Procedure

   To make a standard carriage control tape for vertical  format  control
   of 11-inch paper with 6 lines of printing per inch, do the following:

        1.  Obtain a manual punch made to  punch  a  12-channel  carriage
            control tape for 6 lines of printing per inch.

        2.  Obtain a carriage control  tape  with  feed  holes,  channels
            numbered  1 through 12, and lines numbered 0 to at least 135.
            The tape loop accommodates two forms.

        3.  Align the tape in the punch to begin punching in line 0.

        4.  Using Table 1-1 as a guide, proceed line by line on the tape,
            and punch a hole for each of the channels indicated.

        5.  After you have punched all the lines  through  131,  cut  the
            tape  at  line  135.  Spread some rubber cement between lines
            129 and 135.  Place line 0 over line 132.  Keeping  the  feed
            holes aligned, press the ends of the tape together.

























                                    1-30
                               LINE PRINTERS                               LINE PRINTERS


   Table 1-1:  Standard LP10 Line Printer Carriage Tape   Table 1-1:  Standard LP10 Line Printer Carriage Tape


                 Form 1      Form 2
                 Line        Line          Channels Punched


                   00          66          1-2-3-4-5-6-7-8-9-10-11-12
                   01          67          5-8
                   02          68          3-5-8

                   03          69          4-5-8
                   04          70          3-5-8
                   05          71          5-8-9

                   06          72          3-4-5-8
                   07          73          5-8
                   08          74          3-5-8

                   09          75          4-5-8
                   10          76          3-5-6-8-9
                   11          77          5-8

                   12          78          3-4-5-8
                   13          79          5-8
                   14          80          3-5-8

                   15          81          4-5-8-9-10
                   16          82          3-5-8
                   17          83          5-8

                   18          84          3-4-5-8
                   19          85          5-8
                   20          86          3-5-6-7-8-9

                   21          87          4-5-8
                   22          88          3-5-8
                   23          89          5-8

                   24          90          3-4-5-8
                   25          91          5-8-9-11
                   26          92          3-5-8

                   27          93          4-5-8
                   28          94          3-5-8
                   29          95          5-8

                   30          96          2-3-4-5-6-8-9-10
                   31          97          5-8
                   32          98          3-5-8

                   33          99          4-5-8
                   34          100         3-5-8
                   35          101         5-8-9
                   36          102         3-4-5-8
                   37          103         5-8
                   38          104         3-5-8









                                    1-31
                               LINE PRINTERS                               LINE PRINTERS


   Table 1-1:  Standard LP10 Line Printer Carriage Tape (Cont.)   Table 1-1:  Standard LP10 Line Printer Carriage Tape (Cont.)


                 Form 1      Form 2
                 Line        Line          Channels Punched


                   39          105         4-5-8
                   40          106         3-5-6-7-8-9-12
                   41          107         5-8

                   42          108         3-4-5-8
                   43          109         5-8
                   44          110         3-5-8

                   45          111         4-5-8-9-10
                   46          112         3-5-8
                   47          113         5-8

                   48          114         3-4-5-8
                   49          115         5-8
                   50          116         3-5-6-8-9-11

                   51          117         4-5-8
                   52          118         3-5-8
                   53          119         5-8

                   54          120         3-4-5-8
                   55          121         5-8-9
                   56          122         3-5-8

                   57          123         4-5-8
                   58          124         3-5-8
                   59          125         5-8

                   60          126         5
                   61          127         5
                   62          128         5

                   63          129         5
                   64          130         5
                   65          131         5


        6.  Repunch the holes covered by the overlapped tape.

        7.  Set the printer off-line and open the printer cover.

        8.  Lift the tape loop reader handle, so that the  sprocket  shoe
            clears the sprocket teeth.

        9.  Place the tape over the tape loop reader capstan, so the feed
            holes are over the sprocket teeth.  Be sure channel 12 of the
            tape is toward your left as you are facing the front  of  the
            line printer.

       10.  Close the tape loop reader.  Be sure the tape stays  attached
            to the drive sprocket while you clamp the drive sprocket shoe
            in place.

       11.  Press TOP-OF-FORM switch.  The  tape  should  halt  with  the
            channel 1 star wheel just beyond the TOP-OF-FORM hole.




                                    1-32
                               LINE PRINTERS                               LINE PRINTERS


       12.  Align forms vertically (Section 1.2.3 for LP10).

       13.  Close the printer cover.

   The standard LP10 carriage tape causes the vertical actions listed  in
   Table  1-2.   Channels  1  through  8 are used by system software, and
   channels 9 through 12 are used by diagnostic programs.


   Table 1-2:  Standard LP10 Line-Printer Vertical Action   Table 1-2:  Standard LP10 Line-Printer Vertical Action


        Channel        Vertical Action


           1           Top of form

           2           Space half a page (30 lines)

           3           Double space with automatic top of form after 30
                       impressions

           4           Triple space with automatic top of form after 20
                       impressions

           5           Single space (only  channel  using  the  last  6
                       lines of the page)

           6           Space one sixth of a page (10 lines)

           7           Space one third of a page (20 lines)

           8           Single space with automatic top of form after 60
                       impressions

           9           Space one twelfth of a page (5 lines)

           10          Space one fourth of a page (15 lines)

           11          Space 25 lines

           12          Space 40 lines


   A programmer requiring a nonstandard carriage control tape  must  tell
   you  what  channels need to be punched on each line.  Be sure that you
   punch a tape to accommodate whatever number of  forms  are  needed  to
   make the tape loop at least 10 inches in circumference.


















                                    1-33
                               LINE PRINTERS                               LINE PRINTERS


   1.5  CONTROLLING THE CHARACTER TRANSLATION RAM   1.5  CONTROLLING THE CHARACTER TRANSLATION RAM

   There are two files on the system to control the character translation
   RAM  (random-access  memory).   The  file  SYS:LP64.RAM  is  used  for
   64-character-set printers  and  the  file  SYS:LP96.RAM  is  used  for
   96-character-set  printers.   This RAM controls the way characters are
   treated by the  line-printer  controller  (LP20).   After  TOPS-20  is
   started,  this  RAM  is  loaded  according  to  a  PRINTER  command in
   <SYSTEM>n-CONFIG.CMD, where n is the TOPS-20 release number.  (See the
   TOPS-20   Software   Installation   Guide   for  more  information  on
   n-CONFIG.CMD.)

   If a RAM file gets destroyed, you can re-create it with  MAKRAM.   The
   instructions  for  running  MAKRAM  are  in  the  files MAKRAM.HLP and
   MKR3-20.DOC.



   1.6  CLEANING THE LINE PRINTER   1.6  CLEANING THE LINE PRINTER

   In addition to the general cleaning procedures given at the  beginning
   of  the  chapter, you should clean the character drum every 100 hours,
   or sooner if necessary, using a soft suede brush and a vacuum cleaner.
   Every 500 hours, or sooner if necessary, clean the character drum with
   isopropyl alcohol.









































                                    1-34












                                 CHAPTER 2                                 CHAPTER 2

                               MAGNETIC TAPES                               MAGNETIC TAPES



   The magnetic tapes are designated as logical tape units MTA0:,  MTA1:,
   etc.    The   <SYSTEM>n-CONFIG.CMD  file  (see  the  TOPS-20  Software
   Installation Guide) defines these by matching a logical tape  unit  to
   the serial number of a drive.



   2.1  MOUNTING AND DISMOUNTING MAGNETIC TAPES   2.1  MOUNTING AND DISMOUNTING MAGNETIC TAPES

   The following steps describe how to mount and dismount magnetic tapes.



   2.1.1  TU45 Mounting Procedure   2.1.1  TU45 Mounting Procedure

   The supply reel (containing the tape to be read or written) is the top
   reel on the drive (Figure 2-1).  The reel should be positioned in such
   a way that the tape will unwind if the reel is turned clockwise.   You
   must  insert  a  write-enable  ring  in the back of the supply reel to
   allow writing on the tape.

   To load a tape reel, do the following:

        1.  Position the reel on the upper hub and press the reel lock.

        2.  Thread the tape by taking the tape from the supply  reel  and
            guiding it:

            a.  Toward the arrow to the upper left of the supply reel

            b.  Over the two top guide wheels from right to left

            c.  Down and to the left of the upper white guide wheel

            d.  Slightly right and down, to go under the read/write head

            e.  Down and to the left of the lower white guide wheel

            f.  Down under the capstan

            g.  Up and right, toward the arrow to the left of the take-up
                reel









                                    2-1
                               MAGNETIC TAPES                               MAGNETIC TAPES
















































   Figure 2-1:  TU45 Magnetic Tape Drive   Figure 2-1:  TU45 Magnetic Tape Drive



















                                    2-2
                               MAGNETIC TAPES                               MAGNETIC TAPES


        3.  Wrap the tape leader onto the take-up reel so that  the  tape
            will  wind  onto the reel when it is rotated clockwise.  Wind
            at least three turns onto the take-up reel.  Remove all slack
            in the tape path.

        4.  Recheck tape tracking in the guides and close the dust  cover
            door.

        5.  After the tape  has  been  loaded  and  checked  for  correct
            seating  in  the  guides,  bring  the  tape  to load point by
            pressing and releasing the LOAD switch.


                                    NOTE

           The door on the  drive  should  remain  closed  during
           normal operation.

   When the load cycle is complete, the tape will stop at the load point.
   Then,  if  the ON LINE indicator is not lit, press the ON LINE switch.
   The drive is now ready for use.  If the supply reel does  not  have  a
   write-enable ring, the FILE PROTECT indicator will be lit.



   2.1.2  TU45 Dismounting Procedure   2.1.2  TU45 Dismounting Procedure

   To unload a tape, do the following:

        1.  Press the ON LINE switch to turn off the indicator light.

        2.  Press and release the REWIND switch; the tape will rewind  to
            BOT (the beginning of tape marker).

        3.  Press and release the REWIND  switch  again; this  starts  an
            unload sequence.  (If the tape is at the BOT, one rewind will
            unload the tape.)

                                        NOTE

                    You do not have  to  wait  for  the  tape  to
                    rewind  to  BOT if you want to unload a tape;
                    you can press  the  REWIND  switch  twice  in
                    succession.


        4.  Open the door on the drive and remove the  reel.   Close  the
            door.  Put a ring or canister on the reel.  Place the reel in
            the proper place.




   2.1.3  TU70, TU71, or TU72 Mounting Procedure   2.1.3  TU70, TU71, or TU72 Mounting Procedure

   The supply reel (containing the tape to be read  or  written)  is  the
   right  reel  on the drive (Figure 2-2).  The tape should be positioned
   in such a way that  the  tape  will  unwind  if  the  reel  is  turned
   clockwise.   You  must  insert  a write-enable ring in the back of the
   supply reel to allow writing on the tape.






                                    2-3
                               MAGNETIC TAPES                               MAGNETIC TAPES


   To load a tape reel on a TU70, TU71, or TU72, do the following:

        1.  Press HUB/WINDOW UP switch to open the window.

        2.  Push the supply reel onto the  right-hand  hub  so  the  tape
            unwinds  clockwise.   (Once the reel is snapped onto the hub,
            the reel is automatically secured.)

                                        NOTE

                    The TU70, TU71, or TU72 drives can  use  tape
                    reels  enclosed in cartridges.  To mount this
                    type of tape reel, place the cartridge on the
                    right  hub  so  the two tabs on both sides of
                    the cartridge toggle fit into the  two  slots
                    on  the  left side of the hub.  The cartridge
                    toggle automatically  opens  in  the  loading
                    process and closes in the unloading process.


        3.  Be sure the end of the tape is not twisted and lies flush  on
            the reel.

        4.  Press the RESET switch to close the window.

                                        NOTE

                    If your  magnetic  tape  system  has  a  TX03
                    (Figure  2-3) on the TX02 controller, be sure
                    you enable only one switch at a time.   NEVER
                    have  both  switches  in the enable position.
                    When you enable switch A or B, you enable the
                    DX20  corresponding  to A or B.  Then the CPU
                    connected to the DX20 you enabled can  access
                    the tape drives.  If you do not know the DX20
                    and CPU correspondence to the TX03  switches,
                    ask     your     DIGITAL     Field    Service
                    Representative.  If you have a  TX05  option,
                    only  one  of the unit select switches can be
                    up for any particular tape unit.   Otherwise,
                    two  different  TX02s  can  talk  to the same
                    drive.
























                                    2-4
                               MAGNETIC TAPES                               MAGNETIC TAPES















































   Figure 2-2:  TU70, TU71, or TU72 Magnetic Tape Drive   Figure 2-2:  TU70, TU71, or TU72 Magnetic Tape Drive



        5.  Press LOAD REWIND switch to put the tape at the loadpoint.

        6.  Press START switch.  If the tape loads correctly,  the  READY
            light  comes  on.   If  the supply reel does not have a write
            enable ring, the WRITE DISABLE light comes on also.

            If the tape does not load correctly, the MACHINE CHECK  light
            flashes  and the window opens.  At that point, repeat Steps 3
            through 6.








                                    2-5
                               MAGNETIC TAPES                               MAGNETIC TAPES



















   Figure 2-3:  TX03/05 Switch   Figure 2-3:  TX03/05 Switch



   2.1.4  TU70, TU71, or TU72 Dismounting Procedure   2.1.4  TU70, TU71, or TU72 Dismounting Procedure

   To unload a tape, do the following:

        1.  Press RESET switch.

        2.  Press UNLOAD REWIND switch to completely rewind the tape  and
            open the window.

        3.  Pull the tape reel off the hub,  and  put  the  reel  in  the
            proper place.




   2.1.5  TU77 and TU78 Mounting Procedure   2.1.5  TU77 and TU78 Mounting Procedure

   The TU77 and TU78 drives  can  be  loaded  manually  or  automatically
   depending  on  what  size  reel  is being loaded.  When a 216 or 178mm
   (8-1/2 or 7in) reel is being loaded, the manual procedure must be used
   (Section 2.1.5.2).  If a 267mm (10-1/2in) reel is used and the reel is
   in a cartridge, the cartridge will engage the cartridge interlock  and
   causes the autoload procedure to be used (Section 2.1.5.1).

   If a tape cartridge is not used and the drive's front door is  closed,
   the  autoload procedure is followed.  If the front door is open and if
   the autoload interlock is pulled  out,  the  autoload  procedure  will
   still be used.  Otherwise, the manual procedure must be followed.

















                                    2-6
                               MAGNETIC TAPES                               MAGNETIC TAPES





















































   Figure 2-4:  Autoload/Manual Load Section   Figure 2-4:  Autoload/Manual Load Section














                                    2-7
                               MAGNETIC TAPES                               MAGNETIC TAPES


   2.1.5.1  Autoload Procedure   2.1.5.1  Autoload Procedure - A prerequisite for an autoload  sequence
   is that a full reel of tape be used.  A full reel of tape is such that
   the tape on the reel comes to within 1.59 and 0.64mm (5/8 and 1/4  in)
   of  the  other  edge  of the reel.  Make sure the tape reel is a large
   267mm (10-1/2in) reel.  The supply reel (containing  the  tape  to  be
   read or written) is the top reel on the drive (Figures 2-5 and 2-5.1).
   The reel should be positioned in such a way that the tape will  unwind
   if  the reel is turned clockwise.  You must insert a write-enable ring
   on the back of the supply reel to allow writing on the tape.

   To autoload a tape reel on a TU77 or TU78, do the following:

        1.  Place the supply reel in position on the  upper  hub,  rotate
            until   it   slips   easily   into   place,   and  press  the
            reel-retaining actuator.

        2.  Close the drive front door.

                                        NOTE

                    The  supply  reel  may  be  contained  in   a
                    wraparound cartridge.  It is not necessary to
                    remove or open the cartridge.  The  cartridge
                    will   be  opened  automatically  during  the
                    autoload sequence.  If a wraparound cartridge
                    is  not  used,  the  drive front door must be
                    shut to  close  the  autoload  interlock  and
                    enable the autoload sequence.  If you want to
                    leave the door open, override  the  interlock
                    by pulling the switch out.


        3.  Check that power is applied to the tape  drive  (power  light
            on).

        4.  Press RESET switch.

        5.  Press LOAD/REW switch.

        6.  Press ONLINE switch.

   The tape-up reel will start to turn clockwise.  The supply  reel  will
   turn  counterclockwise  a  few turns and then rotate forward and eject
   the tape into the tape path.  The tape  threads  and  wraps  onto  the
   tape-up reel.





















                                    2-8
                               MAGNETIC TAPES                               MAGNETIC TAPES




































































                                    2-9
                               MAGNETIC TAPES                               MAGNETIC TAPES


   Figure 2-5:  TU77 Magnetic Tape Drive   Figure 2-5:  TU77 Magnetic Tape Drive

































































                                    2-10
                               MAGNETIC TAPES                               MAGNETIC TAPES



































   Figure 2-90:  Tape Path and Controls   Figure 2-90:  Tape Path and Controls
































                                    2-11
                               MAGNETIC TAPES                               MAGNETIC TAPES


   2.1.5.2  Manual Procedure   2.1.5.2  Manual Procedure - The supply reel (containing the tape to be
   read or written) is the top reel on the drive (Figures 2-5 and 2-5.1).
   The reel should be positioned in such a way that the tape will  unwind
   if  the reel is turned clockwise.  You must insert a write-enable ring
   on the back of the supply reel to allow writing on the tape.

   To manually load a tape reel on a TU77 or TU78, do the following:

        1.  Place the supply reel in position on the  upper  hub,  rotate
            until   it   slips   easily   into   place,   and  press  the
            reel-retaining actuator.

        2.  Open buffer door.

        3.  Manually place the tape leader between thread block number  1
            and air bearing number 1 (Figure 2-5.1).

                                        NOTE

                    Ensure that there is no  tape  slack  or  sag
                    between  the  supply  reel  and  thread block
                    number 1.


        4.  Carefully close the buffer  door  making  sure  the  door  is
            closed securely.

        5.  Close the transport front door.

        6.  Check that power is applied to the tape (power light is on).

        7.  Press RESET switch.

        8.  Press LOAD/REW switch.

        9.  Press ONLINE switch.






























                                    2-12
                               MAGNETIC TAPES                               MAGNETIC TAPES


   2.1.6  TU77 and TU78 Dismounting Procedure   2.1.6  TU77 and TU78 Dismounting Procedure

   To unload a tape, do the following:

        1.  Press RESET switch.

        2.  Press UNLOAD switch.

        3.  Pull the tape reel off the hub,  and  put  the  reel  in  the
            proper place.




   2.2  CLEANING MAGNETIC TAPE DRIVES   2.2  CLEANING MAGNETIC TAPE DRIVES

   Clean equipment is essential for proper operation.   Minute  particles
   of dirt trapped between the head and the tape can cause data errors.

   Each day you should do the following:

        1.  Clean the head.  Using  a  lint-free  cloth  or  cotton  swab
            moistened  in  isopropyl  alcohol, wipe the head carefully to
            remove all accumulated oxide and dirt.

                                        NOTE

                    Do not use rough or abrasive cloths to  clean
                    the head.


        2.  Clean the fixed guides, tape  cleaner,  capstan,  and  vacuum
            chamber  with  a cotton swab moistened with isopropyl alcohol
            to remove accumulated oxide  and  dirt.   You  may  open  the
            vacuum column door to access the chamber surfaces.

        3.  Clean the rotating tape guides  with  a  lint-free  cloth  or
            cotton   swab  moistened  in  isopropyl  alcohol.   Wipe  the
            surfaces carefully to remove all accumulated oxide and dirt.


                                    NOTE

           Do not soak the guides with excessive solvent; it  can
           seep into the guide bearings, causing contamination or
           a breakdown of the bearing lubricant.




















                                    2-13





































































                                    3-1












                                 CHAPTER 3                                 CHAPTER 3

                                CARD READER                                CARD READER



   The operator control panels  for  the  low-speed  card  reader  CR10-E
   (Model  M200)  and  high-speed  card  reader CR10-F (Model RS1200) are
   shown in Figures 3-1 and 3-2.



   3.1  LOADING AND UNLOADING CARDS   3.1  LOADING AND UNLOADING CARDS

   Use the following procedure to load  the  input  hopper  with  punched
   cards to be read:

        1.  Be sure the reader is powered on (POWER indicator  lit),  and
            check  that  the MODE switch on the rear control panel of the
            reader is set to REMOTE.

        2.  Pull the hopper follower back with one hand and begin loading
            card  decks into the hopper.  Be sure to place the first card
            to be read at the front with the 9 edge down, column 1 to the
            left.

        3.  Continue placing cards into the  input  hopper  until  it  is
            loosely filled.

                                       CAUTION

                    Do not pack the input hopper so full that the
                    air  from  the blower cannot riffle the cards
                    properly.   If  the  cards  are  packed   too
                    tightly,  the  vacuum  picker  will  not work
                    properly.





















                                    3-1
                                CARD READER                                CARD READER
























































   Figure 3-1:  CR10-E Card Reader   Figure 3-1:  CR10-E Card Reader











                                    3-2
                                CARD READER                                CARD READER




































































                                    3-3
                                CARD READER                                CARD READER


   Figure 3-2:  CR10-F Card Reader   Figure 3-2:  CR10-F Card Reader

































































                                    3-4
                                CARD READER                                CARD READER


        4.  Press RESET switch to allow cards to be read.

        5.  You may continue loading cards while the reader is operating,
            provided  you  maintain  tension  in the front portion of the
            deck as you add cards to the rear.  Do  not  add  more  cards
            until the hopper is at least half empty.

                                       CAUTION

                    When you are trying to maintain  pressure  on
                    the  card  deck,  use just enough pressure to
                    maintain  the  riffle   action   to   prevent
                    damaging cards or jamming the reader.


        6.  Usually, all cards are moved  through  the  reader  into  the
            stacker.  However, if you need to remove cards from the input
            hopper, simply pull back the follower  and  remove  the  card
            deck.

        7.  To unload cards from the output  stacker,  pull  the  stacker
            follower back with one hand and remove the card deck from the
            stacker.  Be careful to maintain the order of the deck.   The
            stacker may be unloaded while cards are being read.




   3.2  CLEANING THE CARD READER   3.2  CLEANING THE CARD READER

   There are no cleaning procedures that you must  perform  on  the  card
   reader  other  than  the  general  ones  given at the beginning of the
   chapter.

































                                    3-5





































































                                    4-1












                                 CHAPTER 4                                 CHAPTER 4

                                DISK DRIVES                                DISK DRIVES



   The different types of disk drives along with their  operator  control
   panels are shown in Figures 4-1, 4-2, 4-3, and 4-4.



   4.1  MOUNTING AND DISMOUNTING DISK PACKS   4.1  MOUNTING AND DISMOUNTING DISK PACKS

|  The following steps describe how to physically mount and dismount disk
   packs.   Extreme  care  must  be taken to avoid physical damage to the
   pack and drive.  Do not put anything on top of a  drive  except  empty
   disk pack covers.



   4.1.1  Mounting RP04 or RP06 Disk Packs   4.1.1  Mounting RP04 or RP06 Disk Packs

   To mount an RP04 or RP06 disk pack, perform the following steps:

        1.  Slide back or lift the drive cover.

        2.  Remove the bottom plate from the disk pack container by means
            of  the locking handle located on the underside of the bottom
            plate.

        3.  Being sure that you have the pack with the correct  label  on
            it, slide the pack straight down onto the disk drive hub.

        4.  Turn the pack cover clockwise until the pack is  locked  into
            position.  DO NOT FORCE THE COVER ONCE IT STOPS TURNING.

        5.  Pull the pack cover straight up and off the pack.

        6.  Close the drive cover and put the empty disk  pack  cover  on
            top of the drive.

        7.  Push the START/STOP switch to the START position.

        8.  When the READY light is on, the drive is ready.




   4.1.2  Dismounting RP04 or RP06 Disk Packs   4.1.2  Dismounting RP04 or RP06 Disk Packs

   To dismount an RP04 or RP06 disk pack, perform the following steps:

        1.  Push the START/STOP switch to  the  STOP  position  and  wait
            until the pack comes to a complete stop.



                                    4-1
                                DISK DRIVES                                DISK DRIVES


        2.  Slide back or lift the drive cover.

        3.  Slip the pack cover straight down over the pack.

        4.  Turn the cover counter clockwise until the pack is free.

        5.  Lift the pack straight up until it clears the drive.

        6.  Secure the bottom plate to the pack cover  by  means  of  the
            locking handle located on the underside of the bottom plate.

        7.  Close the drive cover.




   4.1.3  Powering Up an RP20 Disk System   4.1.3  Powering Up an RP20 Disk System

   To power up an RP20 disk system, perform the following steps.

        1.  Place the POWER switch, located on the front  of  the  master
            disk drive, to the ENABLE position.

        2.  Press the POWER ON button located on the front of master disk
            drive.

                                        NOTE

                    If the disk drive does not  power  up,  check
                    the  POWER  ON switch in the back of the disk
                    control unit.  If the switch  is  in  the  ON
                    position  and  the  disk  drive  is still not
                    powered up, call your DIGITAL  Field  Service
                    Engineer.




   4.1.4  Powering Down an RP20 Disk System   4.1.4  Powering Down an RP20 Disk System

   To power down an RP20 disk system, perform the following steps.

        1.  Cycle down all RP20 disk drives.

        2.  Place the POWER switch, located on the front  of  the  master
            disk drive, to the OFF position.




   4.1.5  Starting an RP20 Disk Drive   4.1.5  Starting an RP20 Disk Drive

   To start an RP20 disk drive, perform the following steps.

        1.  Place the START/STOP toggle switch to the START position.

        2.  Wait for the READY light to illuminate.

   Follow these procedures for each RP20 disk drive you plan on using.







                                    4-2
                                DISK DRIVES                                DISK DRIVES


   4.1.6  Stopping an RP20 Disk Drive   4.1.6  Stopping an RP20 Disk Drive

   To stop an RP20 disk drive, place the START/STOP toggle switch to  the
   STOP position.






























































                                    4-3
                                DISK DRIVES                                DISK DRIVES


   4.1.7  Starting an RP07 Disk Drive   4.1.7  Starting an RP07 Disk Drive

   To start an RP07 disk drive, perform the following steps.

        1.  Place the START/STOP toggle switch to the START position.

        2.  Wait for the on-line light to illuminate.

   Follow these procedures for each RP07 disk drive you plan on using.

                                    NOTE

           When the RP07 is brought on-line  the  access  control
           light (A or B) is illuminated.




   4.1.8  Stopping an RP07 Disk Drive   4.1.8  Stopping an RP07 Disk Drive

   To stop an RP07 disk drive, perform the following step.

        1.  Place the START/STOP toggle switch in the STOP position.

|  
|  
|  
   4.1.9  Mounting RA60 Disk Packs|  4.1.9  Mounting RA60 Disk Packs
|  
|  To mount an RA60 disk pack, perform the following steps:
|  
|       1.  Push the latch on the drawer cover and pull the drawer out.
|  
|       2.  Lift the drive cover.
|  
|       3.  Make sure that you have the pack with the  correct  label  on
|           it.  Slide the pack straight down on to the disk drive hub.
|  
|       4.  Turn the pack cover handle clockwise until the pack is locked
|           into position.  DO NOT FORCE THE COVER ONCE IT STOPS TURNING.
|  
|       5.  Pull the pack cover straight up and off the pack.
|  
|       6.  Close the drive cover and put the empty disk  pack  cover  on
|           top of the drive.
|  
|       7.  Verify that the port switch is set to the A, B, or the A  and
|           B position, depending on which port you are using.
|  
|       8.  Push the RUN/STOP switch.
|  
|       9.  When the READY light is on, the drive is ready.
|  
|  
|  
   4.1.10  Dismounting RA60 Disk Packs|  4.1.10  Dismounting RA60 Disk Packs
|  
|  To dismount an RA60 disk pack, perform the following steps:
|  
|       1.  Push the RUN/STOP switch and wait until the READY light  goes
|           off.





                                    4-4
                                DISK DRIVES                                DISK DRIVES


|       2.  Push the latch and pull the drawer out.
|  
|       3.  Lift the drive cover.
|  
|       4.  Slip the pack cover straight down over the pack.
|  
|       5.  Turn the cover counter clockwise until the pack is free.
|  
|       6.  Lift the pack straight up until it clears the drive.
|  
|       7.  Close the drive cover and push the drawer in.
|  
|  
|  
   4.1.11  Starting an RA60 or RA81 Disk Drive|  4.1.11  Starting an RA60 or RA81 Disk Drive
|  
|  To start an RA60 or RA81 disk drive, perform the following steps:
|  
|       1.  Verify that the port switch A, B, or A/B is set, depending on
|           which port you are using.
|  
|       2.  Press the RUN/STOP switch.
|  
|       3.  Wait for the READY light to illuminate.
|  
|  Follow these procedures for each RA60 or RA81 disk drive you  plan  to
|  use.
|  
|  
|  
   4.1.12  Stopping an RA60 or RA81 Disk Drive|  4.1.12  Stopping an RA60 or RA81 Disk Drive
|  
|  To stop an RA60 or RA81 disk drive, press the RUN/STOP switch and wait
|  for the READY light to go off.
|  
|  
|  
   4.1.13  Powering up an HSC50 Disk Controller|  4.1.13  Powering up an HSC50 Disk Controller
|  
|  For information on powering up an HSC50 disk controller,  consult  the
|  latest version of the HSC50 User Guide.
|  
|  
|  
   4.1.14  Powering Down an HSC50 Disk Controller|  4.1.14  Powering Down an HSC50 Disk Controller
|  
|  For information on powering down an HSC50 disk controller, consult the
|  latest version of the HSC50 User Guide.


















                                    4-5
                                DISK DRIVES                                DISK DRIVES


   4.2  CLEANING DISK PACKS AND DRIVES   4.2  CLEANING DISK PACKS AND DRIVES

   Other than keeping the outside of the drive and the cover of the packs
   clean,  you  should  leave  this  task  to  your DIGITAL Field Service
   Representative.










































   Figure 4-1:  RP04 Disk Drive   Figure 4-1:  RP04 Disk Drive


















                                    4-6
                                DISK DRIVES                                DISK DRIVES




















































   Figure 4-2:  RP06 Disk Drive   Figure 4-2:  RP06 Disk Drive















                                    4-7
                                DISK DRIVES                                DISK DRIVES




















































   Figure 4-3:  RP20 Disk Drive   Figure 4-3:  RP20 Disk Drive















                                    4-8
                                DISK DRIVES                                DISK DRIVES




































































                                    4-9
                                DISK DRIVES                                DISK DRIVES


   Figure 4-5:  RP07 Disk Drive   Figure 4-5:  RP07 Disk Drive

































































                                    4-10
                                DISK DRIVES                                DISK DRIVES


   4.3  FORMATTING DISK PACKS   4.3  FORMATTING DISK PACKS

   The following procedure explains how to  format  RP04  and  RP06  disk
|  packs during timesharing.

                                    NOTE

|          The RP07, RP20, RA60 and RA81 disk packs  are  already
|          formatted.   If  you need to have an RA60 or RA81 disk
|          pack reformatted, contact your Digital  Field  Service
|          Representative.

   To format an RP04 or RP06 disk pack while the system  is  timesharing,
   do the following:

        1.  Type PUSH to OPR.
|  
|       2.  Type ENABLE.

        3.  Type FORMAT.


                                  CAUTION

                  Format only one disk pack at a time.  If
                  you  run  more  than  one FORMAT program
                  simultaneously,    you    can    destroy
                  information on the packs.  Also, use the
                  FORMAT program only when there  is  just
                  one  disk  pack  on  a  channel on-line;
                  otherwise you could  crash  the  system.
                  However,  the  VERIFY  mode  allows more
                  than one disk pack  per  channel  to  be
                  on-line.


        4.  Type RP04 or RP06 to indicate the kind of pack to format,  or
            type HELP to print the help text.

        5.  If FORMAT prints THE FOLLOWING UNIT IS AVAIL., type Y to  use
            that  unit; otherwise, type N.  If you type N and other units
            of the correct kind are available, FORMAT  prints  the  above
            message again.

            When no units of  the  correct  kind  are  available,  FORMAT
            prints  a  message  starting with SORRY - THERE ARE NO DRIVES
            and then exits.  You should then type  CTRL/X  to  return  to
            PTYCON.   Later,  when  a drive is available, try this entire
            procedure again.  A drive is available when it is the correct
            type  for  the  pack  you  specify (RP04 or RP06), when it is
            off-line, and when it is not in use by a diagnostic.

        6.  After you type Y for an available unit, place the pack to  be
            formatted  on  the  drive.   Put  the drive on-line, and then
            write-enable the drive.  Then  press  RETURN  to  the  FORMAT
            program.










                                    4-11
                                DISK DRIVES                                DISK DRIVES


        7.  Type F, V, or B.

                F formats the pack and destroys all data on the pack.

                V verifies (maps the bad regions on) a formatted pack.
                  It creates new BAT blocks first and then  puts  entries
                  in  the  BAT  blocks  for  any bad regions found on the
                  disk.   Data,  other  than  the  BAT  blocks,  is   not
                  destroyed.

                 B formats and then verifies.

        8.  When formatting a pack having data  indicating  a  structure,
            FORMAT  asks if you are sure you want to reformat.  Type Y to
            reformat; otherwise, type N.

        9.  When formatting and/or verification end(s),  FORMAT  asks  if
            you  want  to format another pack.  Type Y for yes, N for no.
            If you type Y, go back to Step 3.

       10.  After you type N in Step 8, type CTRL/X to return to PTYCON.


                              ----- HINT -----

           For more detail on FORMAT, type  HELP  to  FORMAT,  or
           give the command PRINT HLP:FORMAT.HLP for a listing of
           the FORMAT help text.

                            ----- Example -----

        OPR>PUSH
        TOPS-20 Command Processor 6(772)
        @ENABLE
        $FORMAT

        TOPS-20 ON-LINE FORMATTER FOR DISK PACKS ON RH20'S, VERSION IS 1(0)

        ENTER TYPE OF PACK TO BE USED. (OR HELP)
        PICK ONE: (  HELP  RP04  RP05  RP06  ) - RP06

        THE FOLLOWING UNIT IS AVAIL.  DRIVE-5 RH-540
        DO YOU WISH TO USE THIS ONE ?("Y" OR "N" <CR>) - Y


        OPR ACT'N REQ'D:  DRIVE-5 RH-540
        CYCLE UP PACK TO BE FORMATTED AND WRITE ENABLE THE DRIVE
        HIT <CR> WHEN READY


        - BEWARE - FORMATTING DESTROYS ALL EXISTING PACK DATA
        OPTIONS ARE: FORMAT ONLY (F), VERIFY ONLY (V), DO BOTH (B)
        PICK ONE (F,V,B) - F

        THE SERIAL # OF THE DRIVE IS - 73.











                                    4-12
                                DISK DRIVES                                DISK DRIVES


        PACK NAME IS: PS
        ARE YOU SURE YOU WANT IT RE-FORMATTED  ? ("Y" OR "N" <CR>) - Y

        22-JUN-78 10:35:08 STARTING FORMAT OPERATION
        22-JUN-78 10:43:02  OPERATION 20.% COMPLETED. CURRENT BLOCK #61941.
        22-JUN-78 10:57:19  OPERATION 40.% COMPLETED. CURRENT BLOCK #123882.
        22-JUN-78 11:04:02  OPERATION 60.% COMPLETED. CURRENT BLOCK #185823.
        22-JUN-78 11:10:56  OPERATION 80.% COMPLETED. CURRENT BLOCK #247761.
        22-JUN-78 11:17:43 FORMAT COMPLETED

        OPR ACT'N REQ'D:  DRIVE-5 RH-540
        REMOVE PACK FROM THE DRIVE
        HIT <CR> WHEN READY


        FORMAT ANOTHER PACK ? ("Y" OR "N" <CR>) - N

        [EXIT]
        @
        PTYCON>

                          ----- Requirements -----

   OPERATOR, WHEEL, or MAINTENANCE capability required.

   The program must be run under a timesharing job, not a batch job.

                         ----- Error Message -----

   USER DOES NOT HAVE PROPER PRIV. TO RUN THIS PROGRAM !!
   WHEEL, OPERATOR, OR MAINTENANCE CAPABILITY REQUIRED

   Although you do not need to enable capabilities  to  run  FORMAT,  the
   logged-in  directory under which you run FORMAT must have at least one
   of the required capabilities.  You can run FORMAT under an  <OPERATOR>
   which has OPERATOR capability.






























                                    4-13





































































                                    5-1












                                 CHAPTER 5                                 CHAPTER 5

                                FLOPPY DISKS                                FLOPPY DISKS



   As you face the two floppy disk units, unit 0 is  the  left  one,  and
   unit 1 is the right one.



   5.1  INSERTING AND REMOVING FLOPPY DISKS   5.1  INSERTING AND REMOVING FLOPPY DISKS

   To insert a floppy disk (Figure 5-1), first choose  the  correct  unit
   and  press  the  pushbutton  in  the  middle  of the unit to allow the
   spring-loaded front cover to open.  Insert the floppy  disk  with  the
   narrow  slot toward the back and the label up.  Then push down the bar
   on the cover to lock it.

   To remove a floppy disk, press the pushbutton to open the front  cover
   and slide the floppy disk out.

                                    NOTE

           Do not open the covers  while  the  floppy  disks  are
           being accessed.




   5.2  HANDLING FLOPPY DISKS   5.2  HANDLING FLOPPY DISKS

   To prolong the life of a floppy disk and to prevent errors, you should
   handle  floppy  disks  with  reasonable  care.   You should follow the
   handling recommendations given below to prevent  unnecessary  loss  of
   data or interruptions of system operation.

        1.  To attach visual information to a floppy  disk,  first  write
            the  information  on  a  label,  then attach the label to the
            floppy disk.  Do not write on the floppy disk.

        2.  Do not use paper clips on a floppy disk.

        3.  When you write on the outer  jacket  in  which  you  store  a
            floppy  disk, do not use anything that leaves flakes, such as
            lead or grease pencils.

        4.  Do not touch the surface exposed in the slot or  small  index
            hole.

        5.  Do not clean the floppy disk in any manner.

        6.  Keep the floppy disk away from magnets or tools that may have
            become  magnetized.  Exposure to a magnetic field may cause a
            loss of data.


                                    5-1
                                FLOPPY DISKS                                FLOPPY DISKS


        7.  Do not expose the floppy disk to a heat source or sunlight.

        8.  Always return floppy disks to  the  envelopes  supplied  with
            them  to  protect  them  from  dust  and dirt, and store them
            horizontally.

        9.  Protect empty envelopes  from  liquids,  dust,  and  metallic
            materials.

       10.  Do not place heavy items on floppy disks.

       11.  Do not store floppy disks on computer cabinets or  in  places
            where dirt can be blown by fans.

       12.  If a floppy disk has been exposed to less than 59 F (15 C) or
            more than 90 F (32 C), let it stay in the computer room about
            five minutes before you use it.
































   Figure 5-1:  Floppy Disk   Figure 5-1:  Floppy Disk
















                                    5-2
                                FLOPPY DISKS                                FLOPPY DISKS














                                  PART IV                                  PART IV
                            STARTING THE SYSTEM                            STARTING THE SYSTEM

                                  ABSTRACT                                  ABSTRACT

           Chapter 1 describes the various ways of  starting  the
           2040S  and  2060  hardware systems.  This chapter also
           describes how to load the TOPS-20 monitor.














































                                    5-3
                                FLOPPY DISKS                                FLOPPY DISKS


                                      CONTENTS



   CHAPTER 1       STARTING THE HARDWARE SYSTEM

           1.1     POWERING UP THE SYSTEM . . . . . . . . . . . . . . 1-3
           1.2     LOADING THE SYSTEM . . . . . . . . . . . . . . . . 1-4
           1.2.1     Loading from Disk Pack . . . . . . . . . . . . . 1-7
           1.2.2     Loading from Floppy Disks  . . . . . . . . . .  1-11
           1.2.3     Loading Via the Switch Register  . . . . . . .  1-15
           1.3     LOADING THE TOPS-20 MONITOR  . . . . . . . . . .  1-19
           1.3.1     Loading TOPS-20 from a Disk Pack with BOOT . .  1-19
           1.3.2     Loading TOPS-20 from Magnetic Tape with MTBOOT  1-19
           1.4     ANSWERING MONITOR START-UP QUESTIONS . . . . . .  1-20
           1.5     READYING THE SYSTEM FOR TIMESHARING  . . . . . .  1-23
           1.5.1     Timesharing with Operator Coverage . . . . . .  1-25
           1.5.2     Timesharing without Operator Coverage  . . . .  1-26


   FIGURES

           1-1     Load Switches and Switch Register  . . . . . . . . 1-2


   TABLES

           1-1     Switch Register Bit Definitions  . . . . . . . .  1-16






































                                    5-4












                                 CHAPTER 1                                 CHAPTER 1

                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM



   Before you start the system, you should become  familiar  with  a  few
   switches and lights on the processor.  (See Figure 1-1.)

   The four load switches and two power  switches  are  on  the  leftmost
   cabinet,  to the right of the DECSYSTEM-20 label.  Just above them are
   the fault and power lights.  The switch register is located behind the
   door below the load and power switches.












































                                    1-1
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


   Figure 1-1:  Load Switches and Switch Register   Figure 1-1:  Load Switches and Switch Register

































































                                    1-2
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


   The white load switches are labeled in Figure  1-1  as  SW REG,  DISK,
   FLOPPY, and ENABLE.  The purpose of these switches are:

        LOAD SWITCH                   PURPOSE

        SW REG        Loads the system according to the contents  of  the
                      switch register (Part IV Section 1.2.3).

        DISK          Loads the system from a disk pack (Part IV  Section
                      1.2.1).

        FLOPPY        Loads the system from floppy disks (Part IV Section
                      1.2.2).

        ENABLE        Enables loading when pushed simultaneously with  SW
                      REG, DISK, or FLOPPY switches.

   The black power switch, labeled  POWER  ON  and  POWER  OFF,  normally
   supplies  power  to  the  system.   The red EMERGENCY POWER OFF switch
   should be used only in emergencies, such as in a fire, when  you  must
   turn off the power as quickly as possible.

                                  CAUTION

           After you press the EMERGENCY switch,  you  must  call
           your  DIGITAL  Field Service Representative to restore
           power.

   The switch register contains 18 switches (or bits) which are  used  to
   set certain values when you load via the switch register.

   When the power light is red, it indicates that power  is  on.   If  it
   blinks,  a  DIGITAL  Field  Service  Representative  at  your site has
   previously set OVERRIDE.  You should not run the system with  OVERRIDE
   set,  unless  instructed  to  do  so  by  your  DIGITAL  Field Service
   Representative,  because  the  system  does  not  power  down  if   it
   overheats.

   The fault light should normally be off.   If  it  glows,  notify  your
   DIGITAL Field Service Representative.  A glowing fault light indicates
   a malfunction, such as overheating, which stops the system.



   1.1  POWERING UP THE SYSTEM   1.1  POWERING UP THE SYSTEM

   In most cases you should only have to check  to  see  that  the  power
   light over the black POWER ON/POWER OFF switch is glowing red.  If the
   light is not glowing red, place the switch in the POWER ON position.

   Be sure that the system is completely powered on:

        1.  Check the disk drives.  If power  is  off,  remove  the  back
            cover and make sure that the breakers labeled CB1 and CB2 are
|           both on.  For HSC-50 disk subsystems,  refer  to  the  HSC-50
|           User's Guide.

        2.  Check the magnetic tape drives.  If power is off,  press  the
            rocker  switch,  that  is,  the  white  switch containing the
            ON/OFF light on the front panel.  If power is still off, open
            the front cabinet and reset the breaker.





                                    1-3
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


        3.  Check the line printers.  If power is  off  on  an  LP20A  or
            LP20B printer (which has four buttons on the right of the top
            panel), reset the knee-level breaker on the lower panel.  The
            TAPE light will be on.  This means you must reload the Direct
            Access Vertical Format Unit (VFU) when the line printer is up
            and  running.   If  you have an LP20F or LP20H printer (which
            has four rocker switches on the left of the top panel),  lift
            the  cover  just  above the lights and reset the breaker.  Be
            sure that the printer has paper.

        4.  Turn on the console terminal.  Be sure that it is on-line and
            has paper.




   1.2  LOADING THE SYSTEM   1.2  LOADING THE SYSTEM

   After powering up the system or deciding you  must  reload,  you  have
   some  system  loading  alternatives.  You can load from a disk pack or
   floppy disks, and you can specify nondefault parameters via the switch
   register.   In most cases, you should load from a disk pack.  However,
   if you do not have a disk drive available on  the  RH20,  or  if  your
   System  Manager wants you to use software from a floppy disk, load the
   system using floppy disks.  If you use the switch  register  to  load,
   you also enter the KL initialization operator dialog (KLINIT).  KLINIT
   lets you take nondefault loading paths; that is, you can load  from  a
   unit  other  than  disk  drive  0,  configure  memory yourself, load a
   bootstrap from any file, or specify a monitor other than  the  default
   monitor.




































                                    1-4
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


                               LOADING FROM DISK PACK

                                    Sample Output

|           RSX-20F YB15-20 1:00 5-MAR-84

            [SY0: REDIRECTED TO DB0:]
            [DB0: MOUNTED]
|           KLI -- VERSION VB15-12 RUNNING
            KLI -- KL10 S/N:  2136., MODEL B, 60 HERTZ
            KLI -- KL10 HARDWARE ENVIRONMENT:
                    MOS MASTER OSCILLATOR
                    EXTENDED ADDRESSING
                    INTERNAL CHANNELS
                    CACHE

|           KLI -- MICROCODE VERSION 352 LOADED
            KLI -- ALL CACHES ENABLED
            LOGICAL MEMORY CONFIGURATION:
             ADDRESS   SIZE   INT   TYPE   CONTROLLER
            00000000   768K    4    MF20       11
|           03000000   768K    4    MF20       12
            KLI -- CONFIGURATION FILE ALTERED
            KLI -- BOOTSTRAP LOADED AND STARTED

|           BOOT V10.0(201)
|           [BOOT: STARTING CHN:4 DX20A:0 MICROCODE V10(1)] [OK]
|           [BOOT: LOADING] [OK]


            [PS MOUNTED]

            SYSTEM RESTARTING, WAIT...
|           ENTER CURRENT DATE AND TIME: 5-MAR-84 1300<RET>

|           YOU HAVE ENTERED SATURDAY, 5-MARCH-1984
             IS THIS CORRECT (Y,N) Y<RET>
            WHY RELOAD? SCH<RET>
            RUN CHECKD? Y<RET>
            [CHECKING FILE CONSISTENCY]

            [WORKING ON STRUCTURE - PS:]


            LOCAL COUNT OF FILE PAGES: 6691
            LOCAL COUNT OF OVERHEAD PAGES: 2671
            LOCAL COUNT OF USED PAGES: 9362

            SYSTEM COUNT BEFORE CHECKD: 9362
            SYSTEM COUNT AFTER CHECKD: 9362

            THERE ARE NO LOST PAGES.

            RUNNING DDMP

            *****
|           5-MAR-84    13:07:30 - TGHA V2(6) IS RUNNING FOR THE FIRST
|           TIME
            *****







                                    1-5
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


|           SYSJOB 6(23) STARTED AT 5-MAR-84 1057
            RUN SYS:ORION
            RUN SYS:QUASAR
            RUN SYS:MOUNTR
            RUN SYS:INFO
            RUN SYS:MAILER
            RUN SYS:MAPPER
            RUN SYS:LPTSPL
            RUN SYS:CDRIVE
            RUN SYS:SPRINT
            JOB 0 /LOG OPERATOR XX OPERATOR
            ENA
            ^ESET LOGIN PSEUDO
            ^ESET LOGIN CONSOLE
            ^ESET OPERATOR
            PTYCON
|           GET SYSTEM:6-PTYCON.ATO
            /
            JOB 1 /LOG OPERATOR XX OPERATOR
            ENA
            RUN SYS:BATCON
            /
            JOB 2 /LOG OPERATOR XX OPERATOR
            ENA
            RUN SYS:NETCON
            /








































                                    1-6
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


   1.2.1  Loading from Disk Pack   1.2.1  Loading from Disk Pack

   Loading from disk pack is the most common way to load the system.   Be
   sure that system power is ON, that all hardware and software have been
   correctly installed,  and  that  the  disk  packs  have  been  mounted
   properly.   Also,  be  sure the formatted disk pack containing TOPS-20
   and RSX-20F files is on a dual-ported drive (CONTROLLER SELECT  switch
   points to A/B), and the drive is unit 0 on the RH20.

   Next, do the following:

        1.  Press the DISK and ENABLE load switches simultaneously.

        2.  Type the current date and time and confirm it.

        3.  Type the reason for reloading.

        4.  Type YES or NO response to the RUN CHECKD question.

   These steps load the front-end software, load the TOPS-20 monitor, and
   start the system for timesharing.

   Now, a more detailed explanation of the above steps:

        1.  Press the upper halves of the DISK and ENABLE  load  switches
            simultaneously.   The following is an example of what is then
            printed on the CTY:

|                RSX-20F YB15-20 1:00 5-MAR-84

                 [SY0: REDIRECTED TO DB0:]
                 [DB0: MOUNTED]
|                KLI -- VERSION VB15-12 RUNNING
                 KLI -- KL10 S/N:  2136., MODEL B, 60 HERTZ
                 KLI -- KL10 HARDWARE ENVIRONMENT:
                         MOS MASTER OSCILLATOR
                         EXTENDED ADDRESSING
                         INTERNAL CHANNELS
                         CACHE

|                KLI -- MICROCODE VERSION 352 LOADED
                 KLI -- ALL CACHES ENABLED
                 LOGICAL MEMORY CONFIGURATION:
                  ADDRESS     SIZE  INT    TYPE CONTROLLER
                 00000000     768K   4     MF20     11
                 KLI -- CONFIGURATION FILE ALTERED
                 KLI -- BOOTSTRAP LOADED AND STARTED


|                BOOT V10.0(201)
|                [BOOT: LOADING] [OK]


                 [PS MOUNTED]

                 System restarting, wait...










                                    1-7
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


            The first line of output tells you the version  and  creation
            time  and  date of RSX-20F.  The next two lines tell you that
            DB0: (the disk pack on drive 0) is the system  device  (SY0:)
            for  the  front-end  tasks and that it is mounted.  All lines
            beginning with KLI and the text between those  lines  contain
|           output  from  KLINIT.  The line BOOT V10.0 (167) notifies you
            that the BOOT program is running, and the line following this
            output  tells  you  what the BOOT program is doing.  The line
            [PS MOUNTED] is output by the TOPS-20 monitor and means  that
            the  public  file  structure  has  been  mounted and the line
            following this output tells you  what  the  BOOT  program  is
            doing.   TOPS-20  then outputs the next line to all terminals
            to indicate the system is being restarted and is soon  to  be
            available.

            If you have a DX20  magnetic  tape  system  or  a  DX20  disk
            system,  you  also  see a message(s) similar to the following
            before [PS MOUNTED]:

|           [BOOT:  STARTING CHN:1 DX20A:0 MICROCODE V10(0)] [OK]

|           [BOOT:  STARTING CHN:2 DX20B:0 MICROCODE V10(0)] [OK]

            If "?" precedes CHN., see Part VI Section 1.4.5.

                                        NOTE

                    DX20:A specifies a DX20 tape system
                    DX20:B specifies a DX20 disk system


                                       WARNING

                    If a power-fail occurs, you must  reload  the
                    DX20  microcode  manually.   Refer to Part VI
                    Section 1.4.5.


                                        NOTE

                    The  above  example  assumes  you  have   the
                    monitor  in PS:<SYSTEM>MONITR.EXE and all PS:
                    packs are on-line.  To boot the system from a
                    structure other than PS:  or from a different
                    file, see Part  IV  Section  1.2.3  for  this
                    procedure.


        2.  Continue at Part IV Section 1.4, Answering  Monitor  Start-up
            Question
















                                    1-8
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


                              LOADING FROM FLOPPY DISKS

                                    Sample Output

|                RSX-20F YB15-20 8:55 5-MAR-84

                 [SY0: REDIRECTED TO DX0:]
                 [DX0: MOUNTED]
                 [DX1: MOUNTED]
|                KLI -- VERSION VB15-12 RUNNING
                 KLI -- KL10 S/N:  2136., MODEL B, 60 HERTZ
                 KLI -- KL10 HARDWARE ENVIRONMENT:
                         MOS MASTER OSCILLATOR
                         EXTENDED ADDRESSING
                         INTERNAL CHANNELS
                         CACHE

|                KLI -- MICROCODE VERSION 352 LOADED
                 KLI -- ALL CACHES ENABLED
                 LOGICAL MEMORY CONFIGURATION:
                  ADDRESS     SIZE  INT    TYPE CONTROLLER
                 00000000     768K   4     MF20     11
|                03000000     768K   4     MF20     12
                 CONFIGURATION FILE WRITTEN
                 KL1 -- BOOTSTRAP LOADED AND STARTED


|                BOOT V10.0(201)
|                [BOOT: LOADING] [OK]

                 [PS MOUNTED]

                 System restarting, wait...
|                ENTER CURRENT DATE AND TIME: 5-MAR-84 1032<RET>

|                YOU HAVE ENTERED WEDNESDAY, 5-MARCH-1984 10:32AM,
                  IS THIS CORRECT (Y,N) Y<RET>
                 WHY RELOAD? SCH<RET>
                 RUN CHECKD? Y<RET>
                 [CHECKING FILE CONSISTENCY]

                 [WORKING ON STRUCTURE - PS:]


                 LOCAL COUNT OF FILE PAGES: 6692
                 LOCAL COUNT OF OVERHEAD PAGES: 2671
                 LOCAL COUNT OF USED PAGES: 9363

                 SYSTEM COUNT BEFORE CHECKD: 9363
                 SYSTEM COUNT AFTER CHECKD: 9363

                 THERE ARE NO LOST PAGES.

                 RUNNING DDMP

                 *****
|                5-MAR-84    13:07:30 - TGHA V2(6) IS RUNNING FOR THE
|                FIRST
                 TIME
                 *****






                                    1-9
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


|                SYSJOB 6(23) STARTED AT 5-MAR-84 1032
                 RUN SYS:ORION
                 RUN SYS:QUASAR
                 RUN SYS:MOUNTR
                 RUN SYS:INFO
                 RUN SYS:MAILER
                 RUN SYS:MAPPER
                 RUN SYS:LPTSPL
                 RUN SYS:CDRIVE
                 RUN SYS:SPRINT
                 JOB 0 /LOG OPERATOR  XX OPERATOR
                 ENA
                 ^ESET LOGIN PSEUDO
                 ^ESET LOGIN CONSOLE
                 ^ESET OPERATOR
                 PTYCON
                 GET SYSTEM:6-PTYCON.ATO
                 /
                 JOB 1 /LOG OPERATOR XX OPERATOR
                 ENA
                 RUN SYS:BATCON
                 /
                 JOB 2 /LOG OPERATOR XX OPERATOR
                 ENA
                 RUN SYS:NETCON
                 /

                 SJ  0:
|                SJ  0:  INSTALLATION-TEST SYSTEM, TOPS-20 MONITOR 6(6035)
                 SJ  0: @LOG OPERATOR OPERATOR
|                SJ  0:  JOB 1 ON TTY106 5-MAR-84 10:32:46
                 [FROM OPERATOR: SYSTEM IN OPERATION]


































                                    1-10
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


   1.2.2  Loading from Floppy Disks   1.2.2  Loading from Floppy Disks

   Load from floppy disks if problems prevent you  from  loading  from  a
   disk  pack, or if you need a version of the front-end software that is
   only on floppy disks.  Be sure that system power is ON and the  proper
   software  exists  on the disk packs and the floppy disks (as on System
   Floppy A and System Floppy B).  Mount the floppy containing  the  BOOT
   program  (System  Floppy  A)  on  unit 0, the left unit.  Mount System
   Floppy B on unit 1, the right unit.  Leave the  floppy  disks  mounted
   while the system is running.

   Next, do the following:

        1.  Press the FLOPPY and ENABLE load switches simultaneously.

        2.  Type the current date and time and confirm it.

        3.  Type the reason for reloading.

        4.  Type a YES or NO response to the RUN CHECKD question.

   These steps load the front-end software, load the TOPS-20 monitor, and
   start the system for timesharing.

   Now, a more detailed explanation of the above steps:

        1.  Press the upper halves of the FLOPPY and ENABLE load switches
            simultaneously.   The following is an example of what is then
            printed on the CTY:

|                RSX-20F YB15-20 8:55 5-MAR-84

                 [SY0: REDIRECTED TO DX0:]
                 [DX0: MOUNTED]
                 [DX1: MOUNTED]
|                KLI -- VERSION VB15-12 RUNNING
                 KLI -- KL10 S/N:  2136., MODEL B, 60 HERTZ
                 KLI -- KL10 HARDWARE ENVIRONMENT:
                         MOS MASTER OSCILLATOR
                         EXTENDED ADDRESSING
                         INTERNAL CHANNELS
                         CACHE

|                KLI -- MICROCODE VERSION 352 LOADED
                 KLI -- ALL CACHES ENABLED
                 LOGICAL MEMORY CONFIGURATION:
                  ADDRESS     SIZE  INT    TYPE CONTROLLER
                 00000000     768K   4     MF20     11
|                03000000     768    4     MF20     12
                 CONFIGURATION FILE WRITTEN
                 KLI -- BOOTSTRAP LOADED AND STARTED


|                BOOT V10.0(201)
|                [BOOT: LOADING] [OK]


                 [PS MOUNTED]

                 System restarting, wait...






                                    1-11
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


            The first line of output tells you the version  and  creation
            time  and  date  of  RSX-20F.   The  next line indicates that
            DX0: (the floppy disk on unit 0) is the system device  (SY0:)
            for  the  front-end  tasks.  The next two lines tell you that
            floppy units 0 and 1 have been mounted.  All lines  beginning
            with KLI and all text between those lines contain output from
|           KLINIT.  The line BOOT  V10.0(167)  notifies  that  the  BOOT
            program  is  running and the line following this output tells
            you what the BOOT program is doing.  The line [PS MOUNTED] is
            output  by TOPS-20  and means  that the  public structure has
            been mounted and the line following  this  output  tells  you
            what  the  BOOT  program  is doing.  TOPS-20 then outputs the
            next line of text to all terminals to indicate the system  is
            being restarted and is soon to be available.

            If you have a DX20  magnetic  tape  system  or  a  DX20  disk
            system,  you  also  see  a  message  similar to the following
            before [PS MOUNTED]:

|           [BOOT:  STARTING CHN:1 DX20A:0 MICROCODE V10(0)] [OK]

|           [BOOT:  STARTING CHN:2 DX20B:0 MICROCODE V10(0)] [OK]

                                        NOTE

                    DX20:A specifies a DX20 tape system
                    DX20:B specifies a DX20 disk system

            If "?" precedes CHN, see Section 1.4.5 in Part VI.

                                       WARNING

                    If a power-fail occurs, you must  reload  the
                    DX20  microcode  manually.   Refer to Part VI
                    Section 1.4.5.


                                        NOTE

                    The  above  example  assumes  you  have   the
                    monitor  in PS:<SYSTEM>MONITR.EXE and all PS:
                    packs are on-line.  To boot the system from a
                    structure other than PS:  or from a different
                    file, see Part IV Section  1.2.3.   for  this
                    procedure.


        2.  Continue at Part IV Section 1.4, Answering  Monitor  Start-up
            Question.

















                                    1-12
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


                           LOADING VIA THE SWITCH REGISTER
                              (bits 0, 1, 2, and 7 set)

                                    Sample Output

|                RSX-20F YB15-20 6:28 5-MAR-84

                 [SY0: REDIRECTED TO DB0:]
                 [DB0: MOUNTED]
|                KLI -- VERSION VB15-12 RUNNING
                 KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?
                 KLI>YES
                 KLI -- KL10 S/N:  2136., MODEL B, 60 HERTZ
                 KLI -- KL10 HARDWARE ENVIRONMENT:
                         MOS MASTER OSCILLATOR
                         EXTENDED ADDRESSING
                         INTERNAL CHANNELS
                         CACHE

                 KLI -- RELOAD MICROCODE [YES,VERIFY,FIX,NO]?
                 KLI>YES
|                KLI -- MICROCODE VERSION 352 LOADED
                 KLI -- RECONFIGURE CACHE [FILE,ALL,YES,NO]?
                 KLI>ALL
                 KLI -- ALL CACHES ENABLED
                 KLI -- CONFIGURE KL MEMORY [FILE,ALL,REVERSE,FORCE,YES,NO]?
                 KLI>ALL

                 LOGICAL MEMORY CONFIGURATION.
                  ADDRESS   SIZE   INT   TYPE   CONTROLLER
|                00000000   768K    4    MA20     0 & 1
                 00400000   768K    4    MF20     11

                 KLI -- LOAD KL BOOTSTRAP [YES,NO,FILENAME]?
                 KLI>YES
                 KLI -- WRITE CONFIGURATION FILE [YES,NO]?
                 KLI>NO
                 KLI -- BOOTSTRAP LOADED AND STARTED

|                BOOT V10.0(201)

                 BOOT><RET>
                 [BOOT: LOADING] [OK]


                 [PS MOUNTED]

                 System restarting, wait...
|                ENTER CURRENT DATE AND TIME: 5-MAR-84 1057<RET>

|                YOU HAVE ENTERED WEDNESDAY, 5-MARCH-1984 10:57AM,
                  IS THIS CORRECT (Y,N) Y<RET>
                 WHY RELOAD? SCH<RET>
                 RUN CHECKD? N<RET>

                 RUNNING DDMP

                 *****
|                5-MAR-84    13:07:30 - TGHA V2(6) IS RUNNING FOR THE
                 FIRST TIME
                 *****





                                    1-13
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


|                SYSJOB 6(23) STARTED AT  5-MAR-84 1057
                 RUN SYS:ORION
                 RUN SYS:QUASAR
                 RUN SYS:MOUNTR
                 RUN SYS:INFO
                 RUN SYS:MAILER
                 RUN SYS:MAPPER
                 RUN SYS:LPTSPL
                 RUN SYS:CDRIVE
                 RUN SYS:SPRINT
                 JOB 0 /LOG OPERATOR XX OPERATOR
                 ENA
                 ^ESET LOGIN PSEUDO
                 ^ESET LOGIN CONSOLE
                 ^ESET OPERATOR
                 PTYCON
|                GET SYSTEM:6-PTYCON.ATO
                 /
                 JOB 1 /LOG OPERATOR XX OPERATOR
                 ENA
                 RUN SYS:BATCON
                 /
                 JOB 2 /LOG OPERATOR XX OPERATOR
                 ENA
                 RUN SYS:NETCON
                 /
                 SJ  0:
|                SJ  0:  INSTALLATION-TEST SYSTEM, TOPS-20 MONITOR 6(6035)
                 SJ  0: @LOG OPERATOR OPERATOR
                 SJ  0:  JOB 1 ON TTY106 5-MAR-84 10:57:18
                 [FROM OPERATOR: SYSTEM IN OPERATION]



































                                    1-14
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


   1.2.3  Loading Via the Switch Register   1.2.3  Loading Via the Switch Register

   Load the system using the switch register if you have to do any of the
   following:

        1.  Configure cache or memory yourself, because  you  cannot  use
            the default configuration.

        2.  Load a  bootstrap  with  a  name  other  than  BOOT.EXB,  for
            example,  MTBOOT.EXB,  which  loads  a  monitor from magnetic
            tape.

        3.  Load a TOPS-20 monitor other than PS:<SYSTEM>MONITR.EXE,  for
            example,  a  monitor  on  magnetic  tape  or a monitor with a
            different name on disk.

        4.  Load from a disk pack that is not on unit 0.

        5.  Dump the TOPS-20 monitor after a crash.

   To begin the loading procedure you must use a disk pack or floppy disk
   to  load  the  software  for the front end.  If you are going to use a
   disk pack, it must contain the appropriate software and be mounted  on
   a  dual-ported drive (CONTROLLER SELECT switch is set to A/B).  If you
   are going to use floppy disks, you must have  the  appropriate  floppy
   disks mounted (System Floppy A and System Floppy B).

   Next, do the following:

        1.  Set the proper switches (or bits)  in  the  switch  register.
            Usually,  you  want  to set switches 0, 1, and 2 to enter the
            KLINIT dialog.  If you are going to use a disk pack on unit 0
            to get the front-end software, also set switch 7.

        2.  Press the load switches SW REG and ENABLE simultaneously.

        3.  Answer the questions to the KLINIT dialog (Appendix B).

        4.  Type the current date and time and confirm it.

        5.  Type the reason for reloading.

        6.  Type a YES or NO response to the RUN CHECKD question.

   These steps load the front-end software, load the TOPS-20 monitor, and
   start the system for timesharing.

   Now, a more detailed explanation of the above steps:

        1.  Set the appropriate switches (or bits) in the switch register
            by raising them.  The bits and the meaning for those used are
            listed in Table 1-1.














                                    1-15
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


   Table 1-1:  Switch Register Bit Definitions   Table 1-1:  Switch Register Bit Definitions


                              Switch Register
   !--------------------------------------------------------------------!
   ! 17  16 ! 15 ! 14       11 ! 10 ! 9 ! 8 ! 7 ! 6       3 ! 2 ! 1 ! 0 !
   !--------------------------------------------------------------------!

     Bit                              Meaning


     0            If this is set, the remaining bits  are  interpreted.
                  You must set this to load via the switch register.

     1,2          If both  are  set,  the  KL  initialization  operator
                  dialog (KLINIT) is loaded and started.

                  If either one is set,  only  the  front-end  monitor,
                  RSX-20F,   is  started;  there  is  no  communication
                  between the KL and console front-end processors.

                  If neither is set, the system is loaded in  the  same
                  way  as  by the DISK or FLOPPY load switch.  However,
                  because other bits are interpreted, you  can  specify
                  the unit number of the bootstrap device in bits 8-10.
                  The  default  path  is  taken  by  KLINIT  until  the
                  bootstrap prompts with BOOT>.  Then you can specify a
                  monitor   other   than   the   default   (which    is
                  PS:<SYSTEM>MONITR.EXE)   or   give   a   switch,  for
                  example, /D to dump KL memory.

     3-6          Currently not used and must not be set.

     7            If this is set, the bootstrap device is a  disk  pack
                  on  a  dual-ported  drive.  Front-end files on a disk
                  pack are used for system loading.

                  If this is not set, the  bootstrap  devices  are  the
                  floppy  disks.   Front-end  files on floppy disks are
                  used for system loading.

     8-10         These three bits allow you to specify in  binary  the
                  unit  number  of  the bootstrap device (0 to 7).  For
                  example, no bits set  indicate  unit  0;  bit  8  set
                  indicates  unit 1, bit 9 set indicates unit 2, bits 8
                  and 9 set indicate unit 3, bit 10 indicates  unit  4,
                  bits  10 and 8 set indicate unit 5, and bits 10 and 9
                  set indicate unit 6.

     11-14        Currently not used and must not be set.

     15           This bit indicates what is done  when  an  I/O  error
                  occurs  during  bootstrapping.  When this bit is set,
                  the operation is retried  indefinitely  if  an  error
                  occurs.   If  this bit is not set (the normal case) a
                  halt occurs after ten unsuccessful retries.

     16-17        Currently not used and must not be set.


        2.  Press the upper halves of the SW REG and ENABLE load switches
            simultaneously.




                                    1-16
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


            The following is an example of what is  printed  on  the  CTY
            when  bits 0, 1, and 2 are set, that is, when 7 is entered in
            the switch register.

|                RSX-20F YB15-20 8:55 5-MAR-83

                 [SY0: REDIRECTED TO DX0:]
                 [DX0: MOUNTED]
                 [DX1: MOUNTED]
|                KLI -- VERSION VB15-12 RUNNING
                 KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?
                 KLI>

            The first line of output tells you the version  and  creation
            time  and  date  of  RSX-20F.   The  next line indicates that
            DX0: (the floppy disk on unit 0) is the system device  (SY0:)
            for  the  front-end  tasks.  The next two lines tell you that
            floppy units 0 and 1 have been mounted.  If bit  7  had  been
            set,  the  system  would have gone to disk drive 0 for a disk
            pack and the line with DX1 would have been omitted.   If  any
            of  bits  8-10  had been set, the unit number would have been
            something other than 0.

            The lines beginning with KLI are printed by  KLINIT,  the  KL
            initialization operator dialog.

            The following is an example of the CTY output when bit  0  is
            set  with  bits 1 and 2 not set.  Bits 7, 8, and 9 are set to
            specify a different bootstrap device and unit.

|                RSX-20F YB15-20 8:55 5-MAR-84

                 [SY0: REDIRECTED TO DB3:]
                 [DB3: MOUNTED]
|                KLI -- VERSION VB15-12 RUNNING
                 KLI -- KL10 S/N:  2136., MODEL B, 60 HERTZ
                 KLI -- KL10 HARDWARE ENVIRONMENT:
                         EXTENDED ADDRESSING
                         INTERNAL CHANNELS
                         CACHE

|                KLI -- MICROCODE VERSION 350 LOADED
                 KLI -- ALL CACHES ENABLED
                 LOGICAL MEMORY CONFIGURATION:
                  ADDRESS     SIZE  INT    TYPE CONTROLLER
                 00000000     768K   4     MF20     11
|                03000000     768K   4     MF20     12

                 CONFIGURATION FILE WRITTEN
                 KLI -- BOOTSTRAP LOADED AND STARTED

|                BOOT V10.0(201)

                 BOOT>

            All lines beginning with KLI and all text between those lines
            contain  output  from  KLINIT.  In this case KLINIT takes the
            default path up to and including the loading and starting  of
            the  KL  bootstrap.   Then,  instead  of  loading the default
            monitor, PS:<SYSTEM>MONITR.EXE, the  bootstrap  prompts  with
            BOOT>  and  lets you type in the name of the monitor that you
            want to load.  For example:

                 BOOT><SUBSYS>TEST01.EXE


                                    1-17
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


            If you press RETURN after BOOT>, you get the default monitor.

            Once you specify the monitor, it is loaded and  started;  the
            system prints:

                 [PS MOUNTED]

                 SYSTEM RESTARTING, WAIT...

            The first line means that the public file structure has  been
            mounted.  The next line of text is output to all terminals to
            indicate the system is being restarted  and  is  soon  to  be
            available.

            If you have a DX20 magnetic  tape  system,  you  also  see  a
            message like the following before [PS MOUNTED].

|           [BOOT:  STARTING CHN:1 DX20A:0 MICROCODE V10(0)] [OK]

|           [BOOT:  STARTING CHN:2 DX20B:0 MICROCODE V10(0)] [OK}

                                        NOTE

                    DX20:A specifies a DX20 tape system
                    DX20:B specifies a DX20 disk system

            If "?" precedes CHN, see Part VI Section 1.4.5.

            Because the bit settings in the latter example cause much  of
            the dialog to take a default path, continue reading at Step 4
            for that example.  For the former example, continue  at  Step
            3.

        3.  After the output:

                 KLI -- ENTER DIALOG [NO,YES,EXIT,BOOT]?
                 KLI>

            you are in the KL initialization operator dialog, KLINIT, and
            you must answer the questions asked.

            Once the KL bootstrap has been loaded and started via KLINIT,
            and  you have responded successfully to the BOOT> prompt, the
            TOPS-20 monitor prints:

                 [PS MOUNTED]

                 SYSTEM RESTARTING, WAIT...

            The first line means that the public file structure has  been
            mounted.  The next line of text is output to all terminals to
            indicate the system is being restarted  and  is  soon  to  be
            available.

   Continue at Part IV Section 1.4, Answering Monitor Start-up Questions.











                                    1-18
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


   1.3  LOADING THE TOPS-20 MONITOR   1.3  LOADING THE TOPS-20 MONITOR

   The TOPS-20 monitor is loaded during the  procedure  for  loading  the
   system,  which was discussed in the previous three sections.  The next
   two sections  give  additional  information  on  loading  the  TOPS-20
   monitor to emphasize where the monitor can be loaded from.



   1.3.1  Loading TOPS-20 from a Disk Pack with BOOT   1.3.1  Loading TOPS-20 from a Disk Pack with BOOT

   When you load the system using the DISK or FLOPPY load switch, TOPS-20
   is loaded and started from PS:<SYSTEM>MONITR.EXE.

   When you load the  system  via  the  switch  register,  the  bootstrap
   program  issues  a  prompt  and  you  can  either press RETURN for the
   default monitor (PS:<SYSTEM>MONITR.EXE) or type a  file  specification
   for   a   different  monitor.   If  you  omit  a  field  in  the  file
   specification, that field is defaulted to what it is  in  the  default
   monitor.

                            ----- Example -----

        BOOT><TESTSY>MON002.EXE

   If you set bits 1 and 2 in the switch register and receive the  KLINIT
   question:

        KLI -- LOAD KL BOOTSTRAP [YES,NO,FILENAME]?

   you  can  specify  a  bootstrap  other  than  the  default,  BOOT.EXB.
   However, the file you specify must reside on the bootstrap device.

   In this example the KL bootstrap is VBORP4.EXB and the TOPS-20 monitor
   is PS:<SYSTEM>MON002.EXE.

        KLI -- LOAD KL BOOTSTRAP [YES,NO,FILENAME]?
        KLI>VBORP4
        KLI -- BOOTSTRAP LOADED AND STARTED

|       BOOT V10.0(201)
        BOOT><SYSTEM>MON002.EXE

                              ----- Hint -----

   Entering the KLINIT dialog to get the question LOAD KL BOOTSTRAP or to
   get  the  BOOT> prompt is useful for testing new bootstrap programs or
   new TOPS-20 monitors.



   1.3.2  Loading TOPS-20 from Magnetic Tape with MTBOOT   1.3.2  Loading TOPS-20 from Magnetic Tape with MTBOOT

   If you need to load a TOPS-20  monitor  from  magnetic  tape,  do  the
   following:

        1.  Mount the magnetic tape containing the monitor on drive 0.

        2.  Load the system via the switch register with bits 0, 1, and 2
            set.

        3.  Enter the KLINIT dialog.




                                    1-19
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


        4.  After LOAD KL BOOTSTRAP, type MTBOOT.

        5.  After MTBOOT>, type MT:  and press RETURN to load  and  start
            the monitor on the magnetic tape.


                            ----- Example -----

        KLI -- LOAD KL BOOTSTRAP [YES,NO,FILENAME]?
        KLI>MTBOOT
        KLI -- BOOTSTRAP LOADED AND STARTED

        MTBOOT>MT:

                              ----- Hint -----

   If you cannot use drive 0 for Step 1, mount the magnetic tape  on  any
   available drive, but be sure to put all other drives OFF-LINE.

                                    NOTE

           Once the monitor has started, it automatically  starts
           the  TGHA  program.   At  this  time it is possible to
           receive one of the following error messages.

        **********************************************************************
|       * 5-MAR-84 13:07:30
        * THE FOLLOWING BLOCKS ARE MARKED AS BAD
        * AND ARE NOT ON LINE:
        * CONTROLLER      GROUP   BLOCK
        * 10              2       3
        * THIS CONSISTS OF 64K OF MEMORY THAT IS OFF LINE.
        *** CALL FIELD SERVICE TO REPORT THIS CONDITION ***
        **********************************************************************

                                               or

        **********************************************************************
|       * 5-MAR-84 13:07:30
        * TGHA HAS TEMPORARILY CORRECTED A SERIOUS MOS MEMORY FAILURE.
        *** CALL FIELD SERVICE TO REPORT THIS CONDITION ***
        **********************************************************************


   Both the above messages are informing you that there is a problem with
   MOS  memory  and  that  you  should  notify your DIGITAL Field Service
   Representative about the problem.



   1.4  ANSWERING MONITOR START-UP QUESTIONS   1.4  ANSWERING MONITOR START-UP QUESTIONS

   After the system  has  configured  memory  and  loaded  the  bootstrap
   program into memory, you are asked the following questions:

   Question:  ENTER CURRENT DATE AND TIME:

   Reply:     Type the current date and time in the format

                    dd-mmm-yy hhmm






                                    1-20
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


              where

                       dd = day of the month
                      mmm = first three letters of the month
                       yy = last two digits of the year
                     hhmm = time, between 0 and 2359

                                    NOTE

           You can use spaces instead  of  hyphens.   Other  date
           formats are accepted but they are not recommended.

   The system then prints a line telling you the day, date, and time  you
   typed  and asks you if the information is correct.  If you entered the
   correct information, type Y for YES; otherwise,  type  N  for  NO  and
   enter the correct information.

                            ----- Example -----

|       ENTER CURRENT DATE AND TIME:  5-MAR-84 1300<RET>

|       YOU HAVE ENTERED WEDNESDAY, 5-MARCH-1984 1:00 PM
        IS THIS CORRECT (Y,N) Y <RET>

   Question:  WHY RELOAD?

   Reply:     Type one of the  following  abbreviations  that  gives  the
              reason for reloading the system.

                   OP (OPR)          PM (Prevent Maint.)
                   PA (Parity)       CM (Corrective Maint.)
                   PO (Power)        SA (Stand-Alone)
                   ST (Static)       NE (New)
                   HAR (Hardware)    SCH (Scheduled)
                   HA (Halt)         OT (Other)
                   HU (Hung)

   The answer you type to this question is stored  in  the  system  error
   file and is printed in the SPEAR report.

                            ----- Example -----

        WHY RELOAD? SCH<RET>

                                      NOTE

                At this time the system may automatically run the
                CHECKD   program   if   certain   problems   were
                previously  found;   otherwise,   it   asks   the
                following question.

   Question:  RUN CHECKD?

   Reply:     You must answer Y for YES or N for NO.  If you have a daily
              scheduled  reload  or  after a hardware failure, you should
              answer Y.  Otherwise, you should normally answer N.










                                    1-21
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


   If you answer Y, CHECKD performs a bit-table and consistency check for
   the  public  structure.   It then lists any problems it found with bad
   pages or files.  Next it prints a  summary  of  page  counts  and  the
   number  of  lost  pages.   Any  lost  pages  are allocated to the file
   PS:<OPERATOR>PS-LOST-PAGES.BIN.n (where "n" is the  generation  number
   of the file).

   Depending on the size of the structure, CHECKD can take  between  five
   and  ten  minutes  for  the public structure.  When the CHECKD program
   starts, it prints:

        [CHECKING FILE CONSISTENCY]

        [WORKING ON STRUCTURE - PS:]

                                    NOTE

           If CHECKD lists any problems  before  the  summary  of
           page  counts, or if it says there are lost pages after
           the  summary,  refer  to  Part  VI  Section  1.7.1  to
           determine what action to take.

                            ----- Example -----

        RUN CHECKD? Y

        [CHECKING FILE CONSISTENCY]

        [WORKING ON STRUCTURE-PS:]

        LOCAL COUNT OF FILE PAGES:  6692
        LOCAL COUNT OF OVERHEAD PAGES:  2671
        LOCAL COUNT OF USED PAGES:  9363

        SYSTEM COUNT BEFORE CHECKD:  9363
        SYSTEM COUNT AFTER CHECKD:  9363

        THERE ARE NO LOST PAGES.

   After CHECKD has finished running, it prints the following message:

        RUNNING DDMP

   DDMP is a TOPS-20 background  job  that  moves  pages  from  the  disk
   swapping  area  to  the  disk  file  area.   After the DDMP program is
   finished, the  monitor  starts  the  SYSJOB  program  and  prints  the
   following message:

|       SYSJOB 6(14) STARTED AT 5-MAR-84 11:00

   The SYSJOB program reads the file  PS:<SYSTEM>SYSJOB.RUN.   This  file
   contains  commands  that  start  various  system  programs.   The last
   command  in  the  SYSJOB.RUN  file  is  GET  SYSTEM:PTYCON.ATO.    The
   PTYCON.ATO file starts various jobs as subjobs.  (Refer to the TOPS-20
   Operator's Command Language Reference Manual for more  information  on
   the PTYCON program.)

   Once the PTYCON.ATO  file  is  processed,  the  system  is  ready  for
   timesharing.  (Refer to Part IV Section 1.5.1 if you are going to have
   operator coverage, or Part IV Section 1.5.2 if you are  not  going  to
   have operator coverage.)





                                    1-22
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


   1.5  READYING THE SYSTEM FOR TIMESHARING   1.5  READYING THE SYSTEM FOR TIMESHARING

   As you saw in previous sections, once RSX-20F and TOPS-20  are  loaded
   and started, SYSJOB starts running under job 0.  SYSJOB then reads and
   prints on  the  CTY  the  file  <SYSTEM>SYSJOB.RUN  and  performs  the
   commands  in  that  file.   These  commands start certain programs and
   issue some commands which aid you  and  the  system  in  providing  an
   efficient timesharing facility.

   To see what commands  SYSJOB  actually  performs,  look  at  the  file
   PS:<SYSTEM>SYSJOB.RUN.   The  following  example  illustrates the file
   that is distributed with the software:

        RUN SYS:ORION
        RUN SYS:QUASAR
        RUN SYS:MOUNTR
        RUN SYS:INFO
        RUN SYS:MAILER
        RUN SYS:MAPPER
        RUN SYS:LPTSPL
        RUN SYS:CDRIVE
        RUN SYS:SPRINT
        JOB 0 /LOG OPERATOR XX OPERATOR
        ENA
        ^ESET LOGIN PSEUDO
        ^ESET LOGIN CONSOLE
        ^ESET OPERATOR
        PTYCON
|       GET SYSTEM:6-PTYCON.ATO
        /
        JOB 1 /LOG OPERATOR XX OPERATOR
        ENA
        RUN SYS:BATCON
        /
        JOB 2 /LOG OPERATOR XX OPERATOR
        ENA
        RUN SYS:NETCON
        /

   This file causes SYSJOB to:

        1.  Run ORION, the program that handles the operator interface.

        2.  Run QUASAR, the program that handles the  system  queues  for
            batch jobs and print requests.

        3.  Run MOUNTR, the  program  that  handles  all  tape  and  disk
            mounting procedures.

        4.  Run INFO, the program that passes message identifications for
            any process that requires IPCF communications.

        5.  Run MAILER, the program that handles messages sent via MAIL.

        6.  Run MAPPER, the program that sets up the program cache.

        7.  Run LPTSPL, the program that handles the line printer.

        8.  Run CDRIVE, the program that handles the card reader.

        9.  Run SPRINT, the program that handles the conversion  of  card
            images to ASCII and the interpretation of control cards.


































                                    1-23
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


       10.  Create a job on the system and log it in under OPERATOR.  All
            text between the slashes is passed to the job.  Any input and
            output for the job is printed on  the  CTY  and  preceded  by
            SJ  0:  until you attach to that job (Part IV Section 1.5.1).
            SYSJOB identifies the job as job 0, but the system job number
            is one.


   (See the TOPS-20 Operator's Command Language  Reference  Manual  under
   ^ESPEAK    for    details   on   SYSJOB   commands.    Remember   that
   <SYSTEM>SYSJOB.RUN must contain only SYSJOB commands.)

   The SYSJOB.RUN file causes the job under OPERATOR to do the following:

        1.  Enables capabilities.  This enables the OPERATOR  capability,
            normally granted to the OPERATOR directory.

        2.  Does a ^ESET LOGINS ANY to allow LOGINs from all terminals.

        3.  Does  a  ^ESEND  to  send  the  message   SYSTEM IN OPERATION
            followed by a bell to all terminals.

        4.  Runs PTYCON.

        5.  Starts various programs under PTYCON by using the contents of
            the  file SYSTEM:PTYCON.ATO.  The distributed PTYCON.ATO file
            with comments added follows.  Note that ESCAPE in  this  file
            has to be typed as up-arrow dollar sign (^$).

            SILENCE                                  !silences output  to
                                                     CTY
            LOG                                      !create   LOG   file
                                                     PTYCON.LOG
            DEFINE ^$OPR                             !define subjob 0  as
                                                     OPR
            CONN OPR                                 !connect to subjob 0
            LOG OPERATOR FOO OPERATOR                !log in
            ENA                                      !enable capabilities
            !NEW OPERATOR INTERFACE PARSER           !a comment about the
                                                     above commands
            ^ESET LOGIN ANY                          !allow users to  log
                                                     in
            ^ESEND * SYSTEM IN OPERATION             !sends       message
                                                     "SYSTEM           IN
                                                     OPERATION"  to  all 
                                                     connected terminals
            OPR                                      !the OPR program
            TAKE SYS:SYSTEM.CMD                      !take        startup
                                                     commands        from
                                                     SYSTEM.CMD file
            PUSH                                     !go    to    TOPS-20
                                                     command level
            ENA                                      !enable capabilities
            APPEND PS:<SPOOL>ORION-SYSTEM-LOG.002.*
            (TO) PS:<SPOOL>ORION-OLD.LOG             !add   contents   of
                                                     ORION-SYSTEM-LOG.002
                                                     to ORION-OLD.LOG
            DELETE PS:<SPOOL>ORION-SYSTEM-LOG.002    !delete the contents
                                                     of ORION-SYS-LOG.n
            POP                                      !go  back   to   OPR
                                                     command level
            ^X                                       !return to PTYCON
            NO SILENCE                               !allow output to CTY
            WHAT ALL                                 !print   status   of
                                                     subjob
            CONN OPR                                 !connect to OPR
                                    1-24
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


   The PTYCON.ATO file causes PTYCON to do the following:

        1.  Silence output to the CTY from PTYCON until PTYCON  processes
            a  NO SILENCE  command.   This eliminates unnecessary output.
            Therefore, you do  not  see  many  of  the  following  PTYCON
            actions printed on the CTY.

        2.  Create  a  LOG  file  (PTYCON.LOG)  under  <OPERATOR>.   This
            contains a record of everything that happens under PTYCON.

        3.  Connect to  subjob  0  and  log  it  in  under  OPERATOR.   A
            fictitious  password  of  FOO  is  acceptable  in  this case,
            because the job running PTYCON is  already  logged  in  under
            OPERATOR.

        4.  Print the status of all subjobs (WHAT ALL).   Because  PTYCON
            continues  processing  PTYCON  commands  while  it passes off
            commands to subjobs, the WHAT ALL output  may  appear  before
            the subjobs have finished processing their commands.


                                    NOTE

           See  Chapter  4  of  the  TOPS-20  Operator's  Command
           Language Reference Manual for details on PTYCON.

   When output to the CTY has stopped, you are at OPR command  level  and
   the  system  is  ready  for  timesharing.   The  front-end and TOPS-20
   monitors are running,  and  SYSJOB  and  the  programs  under  it  are
   running.   However,  the CTY is not attached to any of these jobs.  If
   you are going to have operator coverage,  you  should  attach  to  the
   PTYCON job running OPR (Part IV Section 1.5.1).  Otherwise, you should
   set up the system for no operator coverage (Part IV Section 1.5.2).

                                  WARNING

           Whenever you type CTRL/\ (control  backslash)  at  the
           CTY, you enter the console processor command.  To exit
           from this command language, type QUIT or CTRL/Z.

   If your System Manager wants SYSJOB to perform  functions  other  than
   those  above,  you can edit the SYSTEM:SYSJOB.RUN file to reflect what
   is needed.  Remember that SYSJOB commands, documented under ^ESPEAK in
   the TOPS-20 Operator's Command Language Reference Manual, must be used
   in the SYSJOB.RUN file.



   1.5.1  Timesharing with Operator Coverage   1.5.1  Timesharing with Operator Coverage

   If you are going to have operator coverage, you should send a  message
   stating  that  the system has operator coverage.  To send this message
   perform the following steps:

        1.  Type CTRL/C to get the system identification message.











                                    1-25
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


        2.  Type ATTACH OPERATOR 1 and press the RETURN key.

        3.  After the message [ATTACHED  TO  TTYn,  CONFIRM],  press  the
            RETURN key.

        4.  After the PASSWORD prompt, type your password and  press  the
            RETURN key twice.

        5.  Type PUSH to OPR.

        6.  ENABLE your capabilities.

        7.  Type ^ESET OPERATOR-IN-ATTENDANCE.

        8.  Type POP to return to OPR command level.

                            ----- Example -----


|       INSTALLATION-TEST SYSTEM, TOPS-20 MONITOR 6(6035)
        @ATTACH OPERATOR 1<RET>
        [ATTACHED TO TTY102, CONFIRM]<RET>
        PASSWORD: your password<RET>
        <RET>
        OPR>PUSH<RET>
|        TOPS-20 COMMAND PROCESSOR 6(746)
        @ENABLE<RET>
        $ESET OPERATOR-IN-ATTENDANCE<RET>
        $POP<RET>
        OPR>



   1.5.2  Timesharing without Operator Coverage   1.5.2  Timesharing without Operator Coverage

   To  continue  timesharing,  but  without  operator  coverage,  do  the
   following:

        1.  Type CTRL/C to get the system identification message.

        2.  Type ATTACH OPERATOR 1 and press the RETURN key.

        3.  After the message [ATTACHED  TO  TTYn,  CONFIRM],  press  the
            RETURN key.

        4.  After the PASSWORD prompt, type your password and  press  the
            RETURN key twice.

        5.  Type PUSH to OPR.

        6.  ENABLE your capabilities.

        7.  Type ^ESEND * NO OPERATOR COVERAGE AFTER time.

        8.  Type POP to return to OPR command level.

   Just before you end operator coverage, type to OPR:

        1.  PUSH.

        2.  ENABLE your capabilities.





                                    1-26
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


        3.  Type ^ESET NO OPERATOR and press the RETURN key.

                                        NOTE

                    In the following steps,  the  ^C  has  to  be
                    typed  as  up-arrow C, not CTRL/C, and the ^E
                    and ^Z must be typed as CTRL/E and CTRL/Z.


        4.  ^ESPEAK
            JOB 0/
            ^C
            /Z

        5.  ^ESPEAK
            JOB 0/
            ATTACH OPERATOR 1

            POP

            /^Z

   After you type the above, the commands given to ^ESPEAK are printed on
   the  CTY.   Then the actual processing of the commands is indicated by
   output preceded by SJ  0:.  If  any  messages  are  output  by  PTYCON
   subjobs, they are also printed on the CTY preceded by SJ  0:.

                              ----- Hint -----

   The ^E commands are documented in detail  in  the  TOPS-20  Operator's
   Command Language Reference Manual.

                            ----- Example -----


|       INSTALLATION-TEST SYSTEM, TOPS-20 MONITOR 6(6035)
        @ATTACH OPERATOR 1<RET>
        [ATTACHED TO TTY102 CONFIRM]<RET>
        PASSWORD: your password<RET>
        <RET>
        OPR>PUSH<RET>
|       TOPS-20 COMMAND PROCESSOR 6(746)
        @ENABLE<RET>
        $ESEND * NO OPERATOR COVERAGE AFTER hh:mm<RET>
        $POP<RET>
        OPR>




















                                    1-27
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM














                                   PART V                                   PART V
                               SOFTWARE TASKS                               SOFTWARE TASKS



                                  ABSTRACT                                  ABSTRACT

                  Chapter 1 is an introduction to the new
                  Operator Interface command
                  language, OPR.

                  Chapter 2 describes all software tasks
                  for the TOPS-20 (GALAXY) batch
                  system.

                  Chapter 3 describes those tasks that are
                  generally done on an infrequent
                  schedule and those tasks that are
                  performed only when requested.

                  Chapter 4 describes the tasks that are
                  usually included in a daily
                  schedule.

                                      CONTENTS



   CHAPTER 1       THE OPERATOR INTERFACE, OPR

           1.1     INTRODUCTION TO THE OPERATOR INTERFACE . . . . . . 1-1
           1.2     RUNNING OPR  . . . . . . . . . . . . . . . . . . . 1-1
           1.2.1     Remote Operator Control  . . . . . . . . . . . . 1-4
           1.2.2     Multiple Operators on the System . . . . . . . . 1-4
           1.3     OPR COMMAND FEATURES . . . . . . . . . . . . . . . 1-5
           1.3.1     ? (Question Mark) - Listing Available Commands . 1-5
           1.3.2     ESCape - Using Recognition . . . . . . . . . . . 1-6
           1.3.3     CTRL/H - Reprinting Faulty Commands  . . . . . . 1-7
           1.3.4     Getting Help from OPR  . . . . . . . . . . . . . 1-7
           1.4     ORION TO OPR MESSAGES  . . . . . . . . . . . . . . 1-8
           1.4.1     Controlling OPR Message Output . . . . . . . . . 1-9
           1.5     OPR ERROR MESSAGE DESCRIPTIONS . . . . . . . . .  1-11


   CHAPTER 2       BATCH SOFTWARE TASKS

           2.1     BATCH SYSTEM COMPONENTS  . . . . . . . . . . . . . 2-1
           2.2     BATCH RESPONSIBILITIES . . . . . . . . . . . . . . 2-2
           2.3     CONTROLLING BATCH STREAMS  . . . . . . . . . . . . 2-3
           2.3.1     Setting Batch Stream Parameters  . . . . . . . . 2-3
           2.3.2     Starting Batch Streams . . . . . . . . . . . . . 2-4
           2.3.3     Stopping Batch Streams Temporarily . . . . . . . 2-5


                                    1-28
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


           2.3.4     Continuing Batch Streams . . . . . . . . . . . . 2-5
           2.3.5     Shutting Down Batch Streams  . . . . . . . . . . 2-5
           2.3.6     Sending Messages to Batch Streams  . . . . . . . 2-6
           2.3.7     Displaying Batch Stream Parameters . . . . . . . 2-7
           2.3.8     Displaying Batch Stream Status . . . . . . . . . 2-7
           2.4     CONTROLLING BATCH JOBS . . . . . . . . . . . . . . 2-8
           2.4.1     Examining Batch Jobs in the Queues . . . . . . . 2-8
           2.4.2     Holding Batch Jobs . . . . . . . . . . . . . .  2-10
           2.4.3     Releasing Batch Jobs . . . . . . . . . . . . .  2-11
           2.4.4     Canceling Batch Jobs . . . . . . . . . . . . .  2-11
           2.4.5     Requeuing Batch Jobs . . . . . . . . . . . . .  2-12
           2.4.6     Modifying Batch Requests . . . . . . . . . . .  2-12
           2.4.7     Deleting Batch Requests  . . . . . . . . . . .  2-13
           2.4.8     Scheduling the Next Batch Request  . . . . . .  2-13
           2.5     CONTROLLING THE LINE PRINTER . . . . . . . . . .  2-13
           2.5.1     Setting the Line Printer . . . . . . . . . . .  2-14
           2.5.2     Starting the Line Printer  . . . . . . . . . .  2-15
           2.5.3     Stopping the Line Printer Temporarily  . . . .  2-16
           2.5.4     Continuing the Line Printer  . . . . . . . . .  2-16
           2.5.5     Shutting Down the Line Printer . . . . . . . .  2-16
           2.5.6     Displaying Line Printer Parameters . . . . . .  2-17
           2.5.7     Displaying Line Printer Status . . . . . . . .  2-18
           2.6     CONTROLLING FORMS ON THE LINE PRINTER  . . . . .  2-18
           2.6.1     The LPFORM.INI File  . . . . . . . . . . . . .  2-20
           2.6.2     Aligning Forms on the Line Printer . . . . . .  2-23
           2.6.3     Backspacing Forms on the Line Printer  . . . .  2-24
           2.6.4     Forwardspacing Forms on the Line Printer . . .  2-25
           2.6.5     Suppressing Carriage Control on the Line 
                     Printer  . . . . . . . . . . . . . . . . . . .  2-26
           2.7     CONTROLLING LINE PRINTER JOBS  . . . . . . . . .  2-27
           2.7.1     Examining Printer Jobs in the Queues . . . . .  2-27
           2.7.2     Holding Printer Jobs . . . . . . . . . . . . .  2-29
           2.7.3     Releasing Printer Jobs . . . . . . . . . . . .  2-29
           2.7.4     Canceling Printer Jobs . . . . . . . . . . . .  2-30
           2.7.5     Requeuing Printer Jobs . . . . . . . . . . . .  2-30
           2.7.6     Modifying Printer Requests . . . . . . . . . .  2-31
           2.7.7     Deleting Printer Requests  . . . . . . . . . .  2-31
           2.7.8     Sending Line Printer Output to Tape  . . . . .  2-32
           2.8     CONTROLLING THE CARD READER  . . . . . . . . . .  2-35
           2.8.1     Starting the Card Reader . . . . . . . . . . .  2-35
           2.8.2     Stopping the Card Reader . . . . . . . . . . .  2-36
           2.8.3     Continuing the Card Reader . . . . . . . . . .  2-36
           2.8.4     Shutting Down the Card Reader  . . . . . . . .  2-36
           2.8.5     Displaying Card Reader Status  . . . . . . . .  2-37
           2.9     CONTROLLING CARD READER JOBS . . . . . . . . . .  2-38
           2.10    CONTROLLING OTHER OUTPUT DEVICES . . . . . . . .  2-39
           2.10.1    Setting Output Devices . . . . . . . . . . . .  2-40
           2.10.2    The SPFORM.INI File  . . . . . . . . . . . . .  2-41
           2.10.3    Starting Output Devices  . . . . . . . . . . .  2-44
           2.10.4    Stopping Output Devices  . . . . . . . . . . .  2-44
           2.10.5    Continuing Output Devices  . . . . . . . . . .  2-45
           2.10.6    Shutting Down Output Devices . . . . . . . . .  2-45
           2.10.7    Displaying Output Device Parameters  . . . . .  2-45
           2.10.8    Displaying Output Device Status  . . . . . . .  2-46
           2.11    CONTROLLING JOBS ON OUTPUT DEVICES . . . . . . .  2-47
           2.11.1    Examining Output Device Jobs in the Queues . .  2-47
           2.11.2    Holding Output Device Jobs . . . . . . . . . .  2-50
           2.11.3    Releasing Output Device Jobs . . . . . . . . .  2-50
           2.11.4    Canceling Output Device Jobs . . . . . . . . .  2-51
           2.11.5    Requeuing Output Device Jobs . . . . . . . . .  2-51
           2.11.6    Modifying Output Device Requests . . . . . . .  2-52
           2.11.7    Deleting Output Device Requests  . . . . . . .  2-53
           2.11.8    Scheduling the Next Output Device Request  . .  2-53



                                    1-29
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


   CHAPTER 3       UNSCHEDULED SOFTWARE TASKS

           3.1     CONTROLLING THE SCHEDULER  . . . . . . . . . . . . 3-1
           3.1.1     Changing Class Scheduling  . . . . . . . . . . . 3-1
           3.1.1.1     Changing a Job's Scheduling Class  . . . . . . 3-1
           3.1.2     Changing Batch-Class Scheduling  . . . . . . . . 3-2
           3.1.3     Changing Bias-Control Scheduling . . . . . . . . 3-2
           3.1.4     Displaying Scheduler Status  . . . . . . . . . . 3-3
           3.2     SETTING DEVICES ON-LINE  . . . . . . . . . . . . . 3-3
           3.3     CONTROLLING THE ORION LOG BUFFER FILE  . . . . . . 3-5
           3.4     INITIALIZING TAPES . . . . . . . . . . . . . . . . 3-6
           3.5     HANDLING USER MOUNT REQUESTS . . . . . . . . . .  3-10
           3.5.1     Displaying Tape Drive Status . . . . . . . . .  3-12
           3.5.2     Controlling Automatic Volume Recognition (AVR)  3-14
           3.5.3     Mounting Labeled Tapes with AVR Enabled  . . .  3-15
           3.5.4     Mounting Labeled Tapes With AVR Disabled . . .  3-16
           3.5.5     Mounting Unlabeled Tapes . . . . . . . . . . .  3-16
           3.5.6     Canceling Mount Requests . . . . . . . . . . .  3-18
           3.5.7     Setting Tape Drives Available or Unavailable .  3-18
           3.6     ARCHIVING FILES WITH DUMPER  . . . . . . . . . .  3-19
           3.7     RUNNING THE REAPER PROGRAM . . . . . . . . . . .  3-23
           3.8     MIGRATING FILES WITH DUMPER  . . . . . . . . . .  3-27
           3.9     RETRIEVING FILES WITH DUMPER . . . . . . . . . .  3-31
           3.10    RESTORING DISK FILES WITH DUMPER . . . . . . . .  3-35
           3.11    ANSWERING STRUCTURE MOUNT REQUESTS WITH OPR  . .  3-38
           3.11.1    Mounting a Structure with MOUNT  . . . . . . .  3-42
           3.11.2    Answering Structure DISMOUNT Requests with OPR  3-44
           3.11.3    Removing a Structure with DISMOUNT . . . . . .  3-46
           3.11.4    Canceling Mount Requests . . . . . . . . . . .  3-49
           3.11.5    Setting Disk Drives Available or Unavailable .  3-50
           3.12    SETTING THE PORT CI AVAILABLE/UNAVAILABLE  . . .  3-51
           3.12.1    Displaying Disk Drive Status . . . . . . . . .  3-55
           3.12.2    Displaying Structure Status  . . . . . . . . .  3-57
           3.13    EXAMINING MOUNT-REQUESTS IN THE QUEUE  . . . . .  3-59
           3.14    CREATING A STRUCTURE DURING TIMESHARING  . . . .  3-61
           3.15    COMMUNICATING WITH USERS . . . . . . . . . . . .  3-65
           3.15.1    Answering PLEASE Requests with OPR . . . . . .  3-65
           3.15.2    Talking to Another User Immediately with SEND   3-66
           3.15.3    Mailing a Message for a User to Read Later . .  3-68
           3.15.4    Reading Your Messages with RDMAIL  . . . . . .  3-69
           3.16    HELPING A USER WITH TERMINAL PROBLEMS  . . . . .  3-70
           3.17    LOGGING OUT A USER WITH LOGOUT . . . . . . . . .  3-73
           3.18    GENERATING ACCOUNTING REPORTS  . . . . . . . . .  3-74
           3.18.1    Getting Disk and System Usage with CHKPNT  . .  3-75
           3.18.2    Reporting Usage with USAG20  . . . . . . . . .  3-76


   CHAPTER 4       SCHEDULED SOFTWARE TASKS

           4.1     SETTING LOGINS-ALLOWED AND OPERATOR-IN-ATTENDANCE  4-1
           4.2     CREATING THE MESSAGE OF THE DAY WITH MAIL  . . . . 4-3
           4.3     ENTERING ACCOUNT VALIDATION DATA WITH EDIT . . . . 4-5
           4.4     UPDATING THE ACCOUNT VALIDATION DATA BASE WITH 
                   ACTGEN . . . . . . . . . . . . . . . . . . . . . . 4-7
           4.5     ADDING, CHANGING, AND DELETING DIRECTORIES WITH 
                   ^ECREATE . . . . . . . . . . . . . . . . . . . . . 4-8
           4.5.1     Adding Directories for Users . . . . . . . . . . 4-8
           4.5.2     Adding Directories on Mountable Structures   .  4-10
           4.5.3     Adding Files-Only Directories  . . . . . . . .  4-10
           4.5.4     Changing Directory Parameters  . . . . . . . .  4-11
           4.5.5     Changing Directory Names . . . . . . . . . . .  4-12
           4.5.6     Deleting User Names or Directories . . . . . .  4-15
           4.6     DUMPING DIRECTORY PARAMETERS WITH DLUSER . . . .  4-17
           4.6.1     Dumping Directory Parameters for PS: . . . . .  4-17


                                    1-30
                        STARTING THE HARDWARE SYSTEM                        STARTING THE HARDWARE SYSTEM


           4.6.2     Dumping Directory Parameters for Other 
                     Structures . . . . . . . . . . . . . . . . . .  4-18
           4.6.3     Using DLUSER . . . . . . . . . . . . . . . . .  4-19
           4.7     GETTING INFORMATION ABOUT DIRECTORIES  . . . . .  4-19
           4.7.1     Listing Directory Parameters with ^ECREATE . .  4-20
           4.7.2     Listing Directory Parameters with EPRINT . . .  4-21
           4.7.3     Listing Directory Parameters with ULIST  . . .  4-22
           4.8     CHECKING SYSTEM STATUS . . . . . . . . . . . . .  4-29
           4.8.1     Determining the Status of Jobs with SYSTAT . .  4-29
           4.8.2     Watching System and Job Statistics with WATCH   4-31
           4.8.3     Getting Other Information  . . . . . . . . . .  4-32
           4.9     LISTING USER REMARKS WITH RDMAIL . . . . . . . .  4-33
           4.10    REPORTING SYSTEM ERRORS WITH SPEAR . . . . . . .  4-36
           4.11    BACKING UP DISK FILES WITH DUMPER  . . . . . . .  4-37
           4.12    ENDING TIMESHARING WITH ^ECEASE  . . . . . . . .  4-43
   INDEX


   TABLES

           2-1     LPFORM.INI Switches  . . . . . . . . . . . . . .  2-20
           2-2     SPFORM.INI Switches for All Device Types . . . .  2-42
           2-3     SPFORM.INI Switches for Plotter Devices Only . .  2-42
           3-1     SET INITIALIZE Switches  . . . . . . . . . . . . . 3-6
           3-2     REAPER Commands  . . . . . . . . . . . . . . . .  3-23









































                                    1-31





































































                                    1-1












                                 CHAPTER 1                                 CHAPTER 1

                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR



   1.1  INTRODUCTION TO THE OPERATOR INTERFACE   1.1  INTRODUCTION TO THE OPERATOR INTERFACE

   The Operator Command Language (OPR) provides you, the  operator,  with
   one  command  language  to  communicate with various components of the
   TOPS-20 operating system.  These components are:

        1.  QUASAR, the Batch System Nucleus

        2.  BATCON, the Batch Controller

        3.  LPTSPL, the Line-Printer Spooler

        4.  CDRIVE, the Card-Reader Spooler

        5.  SPRINT, the Reader Interpreter

        6.  SPROUT, the Card-Punch and Paper-Tape-Punch

        7.  MOUNTR, the Tape-Drive and Disk-Drive Controller

   In addition, you can use this same command language to interface  with
   any program requesting operator action to be taken, such as the PLEASE
   program, and with any user on the system.  The program  that  receives
   the  OPR  commands and communicates with all the other system programs
   is ORION.



   1.2  RUNNING OPR   1.2  RUNNING OPR

   To start OPR, you must have WHEEL or OPERATOR privileges.   (See  your
   System  Manager  to obtain these privileges if you do not already have
   them.)

   To handle all batch software tasks and all PLEASE, MOUNT, and DISMOUNT
   requests,  you  must  have  OPR  running.   Normally,  commands in the
   PTYCON.ATO file start  OPR  automatically  as  a  PTYCON  subjob.   An
   example of the PTYCON.ATO file is shown below.













                                    1-1
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


        SILENCE
        LOG
        DEFINE ^$OPR
        CONNECT OPR
        LOG OPERATOR FOO OPERATOR
        ENABLE
        !NEW OPERATOR INTERFACE PARSER 
        OPR  
        TAKE SYS:SYSTEM.CMD
        PUSH
        ENABLE
        ^ESET LOGIN ANY
        ^ESEND * SYSTEM IN OPERATION
        POP
        WHAT ALL
        CONNECT OPR
        $

   The command TAKE SYS:SYSTEM.CMD in the above command file executes any
   number   of  OPR  commands  to  set  and  start  devices  and  streams
   automatically.  An example of the SYSTEM.CMD file is shown below.

        SET BATCH-STREAM 0 TIME-LIMIT 5
        SET BATCH-STREAM 1 TIME-LIMIT 10
        SET BATCH-STREAM 2:3 TIME-LIMIT 11000
        SET BATCH-STREAM 3 PRIORITY-LIMITS 20:63
        SET BATCH-STREAM 0:1 PRIORITY-LIMITS 1:19
        START BATCH-STREAM 0:3
        SET PRINTER 0 PAGE-LIMIT 20000
        SET PRINTER 1 PAGE-LIMIT 500
        START PRINTER 0:1
        START READER 0
        START CARD-PUNCH 0

   These  commands  are  described  in  the  TOPS-20  Operator's  Command
   Language Reference Manual.


                                    NOTE

           It is the responsibility of  your  System  Manager  to
           determine  whether OPR is to run as subjob 0 of PTYCON
           or  as  another  subjob.   In  addition,  your  System
           Manager  should determine whether any other program or
           utility should be started as a PTYCON subjob.

           The tasks in this part and the following parts  assume
           that   you,  the  operator,  have  only  one  terminal
           available to perform the various tasks.  If  there  is
           more  than one terminal available to you, you may want
           to dedicate one terminal  to  run  only  OPR  and  use
           another  terminal  for  the various tasks, for example
           DUMPER.  One reason you would  use  two  terminals  is
           that while you were running a program like DUMPER, you
           could not receive any messages sent to or from OPR  on
           the  terminal  running  DUMPER.   However,  you  could
           receive the OPR messages on the terminal running OPR.









                                    1-2
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   To start OPR yourself under  a  job  with  OPERATOR  capability,  type
   ENABLE and then type OPR.

        @ENABLE<RET>
        $OPR<RET>
        OPR>

   If possible, you should have one hard-copy terminal dedicated to  OPR.
   The  reason  for  this  is that OPR is your primary interface with the
   operating system and its devices.  To dedicate a hard-copy terminal to
   OPR,  attach to the operator job running PTYCON.  PTYCON automatically
   starts OPR.  In the following example your password is  FOO  and  your
   account is OPERATOR:

         KL2102 Development ALL System, TOPS-20 Monitor 6(6035)
        @ENABLE<RET>
        $SYSTAT OPERATOR<RET>

           0   DET  SYSJOB  OPERATOR
           1   205  PTYCON  OPERATOR
           2   207  BATCON  OPERATOR
           3   210  EXEC    OPERATOR
           4   211  OPR     OPERATOR
                    .
                    .
        $ATTACH OPERATOR 1<RET>
         [Attached to TTY205, CONFIRM]<RET>
        Password: FOO<RET>
        <RET>
        OPR>

   If your installation has  more  than  one  terminal  assigned  to  its
   operators,   you  can  run  multiple  copies  of  OPR  from  different
   terminals.  (See Part V Section 1.2.2.) Thus, OPR can run as a  subjob
   under  PTYCON  at  one  terminal  and  as  a  job by itself at another
   terminal.  All OPRs have the same functionality as the OPR running  as
   a subjob of PTYCON and connected to the CTY.  ORION, OPR's controlling
   program, can handle an unlimited number of OPRs running.

   When you issue a command to OPR, it checks  the  command  for  format,
   syntax,  and  the placement of switches and values.  If the command is
   correct,  OPR  passes  the  command  to  ORION.   If  the  command  is
   incorrect,  OPR  outputs  an  error  message.  If you receive an error
   message, you can retype the entire OPR command,  or  press  CTRL/H  to
   reprint  the command up to the point where the error occurred.  (Refer
   to Part V Section 1.3.3.)

   To exit from OPR at any time, type the EXIT command.  You  immediately
   return  to  TOPS-20  command level and are prompted by the dollar sign
   ($).  For example:

        OPR>EXIT<RET>
        $

   If OPR is a subjob of PTYCON, you can type CTRL/X to return to  PTYCON
   command level.  For example:

        OPR>^X
              
                    
        PTYCON>

































































                                    1-3
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   In addition, you can also give the PUSH command to OPR  to  return  to
   TOPS-20  command  level.  You can execute any program or task and then
   give the POP command to return to OPR.  When you give the PUSH command
   to OPR, any messages sent to OPR will be displayed on the CTY.

        OPR>PUSH<RET>

         TOPS-20 Command processor 6(772)
        @ENABLE<RET>
        $DUMPER<RET>
        DUMPER>
                   .
                   .
                   .
        $DISABLE<RET>
        @POP<RET>
        OPR>

   All OPR commands described in Chapters 1 through 4 of  this  part  are
   shown   as  they  relate  to  the  tasks  involved.   For  a  complete
   description of  all  OPR  commands,  their  arguments,  keywords,  and
   switches,  refer  to the TOPS-20 Operator's Command Language Reference
   Manual.



   1.2.1  Remote Operator Control   1.2.1  Remote Operator Control

   If your system is part of a network, you can have a TOPS-20 host  with
   up  to three communication front-ends.  These communication front-ends
   can control DECnet-20 or IBM communications software.  If your  system
|  supports  DECnet-20,  you  may  also have support for remote stations.
|  OPR provides you with the  facilities  to  communicate  with  IBM-type
|  termination  stations, and to communicate in a minimal fashion with an
   IBM host.

   The /NODE:   switch  is  available  with  many  of  the  OPR  commands
   described  in this part.  The /NODE:  switch allows you to specify the
   logical identifier (name and/or number) followed by two colons (::) of
   a remote station in your system network.  This switch is valid only if
   your installation has installed the TOPS-20 DECnet  software  package.
   If  DECnet  is  present,  there can be remote station operators in the
   network.

   If you are a remote station  operator,  the  OPR  processing  at  your
   station  can  only  control  the  devices at your remote station.  All
   commands you specify default to your node in the  messages  passed  to
   ORION.   Therefore,  you  need not specify the /NODE:  switch with any
   OPR command for your node.  However, when you want to refer to another
   node  on  the  system,  you must specify the /NODE:  switch in the OPR
   command.

   In addition, you have complete control over all  jobs  located  and/or
   queued  for  your node, as compared with the Central Site operator who
   has control of all jobs and devices at all nodes on the system.



   1.2.2  Multiple Operators on the System   1.2.2  Multiple Operators on the System

   You can have more than one job  running  OPR  on  the  same  operating
   system.   ORION  keeps  track  of  each  OPR  and send the appropriate
   acknowledgement messages to the OPR that sent the command.

   If DECnet is installed at your installation, any messages  sent  to  a
   node from a user are sent to all OPRs processing at the node specified
   in the /NODE:  switch.

   Each OPR that is processing can be set to enable or disable the  types
   of  messages  that are displayed at that OPR console.  Refer to Part V
   Section 1.4.1 for descriptions of the DISABLE and ENABLE commands.
                                    1-4
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   1.3  OPR COMMAND FEATURES   1.3  OPR COMMAND FEATURES

   The OPR command language has three command features that allow you  to
   do the following:

        1.  List available commands - ?

        2.  Use recognition - <ESC>

        3.  Reprint faulty commands - <CTRL/H>

   The command features are described in detail in the following sections
   of this manual.

   If you are a remote station operator (that is,  if  your  installation
   has DECnet software), you cannot use the above features.  However, you
   can obtain help with the HELP command at OPR command level.  See  Part
   V Section 1.3.4.

   Other CTRL/character commands such as CTRL/R and  CTRL/U  function  at
   OPR command level as they do at TOPS-20 command level.



   1.3.1  ?  (Question Mark) - Listing Available Commands   1.3.1  ?  (Question Mark) - Listing Available Commands

   The question mark feature lists all available commands to OPR.  If you
   are  in the process of entering a command, the question mark lists any
   command keywords, arguments, or switches  for  the  command  and  then
   retypes  your OPR command up to the point where you typed the question
   mark.

   When you type a ?  to OPR, it lists the available commands.  When  you
   type  a  ?   after an OPR command, OPR lists the available keywords to
   that command.  When you type a ?  after the  keyword,  OPR  lists  the
   available  values, arguments, and/or switches to that keyword.  If you
   type a ?  after an entire OPR command, OPR responds with  the  message
   "confirm with carriage return", retypes your entire command, and waits
   for you to press the carriage return key.

   Only the OPR  commands  EXIT  and  PUSH  do  not  have  any  keywords,
   arguments, or switches.

   After you have started OPR and the system prompts you with OPR>,  type
   a ?.

        @ENABLE<RET>
        $OPR<RET>
        OPR>? one of the following:
         ABORT       ALIGN      BACKSPACE       CANCEL      CLOSE
         CONTINUE    DEFINE     DISABLE         DISMOUNT    ENABLE
         ENTER       EXIT       FORWARDSPACE    HELP        HOLD
|        IDENTIFY    MODIFY     MOUNT           NEXT        PUSH
         RELEASE     REPORT     REQUEUE         RESPOND     ROUTE
         SEND        SET        SHOW            SHUTDOWN    START
         STOP        SUPPRESS   SWITCH          TAKE        WAIT
          or NCP
        OPR>








                                    1-5
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


                                    NOTE

           The DEFINE command appears in  the  above  example  if
           your  installation  has  DN60  software.   The  DEFINE
           command   is   described   in    the    TOPS-20    IBM
           Emulation/Termination Manual.




   1.3.2  ESCape - Using Recognition   1.3.2  ESCape - Using Recognition

   The ESCape key allows recognition input and guide words to  appear  on
   your console when you give an OPR command.

                                    NOTE

           All OPR commands accept  recognition  input  when  you
           press  the  ESCape  key  and most OPR commands provide
           guide words within parenthesis.  However, this is  the
           only  section  of  this  manual  that  describes  this
           feature of the OPR command language.

   Type the OPR command  ABORT  with  the  use  of  the  ESCape  key  for
   recognition and guide words.

            <ESC>                  <ESC>
              !                      !
        OPR>ABORT (Current Job on) BATCH-STREAM (Stream Number) 1<RET>

          <ESC>          <ESC>
            !              !
        /REQUEST-ID:127/NOERROR-PROCESSING<RET>
        OPR>
        10:23:02        Batch-stream 1  --Aborted--
                        Job TBUILD Req #127 for HURLEY
                        No Reason Given with NOERROR-PROCESSING

        OPR>
        10:23:17        Batch-stream 1  --End--
                        Job TBUILD Req #127 for HURLEY
                        -- Job Aborted by Operator --
        OPR>

                                    NOTE

           If the terminal makes a bell-like sound, it is because
           the  character  you  typed  is  not  unique.   If this
           happens, type  in  another  character  and  press  the
           ESCAPE  key.  Continue to do this until the characters
           you typed are unique to the specific command.















                                    1-6
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   1.3.3  CTRL/H - Reprinting Faulty Commands   1.3.3  CTRL/H - Reprinting Faulty Commands

   The CTRL/H command causes OPR to retype your last command  up  to  the
   point  where  the  error occurred.  An OPR error message occurs when a
   command does not have the correct format, syntax, switch, or value.

   Specify the OPR command FORWARDSPACE, in  its  abbreviated  form,  but
   mistype  the  numeric  value for the /PAGES:  switch.  After you press
   CTRL/H, enter the correct numeric value.

        OPR>FORWARDSPACE PRINTER 0 /PAGES:3)<RET>
        ? First nonspace character is not a digit
        OPR><CTRL/H>
        OPR>FORWARDSPACE PRINTER 0 /PAGES:30<RET>

        OPR>
        13:25:04        Printer 0  --Forwardspaced 30 Pages--
        OPR>



   1.3.4  Getting Help from OPR   1.3.4  Getting Help from OPR

   Instead of using the question mark feature to list available commands,
   their keywords, and their arguments or switches, you can give the HELP
   command to OPR.

   The keyword to the HELP command is any of the OPR commands.  When  you
   give  the HELP command in this format, OPR prints on your terminal the
   function of  the  command  you  specify  with  its  format,  keywords,
   arguments, and switches.

   Specify HELP RELEASE and OPR prints the  function,  format,  keywords,
   and arguments of the RELEASE command.

        OPR>HELP RELEASE<RET>
                        --- Help for RELEASE command ---
                The RELEASE command allows you to release a job request
                that was held with the HOLD command.

                The format is:

                RELEASE keyword

                where keyword must be one of the following:

                          BATCH-JOBS
                          CARD-PUNCH-JOBS
                          PAPER-TAPE-PUNCH-JOBS
                          PLOTTER-JOBS
                          PRINTER-JOBS

                followed by one of these arguments:

                          <request-id-number>    (for a single job)
                          User name              (for all jobs of a user)
                          *                      (for all job requests)

        OPR>







                                    1-7
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   1.4  ORION TO OPR MESSAGES   1.4  ORION TO OPR MESSAGES

   There are two types of messages that can appear at your OPR terminal.

        1.  OPR error messages (see Part V Section 1.5.)

        2.  ORION to OPR messages

   The types of ORION messages that can appear are:

        1.  Errors generated when ORION accepts an OPR command, but  does
            not have the appropriate devices, streams, nodes, or jobs

        2.  Messages from jobs that start processing within a  stream  or
            on a device

        3.  Messages from jobs that end processing within a stream or  on
            a device

        4.  Messages specifying actions that you must perform for various
            devices, streams, or jobs

        5.  Messages to which you must RESPOND

        6.  Results from TAKE command files

   Each OPR command that is sent to ORION is time stamped by  ORION  when
   the command is accepted and executed.  The acceptance and execution of
   the command is then returned to the OPR terminal  in  the  form  of  a
   message  with  the  time  stamp  as  the first eight characters of the
   message.  ORION to  OPR  error  messages  are  also  time-stamped  and
   displayed  at  the  OPR terminal in the same format.  For example, the
   OPR command:

        OPR>SET PRINTER 0 FORMS-TYPE NARROW<RET>

   prints on your terminal an ORION message in the format:

        hh:mm:ss        Printer 0  --Set Accepted--

   where hh is the hour, mm is the minutes, and ss is  the  seconds  that
   the  command  was accepted and executed.  Likewise, when ORION accepts
   an OPR command, but returns a message, that message will also  contain
   a time stamp.  For example, the OPR command:

        OPR>SHOW MESSAGES<RET>

   displays  the  following  information  message  when  there   are   no
   outstanding messages to respond to:

        hh:mm:ss        --No Outstanding Messages--

   When a particular job starts to process within a batch stream or on  a
   device,  ORION  displays  a message at your OPR terminal to notify you
   that the stream or device is active.  For example:

        hh:mm:ss        Batch-stream 0  -Begin--
                        Job TEST Req #274 for ZINA

        OPR>

   appears on your terminal when a job named TEST begins  to  process  in
   batch  stream  0 for user ZINA.  The hh:mm:ss at the beginning of this
   message is the time that the job started to process.


                                    1-8
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   Likewise, when a particular job ends its  processing  within  a  batch
   stream  or  on a device, ORION displays a message at your OPR terminal
   to notify you that the stream or device is not active and the job  has
   completed.  For example:

        hh:mm:ss        Batch-stream 0  -ENDED--
                        Job TEST Req #274 for ZINA

        OPR>

   appears on your terminal when a job named TEST ends the processing  in
   batch  stream  0 for user ZINA.  The hh:mm:ss at the beginning of this
   message is the time that the job ended the processing (hours, minutes,
   seconds).



   1.4.1  Controlling OPR Message Output   1.4.1  Controlling OPR Message Output

   You can control the types of messages that  appear  at  your  terminal
   with  the  use  of the OPR commands ENABLE and DISABLE.  When you give
   either of these commands you must specify the  OUTPUT-DISPLAY  keyword
   with one or more of the arguments described below.

   The ENABLE  OUTPUT-DISPLAY  command  and  the  DISABLE  OUTPUT-DISPLAY
   command  provides  the  mechanism so that each terminal running OPR at
   your installation can have its own set of messages  appearing  on  its
   terminal.   Below  are  the descriptions of available arguments to the
   OUTPUT-DISPLAY keyword.


   ALL-MESSAGES                      prints all messages.  These messages
                                     include  the  messages  described by
                                     the remaining arguments.   When  you
                                     ENABLE      (or     DISABLE)     the
                                     OUTPUT-DISPLAY of all messages, then
                                     all  operator, system, device, user,
                                     and error messages do  (or  do  not)
                                     appear at the OPR terminal.

   BATCH-MESSAGES                    prints all  the  messages  generated
                                     when  batch job requests are entered
                                     into and processed by the system.
|  
|  BUGCHK-MESSAGES                   prints all BUGCHK messages generated
|                                    by the system.
|  
|  BUGINF-MESSAGES                   prints all BUGINF messages generated
|                                    by the system.

   CARD-PUNCH-MESSAGES               prints all  the  messages  generated
                                     when   users  request  cards  to  be
                                     punched as output from the system.

   CARD-READER-INTERPRETER-MESSAGES  prints all messages  generated  when
                                     cards   are   read  and  interpreted
                                     through the card reader  or  when  a
                                     batch  job  was  submitted  with the
                                     /READER switch specified.

   FILE-RETRIEVAL-MESSAGES           prints all messages  generated  when
                                     users  request a retrieval of a file
                                     that has been archived  or  migrated
                                     to tape.

   MOUNT-MESSAGES                    prints all messages  generated  when
                                     users   request  tape  or  structure
                                     mounts.
                                    1-9
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


   PAPER-TAPE-PUNCH-MESSAGES         prints all messages  generated  when
                                     users    request    paper-tape-punch
                                     output from the system.

   PLOTTER-MESSAGES                  prints all messages  generated  when
                                     users  request  plotter  output from
                                     the system.

   PRINTER-MESSAGES                  prints all messages  generated  when
                                     users request line printer output.

   READER-MESSAGES                   prints all messages  generated  when
                                     jobs  are  entered  into  the system
                                     through  the  card   reader.    Card
                                     reader jobs become batch requests.
|  
|  SYSTEM-MESSAGES                   prints  system  messages  concerning
|                                    system space and operation.

   USER-MESSAGES                     prints all messages  generated  when
                                     users make requests to you using the
                                     PLEASE  program.   These   are   WTO
                                     (Write-to-Operator)  messages,  WTOR
                                     (Write-to-Operator-with-Response)
                                     messages,   or   other  messages  as
                                     defined by the switches below.

|  All above arguments with the exception of BUGCHK, BUGINF,  and  SYSTEM
   have  three  optional  switches.   If  you do not specify one of these
   switches with one of the above arguments, the system assumes all three
   that are described below.

   /INFORMATION-MESSAGES             messages  that  are   informational,
                                     such  as errors that occur due to an
                                     application  problem.    Also,   WTO
                                     messages  are considered information
                                     messages  from  users,  because   no
                                     response is necessary from you.

   /JOB-MESSAGES                     messages  that  notify  you  when  a
                                     device   or   stream  has  begun  to
                                     process a job request and  when  the
                                     job    request    has    ended   its
                                     processing.

   /OPR-ACTION-MESSAGES              messages that  notify  you  of  some
                                     action  to be performed as requested
                                     by a user or a job.   Also  included
                                     are  messages that require action to
                                     be taken, but are not  job  or  WTOR
                                     related.     All   operator   action
                                     messages must be answered  with  the
                                     RESPOND command.













                                    1-10
                        THE OPERATOR INTERFACE, OPR                        THE OPERATOR INTERFACE, OPR


                            ----- Examples -----

        1.  You have OPR at a terminal  for  file  retrievals  and  mount
            requests only.  Since all messages are enabled when you start
            OPR, you can DISABLE the output display of all  messages  and
            then  ENABLE  the  output  display of the file retrievals and
            mount requests.

            OPR>DISABLE OUTPUT-DISPLAY ALL-MESSAGES      
            OPR>
            9:32:14        --Output Display for OPR Modified--
            OPR>ENABLE OUTPUT-DISPLAY FILE-RETRIEVAL-MESSAGES      
            OPR>
            9:32:25        --Output Display for OPR Modified--
            OPR>ENABLE OUTPUT-DISPLAY MOUNT-MESSAGES      
            OPR>
            9:32:37        --Output Display for OPR Modified--
            OPR>

        2.  You have OPR at a terminal for operator action messages only.

            OPR>DISABLE OUTPUT-DISPLAY ALL-MESSAGES /INFORMATION-MESSAGES
             /JOB-MESSAGES      
            OPR>
            10:45:09        --Output Display for OPR Modified--
            OPR>




   1.5  OPR ERROR MESSAGE DESCRIPTIONS   1.5  OPR ERROR MESSAGE DESCRIPTIONS

   When OPR is running, it may print various  error  messages.   All  OPR
   error  messages  begin  with  a  ?   and  are  followed by the message
   explaining the error.  In addition, the ?  does not represent a  fatal
   error in OPR as it does in some other system programs.

   When you receive an error message, you can  press  CTRL/H  (to  retype
   your  OPR  command  up  to  the  point where you entered the incorrect
   keyword, switch, or value)  and  specify  the  correct  input  to  the
   command.   As  with  all  OPR commands, if you do not know the command
   format or you have forgotten the keywords, switches, or values, type a
   ?  and OPR lists the command arguments that you can specify.

   Refer to the TOPS-20 Operator's Command Language Reference Manual  for
   a complete description of all OPR error messages.




















                                    1-11





































































                                    2-1












                                 CHAPTER 2                                 CHAPTER 2

                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS



   The batch system operates under the control of the  TOPS-20  operating
   system  and  increases the efficiency of the system by processing jobs
   that do not require human interaction.  These types of jobs are  those
   that  are  large  and long-running, jobs that require large amounts of
   data, jobs that are frequently  run  for  production,  and  jobs  that
   require no interaction with the user.



   2.1  BATCH SYSTEM COMPONENTS   2.1  BATCH SYSTEM COMPONENTS

   The batch system consists of the following programs:

        1.  OPR

        2.  ORION

        3.  QUASAR

        4.  BATCON

        5.  LPTSPL

        6.  CDRIVE

        7.  SPRINT

        8.  SPROUT

   OPR allows you to communicate with the various batch system components
   and  with the job requests that process jobs on the devices controlled
   by these components.  This  chapter  describes  the  OPR  commands  to
   accomplish these various batch software tasks.

   ORION is the interface between OPR and  all  other  batch  components.
   ORION logs each OPR command it receives and then passes the command to
   the appropriate program.

   QUASAR, the system queue manager, is the heart of  the  batch  system.
   It  is  responsible  for  scheduling  all  batch jobs entered into and
   processed from the system  queues  by  the  components  in  the  batch
   system.

   BATCON, the batch controller, is the system program that initiates and
   controls  the  processing of batch jobs.  QUASAR selects jobs from the
   batch input queue and gives them to BATCON for  processing.   The  OPR
   commands  that  have BATCH-STREAM as an argument are the commands that
   allow you to control batch job processing.



                                    2-1
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   LPTSPL, the line-printer spooler, is a program that handles a specific
   printer  and  all  the  print  requests for the system including those
   submitted through the PRINT command,  spooled  requests  generated  by
   user  programs,  and  batch  job log files.  QUASAR selects jobs to be
   printed according to a variety of parameters.  The OPR  commands  that
   have PRINTER as an argument are the commands that allow you to control
   line printer processing.

   CDRIVE and SPRINT are responsible for the card-reader  input.   CDRIVE
   reads  cards  from the card reader(s), places the data on the cards on
   disk, and queues  a  request  for  SPRINT.   SPRINT  reads  the  data,
   interprets the $JOB card and other control cards, and then creates and
   submits the user's batch job to BATCON.  The OPR  commands  that  have
   READER  as  an  argument or keyword are the commands that allow you to
   control card reader processing.

   SPROUT, the card punch, paper-tape punch, and plotter spooler, is  the
   program  that  handles all the output requests other than line printer
   requests.  QUASAR selects data to be output on these devices according
   to  a  variety  of parameters.  The OPR commands that have CARD-PUNCH,
   PAPER-TAPE-PUNCH, and PLOTTER as arguments are the commands that allow
   you to control the output processing on these devices.



   2.2  BATCH RESPONSIBILITIES   2.2  BATCH RESPONSIBILITIES

   The batch software handles many tasks for  you.   However,  there  are
   still  many  operations  for you to perform in order to keep the batch
   system running efficiently.  These operations  are  important  because
   the  user  is  absent  and  dependent  on you to see that his jobs are
   completed.

   In the batch operating environment, your responsibilities are to:

        1.  Set batch-stream and peripheral parameters.

        2.  Adjust the parameters if necessary.

        3.  Service action requests from user jobs.

        4.  Maintain peripheral devices.

        5.  Get the cards read through the card reader when there  are  a
            large number of batch jobs being submitted on cards.

   If users are submitting batch jobs on card decks, your System  Manager
   should establish for you:

        1.  Where the decks must be placed for submission

        2.  When the decks are read

        3.  Where and when the decks and output are returned to users

   In addition to the above tasks, you should  periodically  examine  the
   queues and be able to modify the requests if necessary.









                                    2-2
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.3  CONTROLLING BATCH STREAMS   2.3  CONTROLLING BATCH STREAMS

   Before any batch request can be processed by the TOPS-20 batch system,
   batch  streams must be started so that the jobs can run.  In addition,
   you must have QUEUE-REQUESTS enabled so that all users can  issue  the
   SUBMIT  and  PRINT  commands.   If QUEUE-REQUESTS is disabled, and you
   give a SUBMIT or PRINT command, you receive a message specifying  that
   QUEUE-REQUESTS  is  disabled,  then  give  the  ENABLE  QUEUE-REQUESTS
   command from OPR command level.

        OPR>ENABLE QUEUE-REQUESTS      
        OPR>

   The following are the OPR commands that allow  you  to  control  batch
   streams:

        1.  SET BATCH-STREAM

        2.  START BATCH-STREAM

        3.  STOP BATCH-STREAM

        4.  CONTINUE BATCH-STREAM

        5.  SHUTDOWN BATCH-STREAM

        6.  SEND BATCH-STREAM

        7.  SHOW PARAMETERS BATCH-STREAM

        8.  SHOW STATUS BATCH-STREAM

   The following sub-sections describe each of the above commands.



   2.3.1  Setting Batch Stream Parameters   2.3.1  Setting Batch Stream Parameters

   Normally, a defined number of batch streams are started  automatically
   at  system start-up by the SYSTEM.CMD file.  This number is determined
   by your System Manager.  However, you might start an additional  batch
   stream when there are more batch jobs than there are timesharing users
   on the system.  The parameters on any batch stream are used  to  limit
   the  use  of  that  stream  to  requests that meet a particular set of
   criteria.  Before you start the batch stream, set the  parameters  for
   the stream.  The default parameters for a batch stream are:

        1.  OPR-INTERVENTION

        2.  PRIORITY-LIMITS 1:63

        3.  TIME-LIMITS 0:600

   The OPR-INTERVENTION  parameter  specifies  that  the  user  can  pass
   messages  to you through the batch job and you can perform the actions
   requested, such as a tape mount or a structure dismount.   If  you  do
   not  want  OPR-INTERVENTION  to be in effect, set the batch stream for
   NO-OPR-INTERVENTION.  Then, any batch request  that  executes  in  the
   stream  and requests operator intervention is logged out automatically
   by the system.






                                    2-3
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   The PRIORITY-LIMITS parameter  allows  you  to  specify  the  priority
   (numeric  importance)  of  a batch stream or a range of batch streams.
   The default limits are from 1 to 63.  The greater the number  is,  the
   higher  the  priority.   If  you set a batch stream to have a priority
   limit of 31:41, only those batch requests submitted  with  a  priority
   limit of 31 to 41 are allowed to execute in that batch stream.

   The TIME-LIMITS parameter allows you to specify the maximum  execution
   time  (in  minutes)  for  a  batch request to execute in the specified
   stream.  The default is from 0 to 3600 minutes.  If a job exceeds  the
   time  limit, it receives an additional 10% of the allotted time before
   the job is canceled automatically by the system.  If you set  a  batch
   stream  to  have  a  time  limit from 0 to 5 minutes, only those batch
   requests that are submitted with a time limit of 5 minutes or less are
   allowed to execute in that batch stream.



                            ----- Example -----

   Set a batch stream for NO-OPR-INTERVENTION with a priority limit of 50
   and a time limit of 90 minutes.

        OPR>SET BATCH-STREAM 7 NOOPR-INTERVENTION<RET>
         9:20:55        Batch-stream 7  --Set Accepted--
        OPR>SET BATCH-STREAM 7 PRIORITY-LIMITS 50<RET>
         9:21:15        Batch-stream 7  --Set Accepted--
        OPR>SET BATCH-STREAM 7 TIME-LIMITS 90<RET>
         9:21:40        Batch-stream 7  --Set Accepted--
        OPR>



   2.3.2  Starting Batch Streams   2.3.2  Starting Batch Streams

   Once you have set the parameters for a particular batch  stream  or  a
   range of batch streams, you can then start the stream(s) so that batch
   requests can be scheduled.  If you do not set any parameters  for  the
   stream,  the stream takes the default values described in the previous
   section.

   You can start one or more batch streams at a time.

   To stop the scheduling of batch job requests in a batch  stream  after
   you have started it, use the SHUTDOWN command.

                            ----- Example -----

   Issue the START BATCH-STREAM command to start up streams 6 and 7.

        OPR>START BATCH-STREAM 6:7 <RET>
        OPR>
        10:00:15        Batch-stream 6  --Startup Scheduled--
        OPR>
        10:00:17        Batch-stream 6  --Started--
        OPR>
        10:00:20        Batch-stream 7  --Startup Scheduled--
        OPR>
        10:00:22        Batch-stream 7  --Started--
        OPR>






                                    2-4
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.3.3  Stopping Batch Streams Temporarily   2.3.3  Stopping Batch Streams Temporarily

   If you ever need to temporarily stop a batch  stream  or  a  range  of
   batch  streams,  use  the STOP command.  The STOP BATCH-STREAM command
   temporarily stops a batch stream from processing a job.  You must  use
   the  CONTINUE  command  to  resume the batch stream.  However, in some
   instances the job cannot be continued, depending upon the  point  when
   you issued the STOP command.

   The STOP command has three optional arguments.  They are:

        1.  AFTER CURRENT-REQUEST

        2.  AFTER EVERY-REQUEST

        3.  IMMEDIATELY

   The IMMEDIATELY argument is the default for the STOP  command.   Refer
   to  the  TOPS-20  Operator's  Command  Language Reference Manual for a
   complete description of these commands.



                            ----- Example -----

   Stop the processing of a job in batch stream 4 temporarily because  it
   is taking too much CPU time.

        OPR>STOP BATCH-STREAM 4<RET>
        OPR>
        11:23:09        Batch-stream 4  --Stopped--
        OPR>



   2.3.4  Continuing Batch Streams   2.3.4  Continuing Batch Streams

   You can give the CONTINUE command to continue the processing of a  job
   (or  jobs)  in  a  batch  stream or a range of batch streams that were
   temporarily stopped with the STOP command.



                            ----- Example -----

   Continue the processing of a job in batch stream 4.

        OPR>CONTINUE BATCH-STREAM 4<RET>
        OPR>
        11:41:18        Batch-stream 4  --Continued--
        OPR>



   2.3.5  Shutting Down Batch Streams   2.3.5  Shutting Down Batch Streams

   If at any time you need to permanently stop a batch stream or a  range
   of  batch  streams,  use  the SHUTDOWN command.  If a job is currently
   processing in the batch stream, the shutdown is  first  scheduled  and
   when that job has been completed, the batch stream is shutdown.






                                    2-5
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   You must issue the START command to start a batch stream after it  has
   been SHUTDOWN.



                            ----- Example -----

   Shutdown batch stream 5 while a job is still processing in it.

        OPR>SHUTDOWN BATCH-STREAM 5<RET>
        OPR>
        13:34:45        Batch-stream 5  --Shutdown Scheduled--
        OPR>

        When the job in the batch stream has  completed  its  processing,
        the following message appears:

        OPR>
        13:38:25        Batch-stream 5  --Shutdown--
        OPR



   2.3.6  Sending Messages to Batch Streams   2.3.6  Sending Messages to Batch Streams

   When you need to send a message to a job in a batch stream,  give  the
   SEND BATCH-STREAM command.  You can specify a single-line message with
   the SEND command or press RETURN immediately after  the  batch  stream
   number  and  enter  as many lines as you need to.  You must then press
   CTRL/Z to terminate  the  SEND  command.   You  cannot  specify  batch
   streams in the SEND command.

                          ----- Restriction -----

   The batch stream to which you send the message must be active.  If the
   batch stream is not active, you receive the following message:

        hh:mm:ss        Batch-stream n  --Not Active--



                            ----- Example -----

   Give the SEND command to notify the job in batch  stream  2  that  the
   requested tape volume cannot be found.

        OPR>SEND BATCH-STREAM 2<RET>
        Enter text and terminate with ^Z
        TAPE VOLUME PAY001 CANNOT BE FOUND IN OPERATIONS<RET>
        BATCH JOB WILL BE CANCELED<RET>
          ^Z
           !
        <CTRL/Z>
                      
        OPR>ABORT BATCH-STREAM 2<RET>
        OPR>
        14:32:09        Batch-stream 2  --Aborted--
                        Job PAY090 Req #159 for ACCOUNTING
                        No Reason Given with ERROR-PROCESSING
        OPR>
        14:32:14        Batch-stream 2  --End--
                        Job PAY090 Req #159 for ACCOUNTING
                        -- Job Aborted by Operator --
        OPR>


                                    2-6
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.3.7  Displaying Batch Stream Parameters   2.3.7  Displaying Batch Stream Parameters

   At any time you can display the current batch stream  parameters  with
   the  SHOW  PARAMETERS  BATCH-STREAM  command  for  one  or  more batch
   streams.  If you do not specify a single stream number or a  range  of
   stream  numbers, the SHOW command defaults to all the batch streams in
   the system.

   The output from the SHOW command displays for each batch stream:

        1.  the number of the batch stream

        2.  the range of processing minutes set for the batch stream

        3.  the priority range set for the batch stream

        4.  whether or not operator intervention has  been  set  for  the
            batch stream

                            ----- Example -----

   Give  the  SHOW  PARAMETERS  BATCH-STREAM  command  to   display   the
   parameters of all current batch streams in the system.

        OPR>SHOW PARAMETERS BATCH-STREAM<RET>
        OPR>
        12:09:33            -- System Device Parameters--

        Batch-stream Parameters:
          Strm     Minutes    Prio  Opr-Intvn
          ----  -----------  -----  ---------
             0      0:10      1:19        Yes
             1      0:10      1:19        Yes
             2      0:11000   1:19        Yes
             3      0:11000  20:63        Yes

        OPR>



   2.3.8  Displaying Batch Stream Status   2.3.8  Displaying Batch Stream Status

   At any time, you can display the status of one or more  batch  streams
   with  the  SHOW  STATUS BATCH-STREAM command.  If you do not specify a
   batch stream number or a range of numbers, the command defaults to all
   batch streams in the system.

   The output from the SHOW command displays for each batch stream:

        1.  the number of the batch stream

        2.  the current status of the batch stream

        3.  the name of the job currently active in the batch stream

        4.  the request-id of the job

        5.  the name of the user who made the job request

   If the batch stream is not active, the  word  "Idle"  appears  in  the
   Status  column with no job name, request-id, or user name.  If none of
   the batch streams are active, only the stream number and status appear
   in the display.



                                    2-7
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   If a stream is active, the display also  shows  the  job  number,  the
   label  which  the job last encountered, and the run time used.  If you
   do not need this additional information with the display of  the  SHOW
   STATUS  BATCH-STREAM  command,  specify  the  /SHORT switch before you
   press RETURN to confirm the command.

                            ----- Example -----

   Give the SHOW STATUS  BATCH-STREAM  command  to  display  the  current
   status of all batch streams in the system.

        OPR>SHOW STATUS BATCH-STREAM<RET>
        OPR>
        19:19:57                -- System Device Status --

        Batch-stream Status:
          Strm      Status       Jobname  Req#            User
          ----  ---------------  -------  ----  ------------------------
             0  Idle           
             1  Active           FDLBLD     59  E.BROWN
                 Job# 18 Running MACRO Last Label: MACRO Runtime 0:00:42
             2  Idle             
             3  Active           PHYCAL     41  MANUFACTURING
                 Job# 31 Running COBOL Runtime 2:31:27

        OPR>



   2.4  CONTROLLING BATCH JOBS   2.4  CONTROLLING BATCH JOBS

   The following are the OPR commands that allow  you  to  control  batch
   jobs that users submit with the TOPS-20 SUBMIT command:

        1.  SHOW QUEUES BATCH-JOBS

        2.  HOLD BATCH-JOBS

        3.  RELEASE BATCH-JOBS

        4.  ABORT (current job on) BATCH-STREAM

        5.  REQUEUE (current job on) BATCH-STREAM

        6.  MODIFY BATCH-REQUEST

        7.  CANCEL BATCH-REQUEST

        8.  NEXT (job on) BATCH-STREAM

   The following sub-sections describe how to use each of these  commands
   to control batch jobs.



   2.4.1  Examining Batch Jobs in the Queues   2.4.1  Examining Batch Jobs in the Queues

   Whenever a user submits a batch job, the job  is  placed  in  a  queue
   where  it  waits  for selection by the batch system for execution.  To
   examine the queues for batch jobs at any time, give  the  OPR  command
   SHOW QUEUES BATCH-JOBS.










                                    2-8
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   The  output  of  the  SHOW  QUEUES  BATCH-JOBS  command  displays  the
   following information for each job that is waiting or running:

        1.  the name of the batch job

        2.  the request-id number of the batch job

        3.  the scheduled run time of the batch job

        4.  the name of the user who submitted the batch job

   These four columns of the display appear  whether  the  batch  job  is
   currently running (active) or not running (not active).

   If the batch job is active in the batch stream, the display  shows  in
   which  stream the job is active, the job number, the last control file
   label encountered by the job, and the run time used.

   The SHOW QUEUES BATCH-JOBS command has four optional switches:

        1.  /NODE:name displays the batch queue of a remote system.

        2.  /ALL adds to the display the switches that the user specified
            with  the SUBMIT command.  If no switches were specified, the
            /ALL switch displays the default switches.  In addition,  the
            /ALL  switch  displays  any  switches that you specified, for
            example, /HOLD.

        3.  /SHORT displays only the job name, the  request  number,  the
            scheduled run time, and the user name.

        4.  /USER:name displays only the batch jobs of a specified user.

                              ----- Hint -----

   The asterisk (*) before the  batch  job  name  column  (see  examples)
   indicates that the job is currently active.

                            ----- Examples -----

        1.  Give the SHOW QUEUES BATCH-JOBS command with the /ALL  switch
            to  display  the  batch  jobs  in  the  queue  with all their
            switches.

            OPR>SHOW QUEUES BATCH-JOBS /ALL <RET>
            OPR>
            15:02:58                -- System Queues Listing --

            Batch Queue:
            Job Name   Req#   Run Time            User
            --------  ------  --------  ------------------------
            * CHKFIM       9  00:05:00  NELSON                In Stream:0
                      /Uniq:Yes  /Restart:No  /Assist:Yes  /Output:Nolog
                      /Batlog:Append  /Seq:2041
                Job 18 Running DIRECT Last label: DIRECT Runtime 0:01:24
            * CISRV       13  00:15:00  CDUNN                 In Stream:3
                      /Uniq:No   /Restart:Yes /Assist:Yes  /Output:Nolog
                      /Batlog:Super   /Prio:20 /Seq:2039
                Job 33 Running MACRO Last label: CONT Runtime 0:02:05
            * BLDMM        5  00:20:00  MCINTEE               In Stream:2
                      /Uniq:Yes  /Restart:Yes  /Assist:Yes  /Output:Nolog
                      /Batlog:Super  /Prio:20  /Seq:2436
                Job 21 Running MACRO Runtime 0:00:54
              DBLDEV      14   01:00:00       MURPHY       /After: 1-Sep-82  0:00
                      /Uniq:Yes  /Restart:Yes  /Assist:Yes  /Output:Nolog
                      /Batlog:Super  /Prio:20  /Seq:2023
            There are 4 jobs in the Queue (3 in Progress)

            OPR>
                                    2-9
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


        2.  Give the SHOW  QUEUES  BATCH-JOBS  command  with  the  /SHORT
            switch.

            OPR>SHOW QUEUES BATCH-JOBS /SHORT<RET>
            OPR>
            19:44:17            -- System Queues Listing --

            Batch Queue:
            * GENSCH    21  00:05:00  FRIES
              SBUILD    29  01:00:00  KIRSCHEN
              WEEKLY    37  00:05:00  OPERATOR
              SPEAR     39  00:05:00  OPERATOR

            OPR>




   2.4.2  Holding Batch Jobs   2.4.2  Holding Batch Jobs

   Whenever you need to prevent a batch job  from  processing,  give  the
   HOLD  BATCH-JOBS  command.   When  you  give this command, the current
   job(s) in the queue (as specified  by  one  of  the  arguments  listed
   below)  is  kept from being processed.  Any batch jobs submitted after
   the HOLD command are not held and are processed when a batch stream is
   available.   You must specify one of the following arguments with this
   command:

        1.  The request-id number, which holds a single batch job

        2.  The user name, which holds all batch jobs submitted  by  that
            user

        3.  An asterisk (*), which holds all batch jobs submitted by  all
            users




                             ----- Hints -----

   You cannot HOLD a batch job  that  is  currently  active  in  a  batch
   stream.



                            ----- Example -----

   Give the HOLD BATCH-JOBS command to hold all batch requests  for  user
|  PURRETTA.

|       OPR>HOLD BATCH-JOBS PURRETTA<RET>
        OPR>
         9:01:54        --6 Jobs Held--
        OPR>











                                    2-10
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.4.3  Releasing Batch Jobs   2.4.3  Releasing Batch Jobs

   You can give the RELEASE command to release a batch job that has  been
   previously  held  with  the  HOLD  command.   You can specify a single
   request-id number, the user name for all jobs  by  that  user,  or  an
   asterisk  (*)  for  all batch jobs in the system.  The RELEASE command
   reschedules the job(s) for processing.

                              ----- Hint -----

   You must have one or more batch streams started or in the  Idle  state
   to get a batch job processed.

                            ----- Example -----

   Give the RELEASE command  to  reschedule  all  batch  jobs  that  were
   previously held.

        OPR>RELEASE BATCH-JOBS *<RET>
        OPR>
        10:38:09        --6 Jobs Released--
        OPR>



   2.4.4  Canceling Batch Jobs   2.4.4  Canceling Batch Jobs

   At various times, you might have to cancel a batch  job  while  it  is
   executing  in a batch stream.  You can give the ABORT command with the
   batch stream number and one or more of the following switches:

        1.  /REQUEST-ID:

        2.  /ERROR-PROCESSING, /NOERROR-PROCESSING, or /PURGE

        3.  /REASON:

   The /REQUEST-ID:  switch uniquely identifies the job to be canceled.

   The  /ERROR-PROCESSING,  /NOERROR-PROCESSING,  and   /PURGE   switches
   specify if there are error recovery procedures provided by the user or
   if the system is to flush the entire job from the system  when  it  is
   canceled.  You can specify only one of these switches.  The default is
   /ERROR-PROCESSING.

   The /REASON:  switch allows you to enter one or more lines of text  to
   explain why the batch job is being canceled.

                            ----- Example -----

   Give the ABORT  command  to  cancel  a  batch  job  that  requested  a
   structure that does not exist.

        OPR>ABORT BATCH-STREAM 0 /REASON:NO SUCH STRUCTURE<RET>
        OPR>
        11:32:08        BATCH-STREAM 0       JOB #45      --ABORTED--
                        Job TEST01 Req #35 for JONES
                        NO SUCH STRUCTURE with ERROR-PROCESSING
        OPR>
        11:32:12        Batch-stream 0  --End--
                        Job TEST01 Req #35 for JONES
                        -- Job Aborted by Operator --
        OPR>



                                    2-11
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.4.5  Requeuing Batch Jobs   2.4.5  Requeuing Batch Jobs

   At various times you might want to cancel a batch job  that  is  being
   processed and then reschedule it to be processed at a later time.  You
   can give the REQUEUE command to HOLD the batch job in its entirety and
   to ABORT its current processing.

   For example, you might want to  REQUEUE  a  batch  job  that  requires
   additional  structures  for  its  processing,  but you do not have any
   available disk drives.  Thus, you REQUEUE the job in its entirety  for
   processing when the disk drives become available.

   You can specify the /REASON switch to explain why  the  job  is  being
   requeued.


                            ----- Example -----

   Give the REQUEUE command to hold a batch job that requests  four  tape
   drives that are not available.

        OPR>REQUEUE BATCH-STREAM 2 /REASON:<RET>
        Enter text and terminate with ^Z
        JOB WILL BE RELEASED LATER WHEN TAPE DRIVES ARE AVAILABLE ^Z
                                                                   !
                                                                <CTRL/Z>
                                                                   
                                                                      
        OPR>
        13:21:03        BATCH-STREAM 2  --REQUEUED--
|                       JOB TAPE01 Req #27 for HACHE
        OPR>
        13:21:05        Batch-stream 2  --End--
|                       Job TAPE01 Req #27 for HACHE
                        -- Job Requeued by Operator--
        OPR>



   2.4.6  Modifying Batch Requests   2.4.6  Modifying Batch Requests

   Whenever you need to change the priority of a batch job request in the
   queue,  give  the  MODIFY  BATCH-REQUEST  command.   You can specify a
   single batch request-id number, a user name for all requests  by  that
   user, or an asterisk (*) for all batch requests in the queue.

   You must specify a new PRIORITY number from 1 to 63.  The  higher  the
   number, the greater the priority.


                            ----- Example -----

   Give the modify command to change the priority of batch request 135 to
   have  a priority of 63.  This causes the request to be the next job to
   be processed.

        OPR>MODIFY BATCH-REQUEST 135 PRIORITY 63<RET>
        OPR>
         8:51:21         --1 Request Modified--
        OPR>






                                    2-12
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.4.7  Deleting Batch Requests   2.4.7  Deleting Batch Requests

   Whenever you need to cancel a batch request from the batch queue, give
   the CANCEL BATCH-REQUEST command.  You can specify a single request-id
   number, a user name for all jobs by that user, or an asterisk (*)  for
   all batch requests in the queue.

   If you CANCEL a batch request that is active in a  batch  stream,  the
   batch  job  is deleted immediately from the batch stream.  In this way
   the CANCEL command is the same as the ABORT  command.   The  log  file
   shows a message indicating that the job was deleted by the operator.


                            ----- Example -----

   Give the CANCEL command to batch request  168  from  the  batch  input
   queue.

        OPR>CANCEL BATCH-REQUEST 168<RET>
        OPR>
        10:25:11        --1 Job Canceled--
        OPR>



   2.4.8  Scheduling the Next Batch Request   2.4.8  Scheduling the Next Batch Request

   Whenever a user requests that his  batch  job  run  next  in  a  batch
   stream, give the next BATCH-STREAM command.


                              ----- Hint -----

   This command requires that you specify a  batch  stream  number.   The
   criteria  for  selecting a batch stream are dependent on your site and
   the immediate status of the batch streams.  If you look at the  active
   jobs in the batch streams, you might recognize a long running job, and
   thus avoid that stream.  Or the user may simply request that  his  job
   run in a certain stream.


                            ----- Example -----

   Give the NEXT command to make request 66 the next job to run in  batch
   stream 0.

        OPR>NEXT BATCH-STREAM 0 REQUEST-ID 66<RET>
        OPR>
        10:43:11  Batch-Stream 0  --  NEXT request #66 scheduled --
        OPR>



   2.5  CONTROLLING THE LINE PRINTER   2.5  CONTROLLING THE LINE PRINTER

   To handle users' requests to have files printed, you must have one  or
   more  line  printers set for the parameters of the users' requests and
   the line printer(s) must be started.  Normally,  the  line  printer(s)
   are  automatically started at system start-up when the SYSTEM.CMD file
   is executed.






                                    2-13
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   After several listings have been printed, you must  remove  them  from
   the  line  printer,  separate  them, and distribute them.  Your System
   Manager should set up the distribution method which includes:

        1.  Where you must put the listings so that users can  pick  them
            up

        2.  When you must distribute them

   The following are the OPR commands that allow you to control the  line
   printer(s) at your installation:

        1.  SET PRINTER

        2.  START PRINTER

        3.  STOP PRINTER

        4.  CONTINUE PRINTER

        5.  SHUTDOWN PRINTER

        6.  SHOW PARAMETERS PRINTER

        7.  SHOW STATUS PRINTER

   The following sub-sections describe each  of  the  above  commands  to
   assist you in the control of line printers.



   2.5.1  Setting the Line Printer   2.5.1  Setting the Line Printer

   Normally, a defined number of line printers are started  automatically
   at system start-up by the SYSTEM.CMD file.  However, you might have to
   start a line printer, for example, when a user requests a printer  for
   his  own use.  Before you start a line printer, you can optionally set
   the parameters for the line printer with the SET PRINTER command.  The
   parameters for this command are:

        1.  FORMS-TYPE

        2.  LIMIT-EXCEEDED-ACTION

        3.  PAGE-LIMITS

        4.  PRIORITY-LIMITS

   These parameters are set  by  your  System  Manager  at  GALGEN  time.
   (Refer  to  the  TOPS-20  Software  Installation  Guide for the GALGEN
   procedures.) When you change  the  FORMS-TYPE,  LIMIT-EXCEEDED-ACTION,
   PAGE-LIMITS,  or  PRIORITY-LIMITS for a printer, the change remains in
   effect until you make another change.

   The FORMS-TYPE parameter specifies the name of the form or the name of
   the  form  type.   The name of the form should be the same as the form
   name in the LPFORM.INI file.  Refer to Part V Section  2.6.1  for  the
   description and use of the LPFORM.INI file.








                                    2-14
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   The LIMIT-EXCEEDED-ACTION parameter specifies  what  action,  if  any,
   should  be  taken if a printer job exceeds the output limit set by the
   user.  You can set this parameter to:

        1.  RESPOND with either IGNORE (to continue  the  print  job)  or
            ABORT (to cancel the print job)

        2.  Always ABORT the print job when the limit has been exceeded

        3.  Always IGNORE the output page limit of the line printer

   The PAGE-LIMITS parameter specifies the  minimum-to-maximum  range  of
   pages allowed to print per job on the line printer.

   The  PRIORITY-LIMITS  parameter  specifies  the  range  of  print  job
   priorities  that  the printer accepts.  For example, if a print job is
   queued with a priority of 19 and there are no line printers that  have
   been  set  to accept a priority of 19, the print request is queued but
   not printed.  The request remains in the  print  queue  until  a  line
   printer has been set to accept that priority.  However, you can change
   the priority number of a print request with the MODIFY  PRINT-REQUESTS
   command (Refer to Part V Section 2.7.6.)



                            ----- Example -----

   Set line printer 0 to print requests with a priority from 1 to 21  and
   a page limit from 1 to 1000.

        OPR>SET PRINTER 0 PRIORITY LIMIT 21<RET>
        OPR>
        12:01:21        Printer 0  --Set Accepted--
        OPR>SET PRINTER 0 PAGE-LIMITS 1000<RET>
        12:01:40        Printer 0  --Set Accepted--
        OPR>



   2.5.2  Starting the Line Printer   2.5.2  Starting the Line Printer

   Once you have set the parameters for one or more  line  printers,  you
   can then start the printer(s) so that print requests can be processed.
   If you do not set any parameters for the printer, the  parameters  are
   the parameters set by your System Manager at GALGEN time.

   You can start one or more line printers at a time.

   To stop the scheduling of jobs on a line  printer,  use  the  SHUTDOWN
   command.


                            ----- Example -----

   Issue the START PRINTER command to start line printer 0.

        OPR>START PRINTER 0<RET>
        OPR>
        10:11:15        Printer 0  --Startup Scheduled--
        OPR>
        10:11:17        Printer 0  --Started--
        OPR>




                                    2-15
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.5.3  Stopping the Line Printer Temporarily   2.5.3  Stopping the Line Printer Temporarily

   If you need to stop one or more line printers, use  the  STOP  PRINTER
   command.   The STOP PRINTER command temporarily stops the line printer
   from printing its current job.  You must give the CONTINUE command  to
   allow the line printer to continue printing the job.

   The STOP command has three optional arguments.  They are:

        1.  AFTER CURRENT-REQUEST

        2.  AFTER EVERY-REQUEST

        3.  IMMEDIATELY

   The IMMEDIATELY argument is the default for the STOP  command.   Refer
   to  the  TOPS-20  Operator's  Command  Language Reference Manual for a
   complete description of these commands.


                            ----- Example -----

   Stop the current job on line printer 2 temporarily in order to  change
   the printer's ribbon.

        OPR>STOP PRINTER 2<RET>
        OPR>
        18:24:09        Printer 2  --Stopped--
        OPR>



   2.5.4  Continuing the Line Printer   2.5.4  Continuing the Line Printer

   You can give the CONTINUE command to  continue  the  processing  of  a
   print  request  on  one  or  more  line printers that were temporarily
   stopped with the STOP command.


                            ----- Example -----

   After stopping the  line  printer  to  change  the  printer's  ribbon,
   continue the processing of the current print job.

        OPR>CONTINUE PRINTER 2<RET>
        OPR>
        18:30:41        Printer 2  --Continued--
        OPR>



   2.5.5  Shutting Down the Line Printer   2.5.5  Shutting Down the Line Printer

   If at any time you need to shut down the scheduling of print  requests
   for  one  or more line printers, use the SHUTDOWN command.  If a print
   request is currently printing on the  line  printer,  the  request  is
   completed before the line printer is shut down.









                                    2-16
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   To start the scheduling of jobs on the line  printer,  use  the  START
   command.

                            ----- Example -----

   Shutdown line printer 2 while a request is still printing on it.

        OPR>SHUTDOWN PRINTER 2<RET>
        OPR>
        19:21:03        Printer 2  --Shutdown at EOJ Scheduled--
        OPR>

   When the request on the line printer has been completed, the following
   message appears:

        OPR>
        19:22:54        Printer 2  --Shutdown--
        OPR>



   2.5.6  Displaying Line Printer Parameters   2.5.6  Displaying Line Printer Parameters

   At any time you can display the current line  printer  parameters  for
   one  or  more  line printers with the SHOW PARAMETERS PRINTER command.
   If you do not specify a single line printer unit number or a range  of
   unit  numbers,  the  SHOW  command  displays  information for all line
   printers on the system.

   The output from the SHOW PARAMETERS PRINTER command displays for  each
   printer:

        1.  The printer unit number

        2.  The page limits set for the line printer

        3.  The type of forms set for the line printer

        4.  The priority range set for the line printer

        5.  The limit-exceeded-action set for the line printer

        6.  The character device type set for the line printer (uppercase
            or lowercase)

                            ----- Example -----

   Give the SHOW PARAMETERS PRINTER command to display the parameters  of
   all line printers on the system.

        OPR>SHOW PARAMETERS PRINTER <RET>
        OPR>
        13:45:20                -- System Device Parameters --

        Printer Parameters:
          Unit     Node     Page Limits    Form   Prio   Lim-Ex  Dev-Chars
          ----  ----------  -----------   ------  -----  ------  ---------
             0      KL2102      1:500     NORMAL  1:63   Ask       Lower
             1      KL2102      1:500     NORMAL  1:63   Ask

        OPR>





                                    2-17
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.5.7  Displaying Line Printer Status   2.5.7  Displaying Line Printer Status

   At any time you can display the status of one or  more  line  printers
   with  the  SHOW  STATUS PRINTER command.  If you do not specify a line
   printer unit number or a range of unit numbers, the  command  displays
   information for all line printers on the system.

   The output from the SHOW STATUS PRINTER command displays:

        1.  The printer unit number

        2.  The current status of the printer

        3.  The name of the job currently active on the printer

        4.  The request-id number for the job

        5.  The name of the user who made the print request

   If the line printer is not active, the  word  "Idle"  appears  in  the
   Status  column with no job name, request-id, or user name.  If none of
   the line printers are active, only the stream number and status appear
   in the display.

   If a printer is active, the display also shows the time that the print
   request started to print and the number of pages printed thus far.  If
   you do not need this information with the display of the  SHOW  STATUS
   PRINTER  command, specify the /SHORT switch before you press RETURN to
   confirm the command.

                            ----- Example -----

   Give the SHOW STATUS PRINTER command to display the current status  of
   all line printers on the system.

        OPR>SHOW STATUS PRINTER <RET>
        OPR>
         8:30:47                -- System Device Status --

        Printer Status:
          Unit     Node         Status       Jobname   Req#             User
          ----  ----------  ---------------  -------  ------  ------------------------
             0       DN200  Idle
             0      KL2102  Active           STRDPY      129  LOMARTIRE
                Started at  8:29:57, printed 0 of 54 pages
             1      KL2102  Offline          CISRV        88  CDUNN
                Started at  3:20:47

        OPR>



   2.6  CONTROLLING FORMS ON THE LINE PRINTER   2.6  CONTROLLING FORMS ON THE LINE PRINTER

   The following are the OPR commands that allow you to control the forms
   on the line printer:

        1.  ALIGN PRINTER

        2.  BACKSPACE PRINTER

        3.  FORWARDSPACE PRINTER

        4.  SUPPRESS PRINTER


                                    2-18
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   You can give the above commands  either  while  the  line  printer  is
   printing  the  job or after you have pressed the ONLINE/OFFLINE key on
   the line printer.  When you put the line printer off-line,  OPR  sends
   the following message to the CTY.

        hh:mm:ss        Printer n  --Offline--

   When you put the  line  printer  on-line,  the  line  printer  resumes
   printing.

   In addition, the SET PRINTER n FORMS-TYPE name command permits you  to
   change  the type of forms on the line printer.  If you specify a forms
   type that does not have an entry in the  LPFORM.INI  file,  the  forms
   characteristics default to:

        1.  /BANNER:2

        2.  /HEADER:2

        3.  /LINES:60

        4.  /VFU:NORMAL

        5.  /WIDTH:132

        6.  /TRAILER:2

   Refer to Part V Section  2.6.1  for  a  complete  description  of  the
   SYS:LPFORM.INI file and its available switches.

   To allow yourself or a user to change the forms on a line printer,  be
   sure you have OPERATOR-IN-ATTENDANCE set.  (See Part V Section 4.1.)

   Note that the LP05 and  LP14  line  printers  have  a  direct  access,
   vertical  format unit.  (Refer to MAKVFU.DOC and MAKVFU.HLP.) However,
   the LP10 line printer uses a standard sprocketed carriage tape for the
   vertical format unit.

   When the first job request starts  to  print,  the  following  message
   appears,  indicating  the  forms  type being loaded into the printer's
   vertical format unit (VFU):

        hh:mm:ss        Print n  --Loading VFU with 'forms-type'--

   This is strictly an informational message  that  appears  because  the
   system reads the LPFORM.INI file when you start a line printer.

   The following sub-sections describe how to use the LPFORM.INI file and
   how to use each of the commands listed above.

















                                    2-19
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.6.1  The LPFORM.INI File   2.6.1  The LPFORM.INI File

   The LPFORM.INI file allows you to set various  printer  parameters  on
   the basis of form names:

   Each line in the LPFORM.INI file is written in the following format:

        formname:locator/switch1/switch2/switch3...

   where:

        formname            is a 1- to 6-character form name.  The system
                            manager  should  specify  form names that are
                            descriptive of the types  of  forms  used  at
                            your installation.

        :locator            is an optional locator field containing:

                            ALL       all devices (the default).

                            LPTnn     a specific line-printer,  where  nn
                                      is the printer number.

                            LOC       all local line printers.

                            REM       line printers at remote stations.

        /switch1...         are one or more switches available to you  to
                            describe the manner in which the forms are to
                            be  used.   Refer  to   Table   2-1   for   a
                            description of the available switches.


     Table 2-1:  LPFORM.INI Switches     Table 2-1:  LPFORM.INI Switches


            Switch                          Meaning            Switch                          Meaning


        /ALIGN:filespec     The filespec specifies the  file  with  the
                            extension  .ALP, which is used to align the
                            forms on the line printer.  If no  filespec
                            is  specified,  the  system  uses  the file
                            whose filespec is the  name  of  the  form.
                            For   example,   /ALIGN   for  NARROW  uses
                            SYS:NARROW.ALP by default.   The  alignment
                            occurs before the requested file is printed
                            and is not repeated  if  multiple  requests
                            for  the same forms occur for the same line
                            printer.

        /BANNER:nn          The value of nn  specifies  the  number  of
                            banner  pages  (job  header pages) desired.
                            The default is 2 pages and may  be  changed
                            with GALGEN.

        /CHAIN:xxx          The  xxx  represents  a 1-  to  6-character
           or               ASCII  string that  specifies  the chain or
        /DRUM:xxx           drum to be used on the printer.  The system
                            types  the switch name and argument on your
                            terminal when the forms are scheduled.   If
                            you  specify  both  the  /CHAIN  and  /DRUM
                            switches  for  the  same   entry   in   the
                            LPFORM.INI  file,  OPR prints only the last
                            one it encounters.

                                    2-20
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


     Table 2-1:  LPFORM.INI Switches (Cont.)     Table 2-1:  LPFORM.INI Switches (Cont.)


            Switch                          Meaning            Switch                          Meaning


        /HEADER:nn          The value of nn  specifies  the  number  of
                            file  header pages desired.  The default is
                            2 pages and may be changed with GALGEN.

        /LINES:nn           The value of nn  specifies  the  number  of
                            lines  that  can  be  printed on each page.
                            The default is 60.  This switch  should  be
                            included  whenever a form type is longer or
                            shorter than the normal 60 lines.

        /NOTE:text          The  text  represents  text  of  up  to  50
                            characters   that  is  typed  on  your  OPR
                            terminal at the time the forms and/or print
                            request are scheduled.

        /RAM:name           The name represents  a  1-  to  6-character
                            ASCII string that specifies the name of the
                            control RAM to be used.   The  /RAM  switch
                            loads   a   special   program  that  allows
                            character translation on the line  printer.
                            If  the  line  printer has a program loaded
                            RAM (DARAM), the system automatically loads
                            it from the file SYS:name.RAM.

                            For example, if your line  printer  doesn't
                            print  left  and  right angle brackets, you
                            could specify a RAM file that would convert
                            angle  brackets  to  square brackets on the
                            line-printer output.

        /RIBBON:name        The name represents  a  1-  to  6-character
                            ASCII  string  that  specifies  the type of
                            ribbon to be used on the line printer.  The
                            system  types  the switch name and argument
                            on your terminal at the time that the forms
                            are scheduled.

        /TAPE:name          The name  represents  a  1- to  6-character
            or              ASCII  string that specifies  the  name  of
        /VFU:name           the vertical forms control tape to be used.
                            If  the  line  printer has a program loaded
                            VFU (DAVFU), the system automatically loads
                            it from the file SYS:name.VFU.  If the line
                            printer does not have a DAVFU,  the  system
                            notifies  you of the need to change the VFU
                            tape.  The default VFU name is NORMAL.

        /TRAILER:nn         The value of nn specifies the number of job
                            trailer  pages  desired.   The default is 2
                            pages and may be changed with GALGEN.

        /WIDTH:nn           The value of nn  specifies  the  number  of
                            characters  per  line  for  the  form.  The
                            default width is 132 if the  /WIDTH  switch
                            is not specified.  The /WIDTH switch should
                            be included whenever  a  form  is  narrower
                            than the standard 14-inch wide paper.



                                    2-21
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   The form name in LPFORM.INI need not be the name of a  physical  form;
   however,  it  ought to specify the type of form (such as NORMAL forms,
   NARROW forms, and so forth).  When a print  request  is  made,  LPTSPL
   compares  the form name associated with the request with the form name
   of the form currently mounted on the line printer.  If the first  four
   characters  of  the name are not the same, then LPTSPL requests you to
   change the forms on the line printer.  If the first four characters of
   the name are the same, then LPTSPL checks the switches associated with
   the requested form name and uses those values when printing the job.

   If the forms type specified by the user is not the same  as  the  form
   that  is  currently  in  the  printer,  the system uses the first four
   characters to check against the LPFORM.INI file.  (This four-character
   uniqueness  can  be  changed  by  GALGEN; the default is four.) If the
   forms type matches one in the file, a  request  is  made  for  you  to
   supply  the  appropriate  form.   If  the  forms  type  is  not in the
   LPFORM.INI file, you receive an error.

   For example, note the following LPFORM.INI file:

        NARROW/HEADER:1/BANNER:1/TRAILER:1
        NARR01/HEADER:0/BANNER:1/TRAILER:1
        NARR02/HEADER:0/BANNER:0/TRAILER:0/NOTE:SPECIAL

   Now, suppose that NARR01 forms  are  currently  mounted  on  the  line
   printer  and  a user makes a print request that requires NARR02 forms.
   The system compares the first four characters of  the  requested  form
   name  (NARR02) with the first four characters of the form name for the
   form that is currently mounted on the line printer (NARR01).   Because
   they  are the same, the system takes the switch values associated with
   NARR01 and applies them to the user's print request.   Therefore,  the
   LPFORM.INI  file  should  contain unique form names for each different
   type or form.  This ensures that the correct forms are mounted when  a
   user submits a print request.

   Each line in LPFORM.INI  can  also  contain  a  locator  field,  which
   specifies  the  parameters  a  form  should have when it is mounted on
   specific line printers.  For example:

        NORMAL:LPT001/HEADER:1/BANNER:1/TRAILER:0
        NORMAL:ALL/HEADER:2/BANNER:2/TRAILER:2

   If form NORMAL is printed on line printer LPT001, it takes  the  forms
   parameters  given  in  the  first  entry  of the LPFORM.INI file shown
   above.  If form NORMAL is printed on any other line printer,  then  it
   takes the forms parameters given in the second entry of the file.




















                                    2-22
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   Note that entries in LPFORM.INI having identical form names but having
   different  locators  must  be  listed  from  specific  locator to more
   general locator.  In the example above, the  entry  specifying  device
   LPT001 for form NORMAL appears before the entry specifying locator ALL
   for the same form name.  This order is important because  LPTSPL  uses
   the  first  entry  in  LPFORM.INI that can be applied to the device on
   which the request is printed.

   Also, note that ALL is the default locator value.  For example,

        NORMAL/switches

   is equivalent to:

        NORMAL:ALL/switches



   2.6.2  Aligning Forms on the Line Printer   2.6.2  Aligning Forms on the Line Printer

   At various times during your daily system operation, you might have to
   align  special  forms for a particular line printer job.  For example,
   you might have to load payroll checks on the  line  printer  for  your
   scheduled payroll process.  The ALIGN command allows you to adjust the
   forms on the line printer as many times as necessary to print the  job
   correctly.

   When you give the ALIGN PRINTER command, the system uses an  alignment
   file that is specified as "formsname.ALP" for the print request, where
   formsname is the name of the form that was  specified  in  the  user's
   print request.  The "formsname.ALP" file contains a pattern applicable
   to the special forms being mounted.  If you do not  want  the  default
   .ALP  file  used,  you can specify another alignment file in the ALIGN
   PRINTER command.  For example, the  file  for  NORMAL  forms  at  your
   installation could be:

        SYS:<SPOOL>NORMAL-ALIGN.ALP

   In addition, the ALIGN PRINTER command  has  three  optional  switches
   that you can specify to:

        1.  Change the number of seconds between the repeat  printing  of
            the .ALP file (/PAUSE:  switch)

        2.  Change the number  of  printing  repeats  of  the  .ALP  file
            (/REPEAT-COUNT:  switch)

        3.  Resume normal printing and stop aligning special forms (/STOP
            switch)

   When you specify either  of  these  switches,  you  are  changing  the
   default  for  the  current  job  on the printer.  When you specify the
   /STOP switch, the printer stops printing the contents of the .ALP file
   and resumes printing the print request.












                                    2-23
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


                            ----- Examples -----

        1.  Give the ALIGN PRINTER command to align  forms  for  a  print
            request  for  payroll  checks.   At  your  installation,  the
            /PAUSE:  switch was set for 10 seconds and the /REPEAT-COUNT:
            switch was set for 25 repeats.  Change the /REPEAT-COUNT:  to
            15.

            OPR>ALIGN PRINTER 0 /REPEAT-COUNT:15<RET>
            OPR>
            12:46:02        Printer 0  --Alignment--
                            Job PAYROL Req #32 for ACCOUNTING
            OPR>

        2.  Give the ALIGN PRINTER command again after you have correctly
            aligned the form for the checks.  Specify the /STOP switch to
            resume the normal printing of the payroll checks.

            OPR>ALIGN PRINTER 0 /STOP<RET>
            OPR>
            12:52:43        Printer 0  --Alignment Stopped--
                            Job PAYROL Req #32 for ACCOUNTING
            OPR>




   2.6.3  Backspacing Forms on the Line Printer   2.6.3  Backspacing Forms on the Line Printer

   At various times, you might have to backspace a particular  file  that
   is  being  printed  on the line printer, such as when the forms become
   jammed in the printing mechanism.  The BACKSPACE command allows you to
   backspace  the  print  file  so  that  the pages of the file that were
   jammed or incorrectly printed can be reprinted.

   With the BACKSPACE PRINTER  command,  you  must  specify  one  of  the
   following switches:
|  
|       1.  /COPIES:  - specifies the  number  of  copies  of  the  print
|           request to backspace.

        2.  /FILE - specifies to backspace 1 file so that it  is  printed
            again.

        3.  /PAGES:  - specifies the number of pages to be backspaced and
            printed again.

   When you give a BACKSPACE PRINTER command, the system first clears the
   printer  buffer  by  printing  its  contents,  and  then executes your
   command.  The number of pages that are printed to clear the buffer are
   included with the number of pages you specify in the BACKSPACE PRINTER
   command.  Therefore, when you specify the /PAGES:  switch, you  should
   add  two  or  three  pages  to  the  total number given as the /PAGES:
   value.












                                    2-24
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


                            ----- Example -----

   Printer 1 has just had a paper jam which has put the printer off-line.
   The following messages appear at your console:

        OPR>
        9:38:18        Printer 1  --Offline--

        9:39:39  <12>  Printer 1  --VFU error--
                        Re-align forms and put on-line
                        Type 'Respond <number> CONTINUE' when ready
        OPR>
   Clear the printer of the jammed pages and re-align the forms.   Before
   you  put  the  printer  on-line, give the BACKSPACE PRINTER command to
   repeat the number of pages that were jammed and add a couple of  pages
   for  the  printer  buffer (the following example describes backspacing
   printer 1 by 25 pages).  Then RESPOND to message <12>.

        OPR>BACKSPACE PRINTER 1 /PAGES:25<RET>
        OPR>
        9:45:06        Printer 1  --Backspaced 25 Pages--

        OPR>RESPOND 12 CONTINUE      
        OPR>

   At this point, the line printer prints the remaining contents  of  the
   printer buffer and then backspaces 25 pages to reprint what was jammed
   or incorrectly printed.



   2.6.4  Forwardspacing Forms on the Line Printer   2.6.4  Forwardspacing Forms on the Line Printer

   At various times, you might have to  forwardspace  a  particular  file
   that  is  being  printed  on  the  line  printer,  such as when a user
   requests only a portion of some file to be printed.  The  FORWARDSPACE
   command allows you to forwardspace the file so that you can save paper
   and print only what is needed.

   With the FORWARDSPACE PRINTER command, you must  specify  one  of  the
   following switches:

        1.  /COPIES:  - specifies the  number  of  copies  of  the  print
|           request to forwardspace.

        2.  /FILE - specifies to forwardspace 1 file in the  print  queue
            so that the file is not printed.

        3.  /PAGES:  - specifies the number of pages of the print request
            that are not printed.

   When you give a FORWARDSPACE PRINTER command, the system first  clears
   the  printer  buffer  by  printing its contents and then executes your
   command.  The number of pages that are printed to clear the buffer  is
   included  with  the  number  of  pages you specify in the FORWARDSPACE
   PRINTER command.  Therefore, when you specify the /PAGES:  SWITCH, YOU
|  SHOULD  SUBTRACT  TWO  OR THREE PAGES TO THE TOTAL NUMBER GIVEN AS THE
   /PAGES:  value.








                                    2-25
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


                            ----- Example -----

   A user issued  the  command  @PRINT  A.TXT,B.TXT,C.TXT,D.TXT  and  has
   requested  you  to forwardspace line printer 2, so that the B.TXT file
   is printed before the A.TXT file is printed.  After the print job  has
   printed  the  header  and  banner pages, you put the printer off-line,
   give the FORWARDSPACE PRINTER command for 1 file,  and  then  put  the
   printer on-line.

        OPR>
        9:38:28        Printer 2  --Offline--

        OPR>FORWARDSPACE PRINTER 2 /FILE<RET>
        OPR>
        9:45:26        Printer 2  --Forwardspaced 1 File--

        OPR>

   At this point, the line printer prints the remaining contents  of  the
   printer buffer and then forwardspaces 1 file of the print job.



   2.6.5  Suppressing Carriage Control on the Line Printer   2.6.5  Suppressing Carriage Control on the Line Printer

   At various times, you might have to suppress the carriage  control  on
   the  line  printer for a particular job, such as when a user's program
   causes a print loop that makes the forms  in  the  line  printer  pass
   through  with  one  line  written  on each form.  The SUPPRESS command
   allows you to suppress the carriage control.

   The SUPPRESS PRINTER command  suppresses  all  blank  lines  and  form
   feeds.   For  example, if you had a 25-page file with one line of text
   per page, the SUPPRESS PRINTER command would cause all  the  lines  of
   text to print on one page.

   With the  SUPPRESS  PRINTER  command,  you  can  specify  one  of  the
   following switches.

        1.  /FILE - suppresses blank lines and form feeds for the current
            file printing.

        2.  /JOB - suppresses blank lines and form feeds for  the  entire
            job printing.

        3.  /STOP - stops the suppression of printing and resumes  normal
            printing with blank lines and form feeds.

   The /JOB switch is the default if you do not specify any of the  above
   switches.
















                                    2-26
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


                            ----- Example -----

   A user's program has caused a print loop.  Give the  SUPPRESS  PRINTER
   command to stop the form feeds, thus saving paper.

        OPR>SUPPRESS PRINTER 1<RET>
        OPR>
        10:43:47        Printer 1  --Carriage control suppressed--
                        Job TEST01 Req #55 for PTAYLOR
        OPR>



   2.7  CONTROLLING LINE PRINTER JOBS   2.7  CONTROLLING LINE PRINTER JOBS

   The following OPR commands allow you to control line printer jobs that
   a  user  queues  either with the processing of a batch job or with the
   TOPS-20 PRINT command:

        1.  SHOW QUEUES PRINTER-JOBS

        2.  HOLD PRINTER-JOBS

        3.  RELEASE PRINTER-JOBS

        4.  ABORT (current job on) PRINTER

        5.  REQUEUE (current job on) PRINTER

        6.  MODIFY PRINTER-REQUEST

        7.  CANCEL PRINTER-REQUEST

        8.  NEXT (job on) PRINTER

   The following sub-sections describe how to use each of these  commands
   to control line printer jobs.



   2.7.1  Examining Printer Jobs in the Queues   2.7.1  Examining Printer Jobs in the Queues

   Whenever a user issues a request for the line printer, the request  is
   placed  in  a  queue  where  it  waits for selection by the system for
   printing.  To examine the queues for print jobs, give the OPR  command
   SHOW QUEUES PRINTER-JOBS.

   The output of the SHOW QUEUES PRINTER-JOBS command displays  for  each
   job:

        1.  The name of the print job

        2.  The request-id number of the print job

        3.  The page limit of the print job

        4.  The name of the user who requested the print job

   These four columns of the display appear  whether  the  print  job  is
   currently printing (active) or is not printing (inactive).

   In addition to the above, if the job is active on  the  line  printer,
   the  display  also shows the line printer unit number on which the job
   is printing, the time that the print job started, and the total number
   of pages printed.

                                    2-27
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   The SHOW QUEUES PRINTER-JOBS command has four optional switches:

        1.  /NODE:name displays the printer queue of a remote system.

        2.  /ALL adds to the display the switches that the user specified
            with  the  PRINT command.  If no switches were specified, the
            /ALL switch displays the default switches.  In addition,  the
            /ALL  switch  displays  any  switches that you specified, for
            example, /HOLD.

        3.  /SHORT displays only the job name, the  request  number,  the
            scheduled run time, and the user name.

        4.  /USER:name displays only the printer job of a specified user.



                              ----- Hint -----

   The asterisk (*) before the job name column (see  examples)  indicates
   that the job is currently printing.

                            ----- Examples -----

        1.  Give the SHOW  QUEUES  PRINTER-JOBS  command  with  the  /ALL
            switch  to  display  the  printer  jobs in the queue with all
            their switches.

            OPR>SHOW QUEUES PRINTER-JOBS /ALL <RET>
            OPR>
            15:06:54                -- System Queues Listing --

            Printer Queue:
            Job Name   Req#    Limit             User
            --------  -----   -------  -------------------------
            * DSR-BE     42      834   DBONIN                  On Unit:0
                      /Seq:852
              Started at 14:48:46, printed 338 of 834 pages
              MS-OUT      47        3  TUCKER                 /Unit:1  /Seq:855
            There are 2 jobs in the queue (1 in progress)

            OPR>

        2.  Give the SHOW QUEUES PRINTER-JOBS  command  with  the  /SHORT
            switch.

            OPR>SHOW QUEUES PRINTER-JOBS /SHORT<RET>
            OPR>
            10:49:07            -- System Queues Listing --

            Printer Queue:
            * DAILY     11     24  OPERATOR
            * TRAP79    12    161  BELANGER
              MF20      13     23  SROBINSON
              WEEKLY    14     17  OPERATOR
              SPEAR     15     10  OPERATOR

            OPR>








                                    2-28
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.7.2  Holding Printer Jobs   2.7.2  Holding Printer Jobs

   Whenever you need to prevent print requests from processing, give  the
   HOLD  PRINTER-JOBS command.  When you give this command, current print
   requests in the queue are held.  Any requests  for  the  line  printer
   queued  after  the  HOLD  command has been issued are not held and are
   processed as soon as a  line  printer  becomes  available.   You  must
   specify one of the following with this command:

        1.  The request-id number, which holds a single printer job

        2.  The user name, which holds all printer jobs  queued  by  that
            user, or

        3.  An asterisk (*), which holds all printer jobs queued  by  all
            users.

                             ----- Hints -----

   You cannot HOLD a printer job that  is  currently  active  on  a  line
   printer.

                            ----- Example -----

   Give the HOLD PRINTER-JOBS command to hold all  printer  requests  for
   user SMITH.

        OPR>HOLD PRINTER-JOBS SMITH <RET>
        OPR>
         8:37:26          -- 2 Jobs Held --
        OPR>



   2.7.3  Releasing Printer Jobs   2.7.3  Releasing Printer Jobs

   You can give the RELEASE command to allow the printing of a  job  that
   has  been  previously  held with the HOLD command or requeued with the
   REQUEUE command.  You can specify a single request-id number, the user
   name  for  all  jobs  by that user, or an asterisk (*) for all printer
   jobs in the system.  The RELEASE command reschedules  the  job(s)  for
   processing.

                              ----- Hint -----

   You must have one or more line printers started or in the  idle  state
   to get a printer job processed.

                            ----- Example -----

   Give the RELEASE command to reschedule  all  printer  jobs  that  were
   previously held.


        OPR>RELEASE PRINTER-JOBS * <RET>
        OPR>
         8:37:52          -- 2 Jobs Released --
        OPR>EX








                                    2-29
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.7.4  Canceling Printer Jobs   2.7.4  Canceling Printer Jobs

   At various times, you might have to cancel a printer job while  it  is
   printing.  You can give the ABORT command with the printer unit number
   and one or more of the following switches:

        1.  /REQUEST-ID:

        2.  /PURGE

        3.  /REASON:

   The /REQUEST-ID:  switch uniquely identifies the job to be canceled.

   The /PURGE switch flushes the entire job from the system  when  it  is
   canceled.   There are no header, banner, or trailer pages printed when
   the print request is purged.

   The /REASON:  switch allows you to enter one or more lines of text  to
   explain why the printer job was canceled.

                            ----- Example -----

   Give the ABORT command to cancel a printer  job  because  a  user  has
   requested that you do so.

        OPR>ABORT PRINTER 1 /REASON:USER REQUEST<RET>
        OPR>
        11:32:08        PRINTER 1  --ABORTING--
                        JOB TEST01 Req #35 for JONES
                        REASON:USER REQUEST
        OPR>
        11:32:12        Printer 1  --End--
                        Job TEST01 Req #35 for JONES
        OPR>



   2.7.5  Requeuing Printer Jobs   2.7.5  Requeuing Printer Jobs

   At various times, you might want to cancel  a  printer  job  and  then
   reschedule it to be printed at a later time.  You can give the REQUEUE
   command to HOLD the printer job in its entirety and ABORT its  current
   printing.  This command can only be used when the job is active.

   For example, you might want to REQUEUE a  printer  job  that  requires
   multiple  boxes  of forms so that it prints at a later time when fewer
   users are requesting printer jobs.  Thus, you REQUEUE the job  in  its
   entirety for printing when the time becomes available.

   In order to have the job start again after it has been  requeued,  you
   must give the OPR command RELEASE.

   You can specify the /REASON switch to explain why  the  job  is  being
   requeued.











                                    2-30
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


                            ----- Example -----

   Give the REQUEUE command to hold a  printer  job  that  requires  four
   hours to print.

        OPR>REQUEUE PRINTER 2 /REASON:<RET>
        Enter text and terminate with ^Z
        JOB REQUIRES FOUR HOURS TO PRINT.<RET>
        JOB WILL BE RELEASED FOR PRINT ON 2ND SHIFT. ^Z
                                                      !
                                                   <CTRL/Z>
        OPR>
        13:21:03        PRINTER 2  --REQUEUED--
                        JOB ARFORM Req #37 for AR.OFFICE
                        Reason:JOB REQUIRES FOUR HOURS TO PRINT.
                        JOB WILL BE RELEASED FOR PRINT ON 2ND SHIFT.^Z
        OPR>
        13:21:25        Printer 2  --End--
                        Job ARFORM Req #37 for AR.OFFICE
        OPR>



   2.7.6  Modifying Printer Requests   2.7.6  Modifying Printer Requests

   Whenever you need to change the priority of a printer job  request  in
   the queue, give the MODIFY PRINTER-REQUEST command.  You can specify a
   single printer request-id number, the user name for  all  requests  by
   that user, or an asterisk (*) for all printer requests in the queue.

   You must specify a new PRIORITY number from 1 to 63.  The  higher  the
   number, the greater the priority.



                            ----- Example -----

   Give the MODIFY command to change the priority of batch request 135 to
   have  a  priority  of  63.  This causes the request to be the next job
   processed.

        OPR>MODIFY PRINTER-REQUEST 135 PRIORITY 63<RET>
        OPR>
        8:51:21        --1 Job Modified--
        OPR>



   2.7.7  Deleting Printer Requests   2.7.7  Deleting Printer Requests

   Whenever you need to delete a printer request from the printer  queue,
   give  the  CANCEL  PRINTER-REQUEST  command.  You can specify a single
   request-id number, the user name for all jobs  by  that  user,  or  an
   asterisk (*) for all printer requests in the system.












                                    2-31
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   When you delete a print request that  is  currently  printing  on  the
   printer,  the  printer  stops  printing  the  data, prints the trailer
   pages, and starts printing the next job in the queue.



                            ----- Example -----

   Give the CANCEL command to delete print request 168 from the queue.

        OPR>CANCEL PRINTER-REQUEST 168<RET>
        OPR>
        10:25:11        --1 Job Canceled--
        OPR>



   2.7.8  Sending Line Printer Output to Tape   2.7.8  Sending Line Printer Output to Tape

   You can send output to a magnetic tape instead of a line printer  with
   the OPR command, START PRINTER nn /DEVICE:MTAn:.

   The advantages for doing this are:

        1.  When your line printers are down due to a  hardware  problem,
            you can spool the output to tape and then copy this output on
            another system where the printer(s) is not down.

        2.  When it is desired to microfiche the output, you can send the
            output to tape instead of printing it on the line printer.

        3.  When you want to transfer the output from one site to another
            or to another system, you can put it on tape.  Transferring a
            tape is easier than mailing or carrying the printed output.

   To perform this task, do the following:

        1.  Type to OPR:

            SET TAPE-DRIVE MTAn: UNAVAILABLE<RET>

            where n is the tape drive unit  number.   (Refer  to  Part  V
            Section   3.5.7   for   additional  information  on  the  SET
            TAPE-DRIVE command.)

        2.  Physically mount and bring on-line a tape on the  tape  drive
            that   has   been  made  UNAVAILABLE.   Make  sure  that  the
            write-ring has been inserted in the tape (WRITE-ENABLED).

        3.  Type to OPR:

            HOLD PRINTER-JOBS *<RET>

            to hold all printer job requests  in  the  printer(s)  queue.
            You  can  specify  the  user's  name  for  all  requests by a
            specific user or a  request-id  number  for  a  single  print
            request.









                                    2-32
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


        4.  Type to OPR:

            START PRINTER nn /DEVICE:MTAn:<RET>

            where nn is a line  printer  unit  number  other  than  those
            already in use and n is the tape drive unit number.

        5.  If you are to print a type of form other than the type when a
            printer  is  started (the default) at your installation, type
            to OPR:.

            SET PRINTER nn FORMS-TYPE forms-name<RET>

            where forms-name is the desired type of form to be spooled to
            the tape.

        6.  Type to OPR:

            RELEASE PRINTER-JOBS *<RET>

            to release those printer job requests that were held.

        7.  When the printer requests have completed being output to  the
            tape, type to OPR:

            SHUTDOWN PRINTER nn<RET>

            to rewind and unload the tape automatically.

        8.  Type to OPR:

            SET TAPE-DRIVE MTAn: AVAILABLE<RET>

            to  make  the  tape  drive  available  for  user  tape  mount
            requests.































                                    2-33
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


                            ----- Example -----

   Start printer 2 on MTA0:   to  output  all  printer  requests  in  the
   printer  queue  for  NARROW forms because there are no NARROW forms at
   your site.

        OPR>SET TAPE-DRIVE MTA0: UNAVAILABLE<RET>
        Enter Text and Terminate with ^Z
        ALL NARROW FORMS WILL BE PRINTED AT ANOTHER SITE.<RET>
        THERE ARE NO NARROW FORMS IN STOCK.^Z
                                            !
                                         <CTRL/Z>
        OPR>
        7:52:19          --Tape Drive Set Unavailable--
                        MTA0: SET UNAVAILABLE FOR ASSIGNMENT BY MOUNTR
        OPR>HOLD PRINTER-JOBS *<RET>
        7:53:45        --10 Jobs Held--
        OPR>START PRINTER 2 /DEVICE:MTA0:<RET>
        7:55:34        Printer 2  --Startup Scheduled--
        OPR>SET PRINTER 2 FORMS-TYPE NARROW<RET>
        7:56:15        Printer 2  --Set Accepted--
        OPR>RELEASE PRINTER-JOBS *<RET>
        7:57:23        --10 Jobs Released--
        OPR>
        7:57:37        Printer 2  --Started--
        OPR>
        7:57:38        Printer 2  --Begin--
                        Job DAILY Req #11 for PAYROLL
        OPR>
        7:58:29        Printer 2  --End--
                        Job DAILY Req #11 for PAYROLL
        7:59:01        Printer 2  --Begin--
                        Job WEEKLY Req #12 for PAYROLL
        OPR>
                        .
                        .
                        .
        OPR>
        8:09:10        Printer 2  --End--
                        Job YEARLY Req #20 for PAYROLL
        OPR>SHUTDOWN PRINTER 2<RET>
        OPR>
        8:10:12        Printer 2  --Shutdown--
        OPR>SET TAPE-DRIVE MTA0: AVAILABLE<RET>
        OPR>
        8:12:30          --Tape Drive Set Available--
                        MTA0: set available for assignment by MOUNTR
        OPR>


















                                    2-34
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.8  CONTROLLING THE CARD READER   2.8  CONTROLLING THE CARD READER

   To handle a user's request to have card decks read into the system for
   batch  processing,  you  must have started one (or possibly more) card
   reader(s)  at  your  installation.   Normally,  the  card  reader   is
   automatically  started  at system start-up when the SYSTEM.CMD file is
   executed.

   Your System Manager should establish the following when you have batch
   users submitting their jobs as card input:

        1.  Where the users place the card decks for submission

        2.  When you load the card decks into the card reader for reading

        3.  Where and when you place the card decks and output  from  the
            batch jobs to return to the users

   The following are the OPR commands that allow you to control the  card
   reader(s) at your installation:

        1.  START READER

        2.  STOP READER

        3.  CONTINUE READER

        4.  SHUTDOWN READER

        5.  SHOW STATUS READER

   The following sub-sections describe each  of  the  above  commands  to
   assist you in the control of card reader(s).



   2.8.1  Starting the Card Reader   2.8.1  Starting the Card Reader

   In order for you to load and read cards through the card  reader,  you
   must  start  the  card reader with the START READER command.  Starting
   the card reader allows batch card jobs to be scheduled for  processing
   in the TOPS-20 batch system.  You can specify one or more unit numbers
   with the START command.

   To stop the scheduling of card batch jobs on a card  reader,  use  the
   SHUTDOWN command.



                            ----- Example -----

   Issue the START READER command to start up card reader 0.

        OPR>START READER 0<RET>
        OPR>
        10:11:15        Reader 0  --Startup Scheduled--
        OPR>
        10:11:17        Reader 0  --Started--
        OPR>







                                    2-35
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.8.2  Stopping the Card Reader   2.8.2  Stopping the Card Reader

   If you need to stop one or more card readers, use  the  STOP  command.
   The  STOP  READER  command  temporarily  stops  the  card  reader from
   processing its current job.  You must give  the  CONTINUE  command  to
   allow the card reader to continue reading the input job.

   The STOP command has three optional arguments.  They are:

        1.  AFTER CURRENT-REQUEST

        2.  AFTER EVERY-REQUEST

        3.  IMMEDIATELY

   The IMMEDIATELY argument is the default for the STOP  command.   Refer
   to  the  TOPS-20  Operator's  Command  Language Reference Manual for a
   complete description of these commands.

                            ----- Example -----

   Stop the current job on card reader 0 temporarily to fix a card in the
   deck that was accidentally folded.

        OPR>STOP READER 0<RET>
        OPR>
        18:24:09        Reader 0  -- Shutdown at EOJ Scheduled --
        OPR>



   2.8.3  Continuing the Card Reader   2.8.3  Continuing the Card Reader

   You can give the CONTINUE command to continue one or more card readers
   that were temporarily stopped with the STOP command.

                            ----- Example -----

   After stopping the card reader to fix  a  folded  card,  continue  the
   current card reader job.

        OPR>CONTINUE READER 0<RET>
        OPR>
        18:30:41        Reader 0  --Continued--
        OPR>



   2.8.4  Shutting Down the Card Reader   2.8.4  Shutting Down the Card Reader

   If at any time you need to shutdown  the  scheduling  of  card  reader
   requests, use the SHUTDOWN command.  If a card reader job is currently
   being read from the card reader, the request is completed  before  the
   card reader is shutdown.

   To start the scheduling of jobs on the card reader, use  the  SHUTDOWN
   command.









                                    2-36
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


                            ----- Example -----

   Shutdown card reader 0 while a request is still being  read  into  the
   system.

        OPR>SHUTDOWN READER 0<RET>
        OPR>
        19:21:01        Reader 0  --Shutdown at EOJ Scheduled--
        OPR>

   When the batch card job has completed being read into the system,  the
   following message appears:

        OPR>
        19:22:44        Reader 0  --Shutdown--
        OPR>



   2.8.5  Displaying Card Reader Status   2.8.5  Displaying Card Reader Status

   At any time you can display the status of one  or  more  card  readers
   with  the  SHOW STATUS READER command.  If you do not specify a number
   or a range of unit numbers, the default is all  card  readers  on  the
   system.

   The output from the SHOW STATUS READER command displays:

        1.  The card reader unit number

        2.  The current status of the card reader (either idle or active)

   If the card reader is active, there is currently a deck of cards being
   read  into  the  system.   The  system  does not recognize a job name,
   request-id, or user name until the last card of the deck has been read
   and the card reader is idle.  At this time, the card deck has become a
   job request with a request-id number and can  be  displayed  with  the
   SHOW QUEUES BATCH-JOBS command.

                            ----- Example -----

   Give the SHOW STATUS READER command to display the current  status  of
   the card reader at your installation.

        OPR>SHOW STATUS READER<RET>
        OPR>
        13:51:39            -- System Device Status --

        Reader Status:
          Unit      Status     
          ----  ---------------
             0  Active
        OPR>













                                    2-37
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.9  CONTROLLING CARD READER JOBS   2.9  CONTROLLING CARD READER JOBS

   Because a card reader job becomes a batch input queue request when the
   last  card  of the job (EOJ card) is read, you can only abort the card
   job while it is being read into the system.

   At various times you might have to cancel the  card  job  being  read,
   such  as  when a card jam occurs in the card reader.  You can give the
   ABORT READER command by specifying the reader unit  number  to  cancel
   the job before it becomes a job request in the batch input queue.

   In addition, you can specify a reason with the /REASON:  switch as  to
   why the job was canceled.

                            ----- Example -----

   Give the ABORT to cancel a card reader job because of a  massive  card
   reader jam.

        OPR>ABORT READER 0 /REASON:CARD JAM<RET>
        OPR>
        12:32:09        Reader 0  --Aborting--
                        REASON:CARD JAM
        OPR>










































                                    2-38
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.10  CONTROLLING OTHER OUTPUT DEVICES   2.10  CONTROLLING OTHER OUTPUT DEVICES

   The commands and descriptions in this section are applicable  only  if
   you have the hardware available at your installation site.

   Other output devices available to users are:

        1.  CARD-PUNCH

        2.  PAPER-TAPE-PUNCH

        3.  PLOTTER

   If your installation has one or more of these output devices, you must
   have the parameters set so that the user(s) requests can be processed.
   Normally,  if  your  installation  has   these   devices,   they   are
   automatically  started  at system start-up when the SYSTEM.CMD file is
   executed.

   When the output from the card punch, paper-tape punch, and plotter has
   been  completed,  you  must remove the output and distribute it.  Your
   System Manager should set up the distribution method which includes:

        1.  Where you must put the output so that users can pick it up

        2.  When you must distribute the output

   The following commands are the OPR commands that allow you to  control
   the card punch, paper-tape punch, and plotter at your installation:

        1.  SET output device

        2.  START output device

        3.  STOP output device

        4.  CONTINUE output device

        5.  SHUTDOWN output device

        6.  SHOW PARAMETERS output device

        7.  SHOW STATUS output device

   where output device can be CARD-PUNCH, PAPER-TAPE-PUNCH, or PLOTTER.

   The following sub-sections describe each  of  the  above  commands  to
   assist you in the control of these output devices.


















                                    2-39
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.10.1  Setting Output Devices   2.10.1  Setting Output Devices

   Normally, a defined number of output devices  are  started  at  system
   start-up  by the SYSTEM.CMD file.  However, you might have to start an
   output device (for example, the card punch) when  a  user  requests  a
   card  punch  job.   Before  you  start  an  output device (CARD-PUNCH,
   PAPER-TAPE-PUNCH, or PLOTTER), you can set  the  parameters  for  that
   device.  The parameters for these three devices are:

        1.  FORMS-TYPE name

        2.  LIMIT-EXCEEDED-ACTION word

        3.  OUTPUT-LIMIT number

        4.  PRIORITY-LIMITS range

   Where "name" is the name of the output device form.   The  default  is
   NORMAL  and  is  defined  in the SPFORM.INI file for each device type.
   (Refer to Part V Section 2.10.2.)

   The "word" of  the  LIMIT-EXCEEDED-ACTION  parameter  refers  to  what
   action,  if  any,  should  be  taken  if  the device that is currently
   processing the job request exceeds the output limit.  You can set this
   parameter to:

        1.  RESPOND with either IGNORE the limit for the  output  job  or
            ABORT to cancel the output job

        2.  Always ABORT the output job when the limit has been exceeded

        3.  Always IGNORE the set output limit of the device

   The "number" of the OUTPUT-LIMIT parameter refers to the following:

        1.  Number of cards for the CARD-PUNCH

        2.  Number of folds for the PAPER-TAPE-PUNCH

        3.  Number of units for the PLOTTER

   These parameters default to the following if they are not included  in
   the SYSTEM.CMD file at system start-up:

        1.  500 cards for the CARD-PUNCH

        2.  500 units for the PAPER-TAPE-PUNCH

        3.  500 units for the PLOTTER

   The "range" of the PRIORITY-LIMITS parameter refers to a range of  job
   priority  numbers  the  output  device  accepts.  The default priority
   range is 1:63.  For example,  if  an  output  job  is  queued  with  a
   priority of 19 and there are no devices for the request that have been
   set to accept a priority of 19, the request is not  output  until  you
   change the priority range for the device.  You can change the priority
   number of the job request with the MODIFY command  (refer  to  Part  V
   Section 2.11.6).

   When  you  set  an   output   device   to   change   the   FORMS-TYPE,
   LIMIT-EXCEEDED-ACTION,  OUTPUT-LIMIT,  or  PRIORITY-LIMITS, the change
   remains in effect until you make another change.




                                    2-40
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


                            ----- Examples -----

        1.  Set the priority limits for the  paper-tape  punch  to  be  a
            range of 20:63.

            OPR>SET PAPER-TAPE-PUNCH 0 PRIORITY-LIMITS 20:63<RET>
            OPR>
            11:34:09        Paper-tape-punch  --Set Accepted--
            OPR>

        2.  Set the limit exceeded action for the job  currently  on  the
            card punch to be ignored.

            OPR>SET CARD-PUNCH 0 LIMIT-EXCEEDED-ACTION IGNORE<RET>
            OPR>
            12:23:18        Card-punch 0  --Set Accepted--
            OPR>




   2.10.2  The SPFORM.INI File   2.10.2  The SPFORM.INI File

   The forms handler for the output devices CARD-PUNCH, PAPER-TAPE-PUNCH,
   and  PLOTTER  allows you to automatically set various forms parameters
   on the basis of form names.  To accomplish this, you  or  your  system
   manager must set up a file on SYS:  called SPFORM.INI which contains a
   list of form names and switch settings for those forms.

   Each line in the SPFORM.INI file is written in the following format:

        devtyp formname:locator/switch1/switch2/switch3...

   where:

        devtyp              the device type for which this line  applies.
                            The allowable types are as follows:

                            CDP for the card punch
                            PTP for the paper-tape punch
                            PLT for the plotter

        formname            a 1- to 6-character form name.  You  or  your
                            system  manager  should  specify  unique form
                            names that are descriptive of  the  types  of
                            forms used at your installation.

        :locator            an optional locator field containing:

                            ALL       all devices (the default)
                            LOC       all devices at the local site
                            REM       all devices at remote stations

        /switch1...         one or more  switches  available  to  you  to
                            describe the manner in which the forms are to
                            be used.  Refer to Tables 2-2 and 2-3  for  a
                            description of switches.  Table 2-2 describes
                            the four switches that can be  used  for  all
                            the output device types.  Table 2-3 describes
                            the four switches that can be used  only  for
                            the plotter (PLT:).





                                    2-41
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   Table 2-2:  SPFORM.INI Switches for All Device Types   Table 2-2:  SPFORM.INI Switches for All Device Types


       Switch                               Meaning       Switch                               Meaning


     /BANNER                specifies  whether  banner  units  will  be
                            output.

     /HEADER                specifies  whether  header  units  will  be
                            output.

     /NOTE:xxx              The xxx represents  a  text  of  up  to  50
                            characters  that  are  printed  on  the OPR
                            terminal  at  the  time   the   forms   are
                            scheduled.  There is no default.

     /TRAILER               specifies whether  trailer  units  will  be
                            output.



   Table 2-3:  SPFORM.INI Switches for Plotter Devices Only   Table 2-3:  SPFORM.INI Switches for Plotter Devices Only


        Switch                             Meaning        Switch                             Meaning


     /MAXIMUM:xx:yy         specifies the  maximum  form  size  in  the
                            horizontal  (xx)  and  vertical  (yy) axis.
                            The values of xx and  yy  are  measured  in
                            units; the unit size is defined by the /SPU
                            switch.  The plotter, when mounted with the
                            specified  type  of form, will accept plots
                            no larger than the  values  of  xx  and  yy
                            indicate.

     /MINIMUM:xx:yy         specifies the  minimum  form  size  in  the
                            horizontal  (xx)  and  vertical  (yy) axis.
                            The values of xx and  yy  are  measured  in
                            units; the unit size is defined by the /SPU
                            switch.  The plotter, when mounted with the
                            specified  type  of form, will accept plots
                            no smaller than the values  of  xx  and  yy
                            indicate.





















                                    2-42
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   Table 2-3:  SPFORM.INI Switches for Plotter Devices Only (Cont.)   Table 2-3:  SPFORM.INI Switches for Plotter Devices Only (Cont.)


       Switch                               Meaning       Switch                               Meaning


     /SPU:nnn               specifies the Steps Per Unit.  A step is  a
                            measurement   length   as  defined  in  the
                            hardware manual  for  the  device  at  your
                            installation.   The  value of nnn should be
                            step-sizennn=one  unit.   For  example,  to
                            define  an  inch as the unit if the plotter
                            step is .01 inches, use /SPU:100.

                                    NOTE

           Refer to the hardware owner's manual for  the  plotter
           device  at your installation before entering a line in
           the SPFORM.INI file for the plotter because there  are
           many different types of plotters.

   The form name in SPFORM.INI need not be the actual name of a  physical
   form; however, it usually is close to the type of form (such as normal
   forms, narrow forms, and so forth).  When a device  request  is  made,
   SPROUT  compares  the  form  name associated with the request with the
   form name of the form currently mounted on the output device.  If  the
   first  four  characters  of the name are not the same, then the system
   requests you to change the forms on the output device.  If  the  first
   four  characters  are  the  same,  then  the  system simply checks the
   switches associated with the requested form name and uses those values
   when  processing  the  output  job.  The number of characters that the
   system uses to compare the form name can be changed by running GALGEN;
   the default is four characters.

   For example, note the following SPFORM.INI file:

        CDP NORMAL/HEADER/BANNER/TRAILER
        CDP NORM01/HEADER/BANNER/TRAILER
        CDP NORM02/HEADER/BANNER/TRAILER/NOTE:SPECIAL

   Now, suppose that NORM01 forms are currently mounted on the card punch
   and  a  user makes a punch request that requires NORM02 forms.  SPROUT
   compares the first four characters of the requested form name (NORM02)
   with  the  first four characters of the form name for the form that is
   currently mounted in the card punch (NORM02).  Because  they  are  the
   same,  SPROUT  takes  the  switch  values  associated  with NORM01 and
   applies them to the user's punch request.  Therefore,  the  SPFORM.INI
   file should have a unique name for each type of form.

   Each line  in  SPFORM.INI  can  also  contain  a  locator  field  that
   specifies  the  location  of  the output device.  The locator ALL (the
   default) refers to all of the devices as specified by the device type.
   The   locators   CENTRAL  and  REMOTE  are  applicable  only  if  your
   installation has TOPS-20 network software.












                                    2-43
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.10.3  Starting Output Devices   2.10.3  Starting Output Devices

   Once you have set the parameters for the  particular  output  devices,
   you  must start the device so that output requests can be processed on
   them.  If you do not set any parameters for  the  device,  the  device
   uses the default parameters set by your System Manager at GALGEN time.

   You can start one output device at a time or a range of devices.

   To stop the scheduling of jobs on an output device, use  the  SHUTDOWN
   command.


                            ----- Example -----

   Issue the START CARD-PUNCH command to start up card punch 0.

        OPR>START CARD-PUNCH 0<RET>
        OPR>
        10:23:21        Card-punch 0  --Startup Scheduled--
        OPR>
        10:23:25        Card-punch 0  --Started--
        OPR>



   2.10.4  Stopping Output Devices   2.10.4  Stopping Output Devices

   If you ever need or want to stop one or more output devices,  use  the
   STOP  command.   The  STOP  command temporarily stops an output device
   from processing its current job.  You must use the CONTINUE command to
   resume the output to the device.

   The STOP command has three optional arguments.  They are:

        1.  AFTER CURRENT-REQUEST

        2.  AFTER EVERY-REQUEST

        3.  IMMEDIATELY

   The IMMEDIATELY argument is the default for the STOP  command.   Refer
   to  the  TOPS-20  Operator's  Command  Language Reference Manual for a
   complete description of these commands.


                            ----- Example -----

   Stop the current job on card punch 0 temporarily  to  load  more  card
   forms and empty its hopper.

        OPR>STOP CARD-PUNCH 0<RET>
        OPR>
        18:24:09        Card-punch 0  --Stopped--
        OPR>











                                    2-44
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   2.10.5  Continuing Output Devices   2.10.5  Continuing Output Devices

   You can give the CONTINUE command to  continue  processing  an  output
   device request that was temporarily stopped with the STOP command.


                            ----- Example -----

   After stopping the card punch to load more cards and empty the hopper,
   continue the output of the current punch job.

        OPR>CONTINUE CARD-PUNCH 0<RET>
        OPR>
        18:35:41        Card-punch 0  --Continued--
        OPR>



   2.10.6  Shutting Down Output Devices   2.10.6  Shutting Down Output Devices

   If at any time you need to shutdown the scheduling of output  requests
   on  an output device or on a range of output devices, use the SHUTDOWN
   command.  If an output request is currently  being  processed  on  the
   device, the request is completed before the output device is shutdown.

   To start the scheduling of jobs on the output device,  use  the  START
   command.


                            ----- Example -----

   Shutdown paper-tape punch 0 while a request is still being  output  on
   it.

        OPR>SHUTDOWN PAPER-TAPE-PUNCH 0<RET>
        OPR>
        19:21:03        Paper-tape-punch 0  --Shutdown Scheduled--
        OPR>

   When the request on the paper-tape punch has completed its output, the
   following message appears:

        OPR>
        19:23:55        Paper-tape-punch 0  --Shutdown--
        OPR>



   2.10.7  Displaying Output Device Parameters   2.10.7  Displaying Output Device Parameters

   You can display the current output device  parameters  with  the  SHOW
   PARAMETERS device command, where device can be:

        1.  CARD-PUNCH unit-number

        2.  PAPER-TAPE-PUNCH unit-number

        3.  PLOTTER unit-number

   If you do not specify a unit number with the  device  name,  the  SHOW
   command defaults to all units of the device that you specified.





                                    2-45
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   The output from  the  SHOW  PARAMETERS  device  command  displays  the
   following for each of the three devices listed above:

        1.  The unit number for the output device

        2.  The output limits for the output device

        3.  The type of forms for the output device

        4.  The priority range for the output device

        5.  The limit-exceeded-action for the output device

        6.  The character device type for the output device

                            ----- Example -----

   Give the SHOW  PARAMETERS  PAPER-TAPE-PUNCH  command  to  display  the
   parameters of paper-tape punch 0 on the system.

        OPR>SHOW PARAMETERS PAPER-TAPE-PUNCH<RET>
        OPR>
        13:09:42            -- System Device Parameters--

        Papertape Parameters:
          Unit  Min:Max Unit   Form    Prio  Lim-Ex  Dev-Chars
          ----  ------------  ------  -----  ------  ---------
             0      1:500    NORMAL   1:63     Ask

        OPR>



   2.10.8  Displaying Output Device Status   2.10.8  Displaying Output Device Status

   You can display the status of an output device or a  range  of  output
   devices  with the SHOW STATUS device command.  If you do not specify a
   unit  number  or  a  range  of  unit  numbers,  the  command  displays
   information for all of the specified devices on the system.

   The output from the SHOW STATUS device command displays the  following
   for each device:

        1.  The unit number of the output device

        2.  The current status of the output device

        3.  The job name currently active on the output device

        4.  The request-id number of the job

        5.  The name of the user who made the output request

   If the output device is not active, the word  "Idle"  appears  in  the
   Status  column  with no jobname, request-id, or user name.  If none of
   the devices are active, only the unit number and status appears in the
   display.









                                    2-46
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   If an output device is active, the output also shows the time that the
   output  request  started  and the number of output cards or units thus
   far.  If you do not need this information with the display of the SHOW
   STATUS  device  command,  specify  the  /SHORT switch before you press
   RETURN to confirm the command.

                            ----- Example -----

   Give the SHOW STATUS CARD-PUNCH command to display the current  status
   of card punch 0 on the system.

        OPR>SHOW STATUS CARD-PUNCH 0<RET>
        OPR>
        13:51:39            -- System Device Status --

        Card-Punch Status:
          Unit      Status       Jobname  Req#            User
          ----  ---------------  -------  ----  ------------------------
             0  Active          PUNCH9    137  HEISER
                Started at 13:35:23, punched 687 of 2000 cards
        OPR>



   2.11  CONTROLLING JOBS ON OUTPUT DEVICES   2.11  CONTROLLING JOBS ON OUTPUT DEVICES

   The following are the OPR commands that allow you  to  control  output
   device  jobs  that a user queues either with the processing of a batch
   job or with the TOPS-20 PUNCH or PLOT command:

        1.  SHOW QUEUES device-JOBS

        2.  HOLD device-JOBS

        3.  RELEASE device-JOBS

        4.  ABORT (Current Job on) device

        5.  REQUEUE (Current Job on) device

        6.  MODIFY device-REQUEST

        7.  CANCEL device-REQUEST

   Where "device" can be CARD-PUNCH, PAPER-TAPE-PUNCH, or PLOTTER.

   The following sub-sections describe how to use each of these  commands
   to control output device jobs.



   2.11.1  Examining Output Device Jobs in the Queues   2.11.1  Examining Output Device Jobs in the Queues

   Whenever a user issues a request to an output device job, the  request
   is  placed  in  a queue where it waits for selection by the system for
   processing.  To examine the queues for output  device  requests,  give
   the OPR command SHOW QUEUES device-JOBS.









                                    2-47
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


   The output of the SHOW QUEUES device-JOBS command displays:

        1.  The name of the output job

        2.  The request-id number of the output job

        3.  The output limit of the job

        4.  The name of the user who requested the output job

   These four columns of the display appear whether  the  output  job  is
   currently   being   processed  (active)  or  is  not  being  processed
   (inactive).

   In addition to the above, if the output is active on the  device,  the
   display  shows  the  device  unit  number  on  which  the job is to be
   processed, the time that the output started, and the total  number  of
   cards or units processed.

   The SHOW QUEUES device-JOBS command has four optional switches:

        1.  /NODE:name displays the device queue of a remote system.

        2.  /ALL adds to the display the switches that the user specified
            with  the  PUNCH  or  PLOT  command.   If  no  switches  were
            specified, the /ALL switch displays the default switches.  In
            addition,  the  /ALL  switch  displays  any switches that you
            specified, for example, /HOLD.

        3.  /SHORT displays only the job name, the  request  number,  the
            scheduled run time, and the user name.

        4.  /USER:name displays only the device jobs of a specified user.

































                                    2-48
                            BATCH SOFTWARE TASKS                            BATCH SOFTWARE TASKS


                              ----- Hint -----

   The asterisk (*) before the job name column (see  examples)  indicates
   that the job is currently being processed.



                            ----- Examples -----

        1.  Give the SHOW  QUEUES  PLOTTER-JOBS  command  with  the  /ALL
            switch  to  display  the  plotter  jobs in the queue with all
            their switches.

            OPR>SHOW QUEUES PLOTTER-JOBS /ALL<RET>
            OPR>
            10:49:07            -- System Queues Listing --

            Plotter Queue:
            Job Name  Req#  Li